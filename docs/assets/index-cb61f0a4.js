(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function gv(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function pv(t){if(Te(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=_t(r)?zP(r):pv(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(_t(t))return t;if(dt(t))return t}}const BP=/;(?![^(]*\))/g,UP=/:([^]+)/,$P=/\/\*.*?\*\//gs;function zP(t){const e={};return t.replace($P,"").split(BP).forEach(n=>{if(n){const r=n.split(UP);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ai(t){let e="";if(_t(t))e=t;else if(Te(t))for(let n=0;n<t.length;n++){const r=ai(t[n]);r&&(e+=r+" ")}else if(dt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const qP="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jP=gv(qP);function rS(t){return!!t||t===""}const dn=t=>_t(t)?t:t==null?"":Te(t)||dt(t)&&(t.toString===aS||!Oe(t.toString))?JSON.stringify(t,iS,2):String(t),iS=(t,e)=>e&&e.__v_isRef?iS(t,e.value):ha(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:sS(e)?{[`Set(${e.size})`]:[...e.values()]}:dt(e)&&!Te(e)&&!lS(e)?String(e):e,at={},da=[],vr=()=>{},HP=()=>!1,KP=/^on[^a-z]/,Uh=t=>KP.test(t),vv=t=>t.startsWith("onUpdate:"),Gt=Object.assign,yv=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},GP=Object.prototype.hasOwnProperty,qe=(t,e)=>GP.call(t,e),Te=Array.isArray,ha=t=>$h(t)==="[object Map]",sS=t=>$h(t)==="[object Set]",Oe=t=>typeof t=="function",_t=t=>typeof t=="string",wv=t=>typeof t=="symbol",dt=t=>t!==null&&typeof t=="object",oS=t=>dt(t)&&Oe(t.then)&&Oe(t.catch),aS=Object.prototype.toString,$h=t=>aS.call(t),WP=t=>$h(t).slice(8,-1),lS=t=>$h(t)==="[object Object]",bv=t=>_t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bd=gv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},YP=/-(\w)/g,ar=zh(t=>t.replace(YP,(e,n)=>n?n.toUpperCase():"")),QP=/\B([A-Z])/g,Za=zh(t=>t.replace(QP,"-$1").toLowerCase()),Ci=zh(t=>t.charAt(0).toUpperCase()+t.slice(1)),_d=zh(t=>t?`on${Ci(t)}`:""),gc=(t,e)=>!Object.is(t,e),Ed=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},qd=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Pg=t=>{const e=parseFloat(t);return isNaN(e)?t:e},XP=t=>{const e=_t(t)?Number(t):NaN;return isNaN(e)?t:e};let Fb;const JP=()=>Fb||(Fb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Un;class cS{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Un,!e&&Un&&(this.index=(Un.scopes||(Un.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Un;try{return Un=this,e()}finally{Un=n}}}on(){Un=this}off(){Un=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function _v(t){return new cS(t)}function ZP(t,e=Un){e&&e.active&&e.effects.push(t)}function eN(){return Un}function lr(t){Un&&Un.cleanups.push(t)}const Ev=t=>{const e=new Set(t);return e.w=0,e.n=0,e},uS=t=>(t.w&us)>0,dS=t=>(t.n&us)>0,tN=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=us},nN=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];uS(i)&&!dS(i)?i.delete(t):e[n++]=i,i.w&=~us,i.n&=~us}e.length=n}},jd=new WeakMap;let zl=0,us=1;const Ng=30;let fr;const lo=Symbol(""),Dg=Symbol("");class Iv{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ZP(this,r)}run(){if(!this.active)return this.fn();let e=fr,n=ss;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=fr,fr=this,ss=!0,us=1<<++zl,zl<=Ng?tN(this):Vb(this),this.fn()}finally{zl<=Ng&&nN(this),us=1<<--zl,fr=this.parent,ss=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fr===this?this.deferStop=!0:this.active&&(Vb(this),this.onStop&&this.onStop(),this.active=!1)}}function Vb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ss=!0;const hS=[];function el(){hS.push(ss),ss=!1}function tl(){const t=hS.pop();ss=t===void 0?!0:t}function On(t,e,n){if(ss&&fr){let r=jd.get(t);r||jd.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Ev()),fS(i)}}function fS(t,e){let n=!1;zl<=Ng?dS(t)||(t.n|=us,n=!uS(t)):n=!t.has(fr),n&&(t.add(fr),fr.deps.push(t))}function yi(t,e,n,r,i,s){const o=jd.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&Te(t)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":Te(t)?bv(n)&&a.push(o.get("length")):(a.push(o.get(lo)),ha(t)&&a.push(o.get(Dg)));break;case"delete":Te(t)||(a.push(o.get(lo)),ha(t)&&a.push(o.get(Dg)));break;case"set":ha(t)&&a.push(o.get(lo));break}if(a.length===1)a[0]&&Og(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Og(Ev(l))}}function Og(t,e){const n=Te(t)?t:[...t];for(const r of n)r.computed&&Bb(r);for(const r of n)r.computed||Bb(r)}function Bb(t,e){(t!==fr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function rN(t,e){var n;return(n=jd.get(t))===null||n===void 0?void 0:n.get(e)}const iN=gv("__proto__,__v_isRef,__isVue"),mS=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wv)),sN=Sv(),oN=Sv(!1,!0),aN=Sv(!0),Ub=lN();function lN(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=De(this);for(let s=0,o=this.length;s<o;s++)On(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(De)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){el();const r=De(this)[e].apply(this,n);return tl(),r}}),t}function cN(t){const e=De(this);return On(e,"has",t),e.hasOwnProperty(t)}function Sv(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?TN:wS:e?yS:vS).get(r))return r;const o=Te(r);if(!t){if(o&&qe(Ub,i))return Reflect.get(Ub,i,s);if(i==="hasOwnProperty")return cN}const a=Reflect.get(r,i,s);return(wv(i)?mS.has(i):iN(i))||(t||On(r,"get",i),e)?a:vt(a)?o&&bv(i)?a:a.value:dt(a)?t?iu(a):tn(a):a}}const uN=gS(),dN=gS(!0);function gS(t=!1){return function(n,r,i,s){let o=n[r];if(Aa(o)&&vt(o)&&!vt(i))return!1;if(!t&&(!Hd(i)&&!Aa(i)&&(o=De(o),i=De(i)),!Te(n)&&vt(o)&&!vt(i)))return o.value=i,!0;const a=Te(n)&&bv(r)?Number(r)<n.length:qe(n,r),l=Reflect.set(n,r,i,s);return n===De(s)&&(a?gc(i,o)&&yi(n,"set",r,i):yi(n,"add",r,i)),l}}function hN(t,e){const n=qe(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&yi(t,"delete",e,void 0),r}function fN(t,e){const n=Reflect.has(t,e);return(!wv(e)||!mS.has(e))&&On(t,"has",e),n}function mN(t){return On(t,"iterate",Te(t)?"length":lo),Reflect.ownKeys(t)}const pS={get:sN,set:uN,deleteProperty:hN,has:fN,ownKeys:mN},gN={get:aN,set(t,e){return!0},deleteProperty(t,e){return!0}},pN=Gt({},pS,{get:oN,set:dN}),Tv=t=>t,qh=t=>Reflect.getPrototypeOf(t);function ju(t,e,n=!1,r=!1){t=t.__v_raw;const i=De(t),s=De(e);n||(e!==s&&On(i,"get",e),On(i,"get",s));const{has:o}=qh(i),a=r?Tv:n?kv:pc;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Hu(t,e=!1){const n=this.__v_raw,r=De(n),i=De(t);return e||(t!==i&&On(r,"has",t),On(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ku(t,e=!1){return t=t.__v_raw,!e&&On(De(t),"iterate",lo),Reflect.get(t,"size",t)}function $b(t){t=De(t);const e=De(this);return qh(e).has.call(e,t)||(e.add(t),yi(e,"add",t,t)),this}function zb(t,e){e=De(e);const n=De(this),{has:r,get:i}=qh(n);let s=r.call(n,t);s||(t=De(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?gc(e,o)&&yi(n,"set",t,e):yi(n,"add",t,e),this}function qb(t){const e=De(this),{has:n,get:r}=qh(e);let i=n.call(e,t);i||(t=De(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&yi(e,"delete",t,void 0),s}function jb(){const t=De(this),e=t.size!==0,n=t.clear();return e&&yi(t,"clear",void 0,void 0),n}function Gu(t,e){return function(r,i){const s=this,o=s.__v_raw,a=De(o),l=e?Tv:t?kv:pc;return!t&&On(a,"iterate",lo),o.forEach((c,u)=>r.call(i,l(c),l(u),s))}}function Wu(t,e,n){return function(...r){const i=this.__v_raw,s=De(i),o=ha(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?Tv:e?kv:pc;return!e&&On(s,"iterate",l?Dg:lo),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function zi(t){return function(...e){return t==="delete"?!1:this}}function vN(){const t={get(s){return ju(this,s)},get size(){return Ku(this)},has:Hu,add:$b,set:zb,delete:qb,clear:jb,forEach:Gu(!1,!1)},e={get(s){return ju(this,s,!1,!0)},get size(){return Ku(this)},has:Hu,add:$b,set:zb,delete:qb,clear:jb,forEach:Gu(!1,!0)},n={get(s){return ju(this,s,!0)},get size(){return Ku(this,!0)},has(s){return Hu.call(this,s,!0)},add:zi("add"),set:zi("set"),delete:zi("delete"),clear:zi("clear"),forEach:Gu(!0,!1)},r={get(s){return ju(this,s,!0,!0)},get size(){return Ku(this,!0)},has(s){return Hu.call(this,s,!0)},add:zi("add"),set:zi("set"),delete:zi("delete"),clear:zi("clear"),forEach:Gu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Wu(s,!1,!1),n[s]=Wu(s,!0,!1),e[s]=Wu(s,!1,!0),r[s]=Wu(s,!0,!0)}),[t,n,e,r]}const[yN,wN,bN,_N]=vN();function Cv(t,e){const n=e?t?_N:bN:t?wN:yN;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(qe(n,i)&&i in r?n:r,i,s)}const EN={get:Cv(!1,!1)},IN={get:Cv(!1,!0)},SN={get:Cv(!0,!1)},vS=new WeakMap,yS=new WeakMap,wS=new WeakMap,TN=new WeakMap;function CN(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function AN(t){return t.__v_skip||!Object.isExtensible(t)?0:CN(WP(t))}function tn(t){return Aa(t)?t:Av(t,!1,pS,EN,vS)}function kN(t){return Av(t,!1,pN,IN,yS)}function iu(t){return Av(t,!0,gN,SN,wS)}function Av(t,e,n,r,i){if(!dt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=AN(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function fa(t){return Aa(t)?fa(t.__v_raw):!!(t&&t.__v_isReactive)}function Aa(t){return!!(t&&t.__v_isReadonly)}function Hd(t){return!!(t&&t.__v_isShallow)}function bS(t){return fa(t)||Aa(t)}function De(t){const e=t&&t.__v_raw;return e?De(e):t}function _S(t){return qd(t,"__v_skip",!0),t}const pc=t=>dt(t)?tn(t):t,kv=t=>dt(t)?iu(t):t;function ES(t){ss&&fr&&(t=De(t),fS(t.dep||(t.dep=Ev())))}function IS(t,e){t=De(t);const n=t.dep;n&&Og(n)}function vt(t){return!!(t&&t.__v_isRef===!0)}function z(t){return SS(t,!1)}function Rv(t){return SS(t,!0)}function SS(t,e){return vt(t)?t:new RN(t,e)}class RN{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:De(e),this._value=n?e:pc(e)}get value(){return ES(this),this._value}set value(e){const n=this.__v_isShallow||Hd(e)||Aa(e);e=n?e:De(e),gc(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:pc(e),IS(this))}}function qn(t){return vt(t)?t.value:t}const xN={get:(t,e,n)=>qn(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return vt(i)&&!vt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function TS(t){return fa(t)?t:new Proxy(t,xN)}function xv(t){const e=Te(t)?new Array(t.length):{};for(const n in t)e[n]=_e(t,n);return e}class PN{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return rN(De(this._object),this._key)}}function _e(t,e,n){const r=t[e];return vt(r)?r:new PN(t,e,n)}var CS;class NN{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[CS]=!1,this._dirty=!0,this.effect=new Iv(e,()=>{this._dirty||(this._dirty=!0,IS(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=De(this);return ES(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}CS="__v_isReadonly";function DN(t,e,n=!1){let r,i;const s=Oe(t);return s?(r=t,i=vr):(r=t.get,i=t.set),new NN(r,i,s||!i,n)}function os(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){jh(s,e,n)}return i}function ir(t,e,n,r){if(Oe(t)){const s=os(t,e,n,r);return s&&oS(s)&&s.catch(o=>{jh(o,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(ir(t[s],e,n,r));return i}function jh(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=n;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){os(l,null,10,[t,o,a]);return}}ON(t,n,i,r)}function ON(t,e,n,r=!0){console.error(t)}let vc=!1,Lg=!1;const hn=[];let xr=0;const ma=[];let oi=null,Hs=0;const AS=Promise.resolve();let Pv=null;function Ht(t){const e=Pv||AS;return t?e.then(this?t.bind(this):t):e}function LN(t){let e=xr+1,n=hn.length;for(;e<n;){const r=e+n>>>1;yc(hn[r])<t?e=r+1:n=r}return e}function Nv(t){(!hn.length||!hn.includes(t,vc&&t.allowRecurse?xr+1:xr))&&(t.id==null?hn.push(t):hn.splice(LN(t.id),0,t),kS())}function kS(){!vc&&!Lg&&(Lg=!0,Pv=AS.then(xS))}function MN(t){const e=hn.indexOf(t);e>xr&&hn.splice(e,1)}function FN(t){Te(t)?ma.push(...t):(!oi||!oi.includes(t,t.allowRecurse?Hs+1:Hs))&&ma.push(t),kS()}function Hb(t,e=vc?xr+1:0){for(;e<hn.length;e++){const n=hn[e];n&&n.pre&&(hn.splice(e,1),e--,n())}}function RS(t){if(ma.length){const e=[...new Set(ma)];if(ma.length=0,oi){oi.push(...e);return}for(oi=e,oi.sort((n,r)=>yc(n)-yc(r)),Hs=0;Hs<oi.length;Hs++)oi[Hs]();oi=null,Hs=0}}const yc=t=>t.id==null?1/0:t.id,VN=(t,e)=>{const n=yc(t)-yc(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function xS(t){Lg=!1,vc=!0,hn.sort(VN);const e=vr;try{for(xr=0;xr<hn.length;xr++){const n=hn[xr];n&&n.active!==!1&&os(n,null,14)}}finally{xr=0,hn.length=0,RS(),vc=!1,Pv=null,(hn.length||ma.length)&&xS()}}function BN(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||at;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=r[u]||at;h&&(i=n.map(f=>_t(f)?f.trim():f)),d&&(i=n.map(Pg))}let a,l=r[a=_d(e)]||r[a=_d(ar(e))];!l&&s&&(l=r[a=_d(Za(e))]),l&&ir(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ir(c,t,6,i)}}function PS(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Oe(t)){const l=c=>{const u=PS(c,e,!0);u&&(a=!0,Gt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(dt(t)&&r.set(t,null),null):(Te(s)?s.forEach(l=>o[l]=null):Gt(o,s),dt(t)&&r.set(t,o),o)}function Hh(t,e){return!t||!Uh(e)?!1:(e=e.slice(2).replace(/Once$/,""),qe(t,e[0].toLowerCase()+e.slice(1))||qe(t,Za(e))||qe(t,e))}let jn=null,NS=null;function Kd(t){const e=jn;return jn=t,NS=t&&t.type.__scopeId||null,e}function x(t,e=jn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&n0(-1);const s=Kd(e);let o;try{o=t(...i)}finally{Kd(s),r._d&&n0(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Tm(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:h,setupState:f,ctx:g,inheritAttrs:p}=t;let w,y;const b=Kd(t);try{if(n.shapeFlag&4){const T=i||r;w=Rr(u.call(T,T,d,s,f,h,g)),y=l}else{const T=e;w=Rr(T.length>1?T(s,{attrs:l,slots:a,emit:c}):T(s,null)),y=e.props?l:UN(l)}}catch(T){Jl.length=0,jh(T,t,1),w=m(yr)}let v=w;if(y&&p!==!1){const T=Object.keys(y),{shapeFlag:S}=v;T.length&&S&7&&(o&&T.some(vv)&&(y=$N(y,o)),v=wi(v,y))}return n.dirs&&(v=wi(v),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),w=v,Kd(b),w}const UN=t=>{let e;for(const n in t)(n==="class"||n==="style"||Uh(n))&&((e||(e={}))[n]=t[n]);return e},$N=(t,e)=>{const n={};for(const r in t)(!vv(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function zN(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Kb(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==r[h]&&!Hh(c,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Kb(r,o,c):!0:!!o;return!1}function Kb(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Hh(n,s))return!0}return!1}function qN({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const jN=t=>t.__isSuspense;function HN(t,e){e&&e.pendingBranch?Te(t)?e.effects.push(...t):e.effects.push(t):FN(t)}function rn(t,e){if(St){let n=St.provides;const r=St.parent&&St.parent.provides;r===n&&(n=St.provides=Object.create(r)),n[t]=e}}function tt(t,e,n=!1){const r=St||jn;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Oe(e)?e.call(r.proxy):e}}function Ts(t,e){return Dv(t,null,e)}const Yu={};function fe(t,e,n){return Dv(t,e,n)}function Dv(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=at){const a=eN()===(St==null?void 0:St.scope)?St:null;let l,c=!1,u=!1;if(vt(t)?(l=()=>t.value,c=Hd(t)):fa(t)?(l=()=>t,r=!0):Te(t)?(u=!0,c=t.some(v=>fa(v)||Hd(v)),l=()=>t.map(v=>{if(vt(v))return v.value;if(fa(v))return Zs(v);if(Oe(v))return os(v,a,2)})):Oe(t)?e?l=()=>os(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),ir(t,a,3,[h])}:l=vr,e&&r){const v=l;l=()=>Zs(v())}let d,h=v=>{d=y.onStop=()=>{os(v,a,4)}},f;if(Ic)if(h=vr,e?n&&ir(e,a,3,[l(),u?[]:void 0,h]):l(),i==="sync"){const v=LD();f=v.__watcherHandles||(v.__watcherHandles=[])}else return vr;let g=u?new Array(t.length).fill(Yu):Yu;const p=()=>{if(y.active)if(e){const v=y.run();(r||c||(u?v.some((T,S)=>gc(T,g[S])):gc(v,g)))&&(d&&d(),ir(e,a,3,[v,g===Yu?void 0:u&&g[0]===Yu?[]:g,h]),g=v)}else y.run()};p.allowRecurse=!!e;let w;i==="sync"?w=p:i==="post"?w=()=>An(p,a&&a.suspense):(p.pre=!0,a&&(p.id=a.uid),w=()=>Nv(p));const y=new Iv(l,w);e?n?p():g=y.run():i==="post"?An(y.run.bind(y),a&&a.suspense):y.run();const b=()=>{y.stop(),a&&a.scope&&yv(a.scope.effects,y)};return f&&f.push(b),b}function KN(t,e,n){const r=this.proxy,i=_t(t)?t.includes(".")?DS(r,t):()=>r[t]:t.bind(r,r);let s;Oe(e)?s=e:(s=e.handler,n=e);const o=St;Ra(this);const a=Dv(i,s.bind(r),n);return o?Ra(o):co(),a}function DS(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Zs(t,e){if(!dt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),vt(t))Zs(t.value,e);else if(Te(t))for(let n=0;n<t.length;n++)Zs(t[n],e);else if(sS(t)||ha(t))t.forEach(n=>{Zs(n,e)});else if(lS(t))for(const n in t)Zs(t[n],e);return t}function OS(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yn(()=>{t.isMounted=!0}),Fn(()=>{t.isUnmounting=!0}),t}const Zn=[Function,Array],GN={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zn,onEnter:Zn,onAfterEnter:Zn,onEnterCancelled:Zn,onBeforeLeave:Zn,onLeave:Zn,onAfterLeave:Zn,onLeaveCancelled:Zn,onBeforeAppear:Zn,onAppear:Zn,onAfterAppear:Zn,onAppearCancelled:Zn},setup(t,{slots:e}){const n=Xh(),r=OS();let i;return()=>{const s=e.default&&Ov(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const p of s)if(p.type!==yr){o=p;break}}const a=De(t),{mode:l}=a;if(r.isLeaving)return Cm(o);const c=Gb(o);if(!c)return Cm(o);const u=wc(c,a,r,n);bc(c,u);const d=n.subTree,h=d&&Gb(d);let f=!1;const{getTransitionKey:g}=c.type;if(g){const p=g();i===void 0?i=p:p!==i&&(i=p,f=!0)}if(h&&h.type!==yr&&(!Ks(c,h)||f)){const p=wc(h,a,r,n);if(bc(h,p),l==="out-in")return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Cm(o);l==="in-out"&&c.type!==yr&&(p.delayLeave=(w,y,b)=>{const v=MS(r,h);v[String(h.key)]=h,w._leaveCb=()=>{y(),w._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=b})}return o}}},LS=GN;function MS(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function wc(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:p,onAppear:w,onAfterAppear:y,onAppearCancelled:b}=e,v=String(t.key),T=MS(n,t),S=(E,R)=>{E&&ir(E,r,9,R)},A=(E,R)=>{const O=R[1];S(E,R),Te(E)?E.every(F=>F.length<=1)&&O():E.length<=1&&O()},C={mode:s,persisted:o,beforeEnter(E){let R=a;if(!n.isMounted)if(i)R=p||a;else return;E._leaveCb&&E._leaveCb(!0);const O=T[v];O&&Ks(t,O)&&O.el._leaveCb&&O.el._leaveCb(),S(R,[E])},enter(E){let R=l,O=c,F=u;if(!n.isMounted)if(i)R=w||l,O=y||c,F=b||u;else return;let P=!1;const V=E._enterCb=W=>{P||(P=!0,W?S(F,[E]):S(O,[E]),C.delayedLeave&&C.delayedLeave(),E._enterCb=void 0)};R?A(R,[E,V]):V()},leave(E,R){const O=String(t.key);if(E._enterCb&&E._enterCb(!0),n.isUnmounting)return R();S(d,[E]);let F=!1;const P=E._leaveCb=V=>{F||(F=!0,R(),V?S(g,[E]):S(f,[E]),E._leaveCb=void 0,T[O]===t&&delete T[O])};T[O]=t,h?A(h,[E,P]):P()},clone(E){return wc(E,e,n,r)}};return C}function Cm(t){if(Gh(t))return t=wi(t),t.children=null,t}function Gb(t){return Gh(t)?t.children?t.children[0]:void 0:t}function bc(t,e){t.shapeFlag&6&&t.component?bc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ov(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Me?(o.patchFlag&128&&i++,r=r.concat(Ov(o.children,e,a))):(e||o.type!==yr)&&r.push(a!=null?wi(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Kh(t){return Oe(t)?{setup:t,name:t.name}:t}const Id=t=>!!t.type.__asyncLoader,Gh=t=>t.type.__isKeepAlive;function FS(t,e){BS(t,"a",e)}function VS(t,e){BS(t,"da",e)}function BS(t,e,n=St){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Wh(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Gh(i.parent.vnode)&&WN(r,e,n,i),i=i.parent}}function WN(t,e,n,r){const i=Wh(e,t,r,!0);$S(()=>{yv(r[e],i)},n)}function Wh(t,e,n=St,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;el(),Ra(n);const a=ir(e,n,t,o);return co(),tl(),a});return r?i.unshift(s):i.push(s),s}}const Ai=t=>(e,n=St)=>(!Ic||t==="sp")&&Wh(t,(...r)=>e(...r),n),Yh=Ai("bm"),Yn=Ai("m"),YN=Ai("bu"),US=Ai("u"),Fn=Ai("bum"),$S=Ai("um"),QN=Ai("sp"),XN=Ai("rtg"),JN=Ai("rtc");function ZN(t,e=St){Wh("ec",t,e)}function sn(t,e){const n=jn;if(n===null)return t;const r=Jh(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,c=at]=e[s];o&&(Oe(o)&&(o={mounted:o,updated:o}),o.deep&&Zs(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Ms(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(el(),ir(l,n,8,[t.el,a,t,e]),tl())}}const Lv="components",eD="directives";function Fr(t,e){return Mv(Lv,t,!0,e)||t}const zS=Symbol();function tD(t){return _t(t)?Mv(Lv,t,!1)||t:t||zS}function Wr(t){return Mv(eD,t)}function Mv(t,e,n=!0,r=!1){const i=jn||St;if(i){const s=i.type;if(t===Lv){const a=ND(s,!1);if(a&&(a===e||a===ar(e)||a===Ci(ar(e))))return s}const o=Wb(i[t]||s[t],e)||Wb(i.appContext[t],e);return!o&&r?s:o}}function Wb(t,e){return t&&(t[e]||t[ar(e)]||t[Ci(ar(e))])}function _c(t,e,n,r){let i;const s=n&&n[r];if(Te(t)||_t(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s&&s[o])}else if(dt(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];i[a]=e(t[c],c,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function Am(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:_d(r)]=t[r];return n}const Mg=t=>t?ZS(t)?Jh(t)||t.proxy:Mg(t.parent):null,Ql=Gt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Mg(t.parent),$root:t=>Mg(t.root),$emit:t=>t.emit,$options:t=>Fv(t),$forceUpdate:t=>t.f||(t.f=()=>Nv(t.update)),$nextTick:t=>t.n||(t.n=Ht.bind(t.proxy)),$watch:t=>KN.bind(t)}),km=(t,e)=>t!==at&&!t.__isScriptSetup&&qe(t,e),nD={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(km(r,e))return o[e]=1,r[e];if(i!==at&&qe(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&qe(c,e))return o[e]=3,s[e];if(n!==at&&qe(n,e))return o[e]=4,n[e];Fg&&(o[e]=0)}}const u=Ql[e];let d,h;if(u)return e==="$attrs"&&On(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==at&&qe(n,e))return o[e]=4,n[e];if(h=l.config.globalProperties,qe(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return km(i,e)?(i[e]=n,!0):r!==at&&qe(r,e)?(r[e]=n,!0):qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==at&&qe(t,o)||km(e,o)||(a=s[0])&&qe(a,o)||qe(r,o)||qe(Ql,o)||qe(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Fg=!0;function rD(t){const e=Fv(t),n=t.proxy,r=t.ctx;Fg=!1,e.beforeCreate&&Yb(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:g,activated:p,deactivated:w,beforeDestroy:y,beforeUnmount:b,destroyed:v,unmounted:T,render:S,renderTracked:A,renderTriggered:C,errorCaptured:E,serverPrefetch:R,expose:O,inheritAttrs:F,components:P,directives:V,filters:W}=e;if(c&&iD(c,r,null,t.appContext.config.unwrapInjectedRef),o)for(const K in o){const Z=o[K];Oe(Z)&&(r[K]=Z.bind(n))}if(i){const K=i.call(n,n);dt(K)&&(t.data=tn(K))}if(Fg=!0,s)for(const K in s){const Z=s[K],ie=Oe(Z)?Z.bind(n,n):Oe(Z.get)?Z.get.bind(n,n):vr,re=!Oe(Z)&&Oe(Z.set)?Z.set.bind(n):vr,ce=I({get:ie,set:re});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>ce.value,set:Ie=>ce.value=Ie})}if(a)for(const K in a)qS(a[K],r,n,K);if(l){const K=Oe(l)?l.call(n):l;Reflect.ownKeys(K).forEach(Z=>{rn(Z,K[Z])})}u&&Yb(u,t,"c");function X(K,Z){Te(Z)?Z.forEach(ie=>K(ie.bind(n))):Z&&K(Z.bind(n))}if(X(Yh,d),X(Yn,h),X(YN,f),X(US,g),X(FS,p),X(VS,w),X(ZN,E),X(JN,A),X(XN,C),X(Fn,b),X($S,T),X(QN,R),Te(O))if(O.length){const K=t.exposed||(t.exposed={});O.forEach(Z=>{Object.defineProperty(K,Z,{get:()=>n[Z],set:ie=>n[Z]=ie})})}else t.exposed||(t.exposed={});S&&t.render===vr&&(t.render=S),F!=null&&(t.inheritAttrs=F),P&&(t.components=P),V&&(t.directives=V)}function iD(t,e,n=vr,r=!1){Te(t)&&(t=Vg(t));for(const i in t){const s=t[i];let o;dt(s)?"default"in s?o=tt(s.from||i,s.default,!0):o=tt(s.from||i):o=tt(s),vt(o)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[i]=o}}function Yb(t,e,n){ir(Te(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function qS(t,e,n,r){const i=r.includes(".")?DS(n,r):()=>n[r];if(_t(t)){const s=e[t];Oe(s)&&fe(i,s)}else if(Oe(t))fe(i,t.bind(n));else if(dt(t))if(Te(t))t.forEach(s=>qS(s,e,n,r));else{const s=Oe(t.handler)?t.handler.bind(n):e[t.handler];Oe(s)&&fe(i,s,t)}}function Fv(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>Gd(l,c,o,!0)),Gd(l,e,o)),dt(e)&&s.set(e,l),l}function Gd(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Gd(t,s,n,!0),i&&i.forEach(o=>Gd(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=sD[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const sD={data:Qb,props:zs,emits:zs,methods:zs,computed:zs,beforeCreate:bn,created:bn,beforeMount:bn,mounted:bn,beforeUpdate:bn,updated:bn,beforeDestroy:bn,beforeUnmount:bn,destroyed:bn,unmounted:bn,activated:bn,deactivated:bn,errorCaptured:bn,serverPrefetch:bn,components:zs,directives:zs,watch:aD,provide:Qb,inject:oD};function Qb(t,e){return e?t?function(){return Gt(Oe(t)?t.call(this,this):t,Oe(e)?e.call(this,this):e)}:e:t}function oD(t,e){return zs(Vg(t),Vg(e))}function Vg(t){if(Te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function bn(t,e){return t?[...new Set([].concat(t,e))]:e}function zs(t,e){return t?Gt(Gt(Object.create(null),t),e):e}function aD(t,e){if(!t)return e;if(!e)return t;const n=Gt(Object.create(null),t);for(const r in e)n[r]=bn(t[r],e[r]);return n}function lD(t,e,n,r=!1){const i={},s={};qd(s,Qh,1),t.propsDefaults=Object.create(null),jS(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:kN(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function cD(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=De(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(Hh(t.emitsOptions,h))continue;const f=e[h];if(l)if(qe(s,h))f!==s[h]&&(s[h]=f,c=!0);else{const g=ar(h);i[g]=Bg(l,a,g,f,t,!1)}else f!==s[h]&&(s[h]=f,c=!0)}}}else{jS(t,e,i,s)&&(c=!0);let u;for(const d in a)(!e||!qe(e,d)&&((u=Za(d))===d||!qe(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Bg(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!qe(e,d))&&(delete s[d],c=!0)}c&&yi(t,"set","$attrs")}function jS(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(bd(l))continue;const c=e[l];let u;i&&qe(i,u=ar(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Hh(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=De(n),c=a||at;for(let u=0;u<s.length;u++){const d=s[u];n[d]=Bg(i,l,d,c[d],t,!qe(c,d))}}return o}function Bg(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=qe(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&Oe(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(Ra(i),r=c[n]=l.call(null,e),co())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Za(n))&&(r=!0))}return r}function HS(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Oe(t)){const u=d=>{l=!0;const[h,f]=HS(d,e,!0);Gt(o,h),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return dt(t)&&r.set(t,da),da;if(Te(s))for(let u=0;u<s.length;u++){const d=ar(s[u]);Xb(d)&&(o[d]=at)}else if(s)for(const u in s){const d=ar(u);if(Xb(d)){const h=s[u],f=o[d]=Te(h)||Oe(h)?{type:h}:Object.assign({},h);if(f){const g=e0(Boolean,f.type),p=e0(String,f.type);f[0]=g>-1,f[1]=p<0||g<p,(g>-1||qe(f,"default"))&&a.push(d)}}}const c=[o,a];return dt(t)&&r.set(t,c),c}function Xb(t){return t[0]!=="$"}function Jb(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Zb(t,e){return Jb(t)===Jb(e)}function e0(t,e){return Te(e)?e.findIndex(n=>Zb(n,t)):Oe(e)&&Zb(e,t)?0:-1}const KS=t=>t[0]==="_"||t==="$stable",Vv=t=>Te(t)?t.map(Rr):[Rr(t)],uD=(t,e,n)=>{if(e._n)return e;const r=x((...i)=>Vv(e(...i)),n);return r._c=!1,r},GS=(t,e,n)=>{const r=t._ctx;for(const i in t){if(KS(i))continue;const s=t[i];if(Oe(s))e[i]=uD(i,s,r);else if(s!=null){const o=Vv(s);e[i]=()=>o}}},WS=(t,e)=>{const n=Vv(e);t.slots.default=()=>n},dD=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=De(e),qd(e,"_",n)):GS(e,t.slots={})}else t.slots={},e&&WS(t,e);qd(t.slots,Qh,1)},hD=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=at;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(Gt(i,e),!n&&a===1&&delete i._):(s=!e.$stable,GS(e,i)),o=e}else e&&(WS(t,e),o={default:1});if(s)for(const a in i)!KS(a)&&!(a in o)&&delete i[a]};function YS(){return{app:null,config:{isNativeTag:HP,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fD=0;function mD(t,e){return function(r,i=null){Oe(r)||(r=Object.assign({},r)),i!=null&&!dt(i)&&(i=null);const s=YS(),o=new Set;let a=!1;const l=s.app={_uid:fD++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:MD,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&Oe(c.install)?(o.add(c),c.install(l,...u)):Oe(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,d){if(!a){const h=m(r,i);return h.appContext=s,u&&e?e(h,c):t(h,c,d),a=!0,l._container=c,c.__vue_app__=l,Jh(h.component)||h.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l}};return l}}function Ug(t,e,n,r,i=!1){if(Te(t)){t.forEach((h,f)=>Ug(h,e&&(Te(e)?e[f]:e),n,r,i));return}if(Id(r)&&!i)return;const s=r.shapeFlag&4?Jh(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===at?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(_t(c)?(u[c]=null,qe(d,c)&&(d[c]=null)):vt(c)&&(c.value=null)),Oe(l))os(l,a,12,[o,u]);else{const h=_t(l),f=vt(l);if(h||f){const g=()=>{if(t.f){const p=h?qe(d,l)?d[l]:u[l]:l.value;i?Te(p)&&yv(p,s):Te(p)?p.includes(s)||p.push(s):h?(u[l]=[s],qe(d,l)&&(d[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else h?(u[l]=o,qe(d,l)&&(d[l]=o)):f&&(l.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,An(g,n)):g()}}}const An=HN;function gD(t){return pD(t)}function pD(t,e){const n=JP();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=vr,insertStaticContent:g}=t,p=(_,k,M,U=null,j=null,ee=null,le=!1,J=null,ne=!!k.dynamicChildren)=>{if(_===k)return;_&&!Ks(_,k)&&(U=G(_),Ie(_,j,ee,!0),_=null),k.patchFlag===-2&&(ne=!1,k.dynamicChildren=null);const{type:Y,ref:we,shapeFlag:he}=k;switch(Y){case su:w(_,k,M,U);break;case yr:y(_,k,M,U);break;case Rm:_==null&&b(k,M,U,le);break;case Me:P(_,k,M,U,j,ee,le,J,ne);break;default:he&1?S(_,k,M,U,j,ee,le,J,ne):he&6?V(_,k,M,U,j,ee,le,J,ne):(he&64||he&128)&&Y.process(_,k,M,U,j,ee,le,J,ne,Be)}we!=null&&j&&Ug(we,_&&_.ref,ee,k||_,!k)},w=(_,k,M,U)=>{if(_==null)r(k.el=a(k.children),M,U);else{const j=k.el=_.el;k.children!==_.children&&c(j,k.children)}},y=(_,k,M,U)=>{_==null?r(k.el=l(k.children||""),M,U):k.el=_.el},b=(_,k,M,U)=>{[_.el,_.anchor]=g(_.children,k,M,U,_.el,_.anchor)},v=({el:_,anchor:k},M,U)=>{let j;for(;_&&_!==k;)j=h(_),r(_,M,U),_=j;r(k,M,U)},T=({el:_,anchor:k})=>{let M;for(;_&&_!==k;)M=h(_),i(_),_=M;i(k)},S=(_,k,M,U,j,ee,le,J,ne)=>{le=le||k.type==="svg",_==null?A(k,M,U,j,ee,le,J,ne):R(_,k,j,ee,le,J,ne)},A=(_,k,M,U,j,ee,le,J)=>{let ne,Y;const{type:we,props:he,shapeFlag:be,transition:xe,dirs:Fe}=_;if(ne=_.el=o(_.type,ee,he&&he.is,he),be&8?u(ne,_.children):be&16&&E(_.children,ne,null,U,j,ee&&we!=="foreignObject",le,J),Fe&&Ms(_,null,U,"created"),C(ne,_,_.scopeId,le,U),he){for(const Ze in he)Ze!=="value"&&!bd(Ze)&&s(ne,Ze,null,he[Ze],ee,_.children,U,j,D);"value"in he&&s(ne,"value",null,he.value),(Y=he.onVnodeBeforeMount)&&kr(Y,U,_)}Fe&&Ms(_,null,U,"beforeMount");const it=(!j||j&&!j.pendingBranch)&&xe&&!xe.persisted;it&&xe.beforeEnter(ne),r(ne,k,M),((Y=he&&he.onVnodeMounted)||it||Fe)&&An(()=>{Y&&kr(Y,U,_),it&&xe.enter(ne),Fe&&Ms(_,null,U,"mounted")},j)},C=(_,k,M,U,j)=>{if(M&&f(_,M),U)for(let ee=0;ee<U.length;ee++)f(_,U[ee]);if(j){let ee=j.subTree;if(k===ee){const le=j.vnode;C(_,le,le.scopeId,le.slotScopeIds,j.parent)}}},E=(_,k,M,U,j,ee,le,J,ne=0)=>{for(let Y=ne;Y<_.length;Y++){const we=_[Y]=J?Xi(_[Y]):Rr(_[Y]);p(null,we,k,M,U,j,ee,le,J)}},R=(_,k,M,U,j,ee,le)=>{const J=k.el=_.el;let{patchFlag:ne,dynamicChildren:Y,dirs:we}=k;ne|=_.patchFlag&16;const he=_.props||at,be=k.props||at;let xe;M&&Fs(M,!1),(xe=be.onVnodeBeforeUpdate)&&kr(xe,M,k,_),we&&Ms(k,_,M,"beforeUpdate"),M&&Fs(M,!0);const Fe=j&&k.type!=="foreignObject";if(Y?O(_.dynamicChildren,Y,J,M,U,Fe,ee):le||Z(_,k,J,null,M,U,Fe,ee,!1),ne>0){if(ne&16)F(J,k,he,be,M,U,j);else if(ne&2&&he.class!==be.class&&s(J,"class",null,be.class,j),ne&4&&s(J,"style",he.style,be.style,j),ne&8){const it=k.dynamicProps;for(let Ze=0;Ze<it.length;Ze++){const Pt=it[Ze],hr=he[Pt],Ko=be[Pt];(Ko!==hr||Pt==="value")&&s(J,Pt,hr,Ko,j,_.children,M,U,D)}}ne&1&&_.children!==k.children&&u(J,k.children)}else!le&&Y==null&&F(J,k,he,be,M,U,j);((xe=be.onVnodeUpdated)||we)&&An(()=>{xe&&kr(xe,M,k,_),we&&Ms(k,_,M,"updated")},U)},O=(_,k,M,U,j,ee,le)=>{for(let J=0;J<k.length;J++){const ne=_[J],Y=k[J],we=ne.el&&(ne.type===Me||!Ks(ne,Y)||ne.shapeFlag&70)?d(ne.el):M;p(ne,Y,we,null,U,j,ee,le,!0)}},F=(_,k,M,U,j,ee,le)=>{if(M!==U){if(M!==at)for(const J in M)!bd(J)&&!(J in U)&&s(_,J,M[J],null,le,k.children,j,ee,D);for(const J in U){if(bd(J))continue;const ne=U[J],Y=M[J];ne!==Y&&J!=="value"&&s(_,J,Y,ne,le,k.children,j,ee,D)}"value"in U&&s(_,"value",M.value,U.value)}},P=(_,k,M,U,j,ee,le,J,ne)=>{const Y=k.el=_?_.el:a(""),we=k.anchor=_?_.anchor:a("");let{patchFlag:he,dynamicChildren:be,slotScopeIds:xe}=k;xe&&(J=J?J.concat(xe):xe),_==null?(r(Y,M,U),r(we,M,U),E(k.children,M,we,j,ee,le,J,ne)):he>0&&he&64&&be&&_.dynamicChildren?(O(_.dynamicChildren,be,M,j,ee,le,J),(k.key!=null||j&&k===j.subTree)&&Bv(_,k,!0)):Z(_,k,M,we,j,ee,le,J,ne)},V=(_,k,M,U,j,ee,le,J,ne)=>{k.slotScopeIds=J,_==null?k.shapeFlag&512?j.ctx.activate(k,M,U,le,ne):W(k,M,U,j,ee,le,ne):ae(_,k,ne)},W=(_,k,M,U,j,ee,le)=>{const J=_.component=AD(_,U,j);if(Gh(_)&&(J.ctx.renderer=Be),kD(J),J.asyncDep){if(j&&j.registerDep(J,X),!_.el){const ne=J.subTree=m(yr);y(null,ne,k,M)}return}X(J,_,k,M,j,ee,le)},ae=(_,k,M)=>{const U=k.component=_.component;if(zN(_,k,M))if(U.asyncDep&&!U.asyncResolved){K(U,k,M);return}else U.next=k,MN(U.update),U.update();else k.el=_.el,U.vnode=k},X=(_,k,M,U,j,ee,le)=>{const J=()=>{if(_.isMounted){let{next:we,bu:he,u:be,parent:xe,vnode:Fe}=_,it=we,Ze;Fs(_,!1),we?(we.el=Fe.el,K(_,we,le)):we=Fe,he&&Ed(he),(Ze=we.props&&we.props.onVnodeBeforeUpdate)&&kr(Ze,xe,we,Fe),Fs(_,!0);const Pt=Tm(_),hr=_.subTree;_.subTree=Pt,p(hr,Pt,d(hr.el),G(hr),_,j,ee),we.el=Pt.el,it===null&&qN(_,Pt.el),be&&An(be,j),(Ze=we.props&&we.props.onVnodeUpdated)&&An(()=>kr(Ze,xe,we,Fe),j)}else{let we;const{el:he,props:be}=k,{bm:xe,m:Fe,parent:it}=_,Ze=Id(k);if(Fs(_,!1),xe&&Ed(xe),!Ze&&(we=be&&be.onVnodeBeforeMount)&&kr(we,it,k),Fs(_,!0),he&&Le){const Pt=()=>{_.subTree=Tm(_),Le(he,_.subTree,_,j,null)};Ze?k.type.__asyncLoader().then(()=>!_.isUnmounted&&Pt()):Pt()}else{const Pt=_.subTree=Tm(_);p(null,Pt,M,U,_,j,ee),k.el=Pt.el}if(Fe&&An(Fe,j),!Ze&&(we=be&&be.onVnodeMounted)){const Pt=k;An(()=>kr(we,it,Pt),j)}(k.shapeFlag&256||it&&Id(it.vnode)&&it.vnode.shapeFlag&256)&&_.a&&An(_.a,j),_.isMounted=!0,k=M=U=null}},ne=_.effect=new Iv(J,()=>Nv(Y),_.scope),Y=_.update=()=>ne.run();Y.id=_.uid,Fs(_,!0),Y()},K=(_,k,M)=>{k.component=_;const U=_.vnode.props;_.vnode=k,_.next=null,cD(_,k.props,U,M),hD(_,k.children,M),el(),Hb(),tl()},Z=(_,k,M,U,j,ee,le,J,ne=!1)=>{const Y=_&&_.children,we=_?_.shapeFlag:0,he=k.children,{patchFlag:be,shapeFlag:xe}=k;if(be>0){if(be&128){re(Y,he,M,U,j,ee,le,J,ne);return}else if(be&256){ie(Y,he,M,U,j,ee,le,J,ne);return}}xe&8?(we&16&&D(Y,j,ee),he!==Y&&u(M,he)):we&16?xe&16?re(Y,he,M,U,j,ee,le,J,ne):D(Y,j,ee,!0):(we&8&&u(M,""),xe&16&&E(he,M,U,j,ee,le,J,ne))},ie=(_,k,M,U,j,ee,le,J,ne)=>{_=_||da,k=k||da;const Y=_.length,we=k.length,he=Math.min(Y,we);let be;for(be=0;be<he;be++){const xe=k[be]=ne?Xi(k[be]):Rr(k[be]);p(_[be],xe,M,null,j,ee,le,J,ne)}Y>we?D(_,j,ee,!0,!1,he):E(k,M,U,j,ee,le,J,ne,he)},re=(_,k,M,U,j,ee,le,J,ne)=>{let Y=0;const we=k.length;let he=_.length-1,be=we-1;for(;Y<=he&&Y<=be;){const xe=_[Y],Fe=k[Y]=ne?Xi(k[Y]):Rr(k[Y]);if(Ks(xe,Fe))p(xe,Fe,M,null,j,ee,le,J,ne);else break;Y++}for(;Y<=he&&Y<=be;){const xe=_[he],Fe=k[be]=ne?Xi(k[be]):Rr(k[be]);if(Ks(xe,Fe))p(xe,Fe,M,null,j,ee,le,J,ne);else break;he--,be--}if(Y>he){if(Y<=be){const xe=be+1,Fe=xe<we?k[xe].el:U;for(;Y<=be;)p(null,k[Y]=ne?Xi(k[Y]):Rr(k[Y]),M,Fe,j,ee,le,J,ne),Y++}}else if(Y>be)for(;Y<=he;)Ie(_[Y],j,ee,!0),Y++;else{const xe=Y,Fe=Y,it=new Map;for(Y=Fe;Y<=be;Y++){const Bn=k[Y]=ne?Xi(k[Y]):Rr(k[Y]);Bn.key!=null&&it.set(Bn.key,Y)}let Ze,Pt=0;const hr=be-Fe+1;let Ko=!1,Ob=0;const El=new Array(hr);for(Y=0;Y<hr;Y++)El[Y]=0;for(Y=xe;Y<=he;Y++){const Bn=_[Y];if(Pt>=hr){Ie(Bn,j,ee,!0);continue}let Ar;if(Bn.key!=null)Ar=it.get(Bn.key);else for(Ze=Fe;Ze<=be;Ze++)if(El[Ze-Fe]===0&&Ks(Bn,k[Ze])){Ar=Ze;break}Ar===void 0?Ie(Bn,j,ee,!0):(El[Ar-Fe]=Y+1,Ar>=Ob?Ob=Ar:Ko=!0,p(Bn,k[Ar],M,null,j,ee,le,J,ne),Pt++)}const Lb=Ko?vD(El):da;for(Ze=Lb.length-1,Y=hr-1;Y>=0;Y--){const Bn=Fe+Y,Ar=k[Bn],Mb=Bn+1<we?k[Bn+1].el:U;El[Y]===0?p(null,Ar,M,Mb,j,ee,le,J,ne):Ko&&(Ze<0||Y!==Lb[Ze]?ce(Ar,M,Mb,2):Ze--)}}},ce=(_,k,M,U,j=null)=>{const{el:ee,type:le,transition:J,children:ne,shapeFlag:Y}=_;if(Y&6){ce(_.component.subTree,k,M,U);return}if(Y&128){_.suspense.move(k,M,U);return}if(Y&64){le.move(_,k,M,Be);return}if(le===Me){r(ee,k,M);for(let he=0;he<ne.length;he++)ce(ne[he],k,M,U);r(_.anchor,k,M);return}if(le===Rm){v(_,k,M);return}if(U!==2&&Y&1&&J)if(U===0)J.beforeEnter(ee),r(ee,k,M),An(()=>J.enter(ee),j);else{const{leave:he,delayLeave:be,afterLeave:xe}=J,Fe=()=>r(ee,k,M),it=()=>{he(ee,()=>{Fe(),xe&&xe()})};be?be(ee,Fe,it):it()}else r(ee,k,M)},Ie=(_,k,M,U=!1,j=!1)=>{const{type:ee,props:le,ref:J,children:ne,dynamicChildren:Y,shapeFlag:we,patchFlag:he,dirs:be}=_;if(J!=null&&Ug(J,null,M,_,!0),we&256){k.ctx.deactivate(_);return}const xe=we&1&&be,Fe=!Id(_);let it;if(Fe&&(it=le&&le.onVnodeBeforeUnmount)&&kr(it,k,_),we&6)B(_.component,M,U);else{if(we&128){_.suspense.unmount(M,U);return}xe&&Ms(_,null,k,"beforeUnmount"),we&64?_.type.remove(_,k,M,j,Be,U):Y&&(ee!==Me||he>0&&he&64)?D(Y,k,M,!1,!0):(ee===Me&&he&384||!j&&we&16)&&D(ne,k,M),U&&We(_)}(Fe&&(it=le&&le.onVnodeUnmounted)||xe)&&An(()=>{it&&kr(it,k,_),xe&&Ms(_,null,k,"unmounted")},M)},We=_=>{const{type:k,el:M,anchor:U,transition:j}=_;if(k===Me){nt(M,U);return}if(k===Rm){T(_);return}const ee=()=>{i(M),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(_.shapeFlag&1&&j&&!j.persisted){const{leave:le,delayLeave:J}=j,ne=()=>le(M,ee);J?J(_.el,ee,ne):ne()}else ee()},nt=(_,k)=>{let M;for(;_!==k;)M=h(_),i(_),_=M;i(k)},B=(_,k,M)=>{const{bum:U,scope:j,update:ee,subTree:le,um:J}=_;U&&Ed(U),j.stop(),ee&&(ee.active=!1,Ie(le,_,k,M)),J&&An(J,k),An(()=>{_.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},D=(_,k,M,U=!1,j=!1,ee=0)=>{for(let le=ee;le<_.length;le++)Ie(_[le],k,M,U,j)},G=_=>_.shapeFlag&6?G(_.component.subTree):_.shapeFlag&128?_.suspense.next():h(_.anchor||_.el),ye=(_,k,M)=>{_==null?k._vnode&&Ie(k._vnode,null,null,!0):p(k._vnode||null,_,k,null,null,null,M),Hb(),RS(),k._vnode=_},Be={p,um:Ie,m:ce,r:We,mt:W,mc:E,pc:Z,pbc:O,n:G,o:t};let ot,Le;return e&&([ot,Le]=e(Be)),{render:ye,hydrate:ot,createApp:mD(ye,ot)}}function Fs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Bv(t,e,n=!1){const r=t.children,i=e.children;if(Te(r)&&Te(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Xi(i[s]),a.el=o.el),n||Bv(o,a)),a.type===su&&(a.el=o.el)}}function vD(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}const yD=t=>t.__isTeleport,Xl=t=>t&&(t.disabled||t.disabled===""),t0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,$g=(t,e)=>{const n=t&&t.to;return _t(n)?e?e(n):null:n},wD={__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:g,createText:p,createComment:w}}=c,y=Xl(e.props);let{shapeFlag:b,children:v,dynamicChildren:T}=e;if(t==null){const S=e.el=p(""),A=e.anchor=p("");f(S,n,r),f(A,n,r);const C=e.target=$g(e.props,g),E=e.targetAnchor=p("");C&&(f(E,C),o=o||t0(C));const R=(O,F)=>{b&16&&u(v,O,F,i,s,o,a,l)};y?R(n,A):C&&R(C,E)}else{e.el=t.el;const S=e.anchor=t.anchor,A=e.target=t.target,C=e.targetAnchor=t.targetAnchor,E=Xl(t.props),R=E?n:A,O=E?S:C;if(o=o||t0(A),T?(h(t.dynamicChildren,T,R,i,s,o,a),Bv(t,e,!0)):l||d(t,e,R,O,i,s,o,a,!1),y)E||Qu(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const F=e.target=$g(e.props,g);F&&Qu(e,F,null,c,0)}else E&&Qu(e,A,C,c,1)}QS(e)},remove(t,e,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:h}=t;if(d&&s(u),(o||!Xl(h))&&(s(c),a&16))for(let f=0;f<l.length;f++){const g=l[f];i(g,e,n,!0,!!g.dynamicChildren)}},move:Qu,hydrate:bD};function Qu(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=s===2;if(d&&r(o,e,n),(!d||Xl(u))&&l&16)for(let h=0;h<c.length;h++)i(c[h],e,n,2);d&&r(a,e,n)}function bD(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=$g(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Xl(e.props))e.anchor=c(o(t),e,a(t),n,r,i,s),e.targetAnchor=d;else{e.anchor=o(t);let h=d;for(;h;)if(h=o(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(d,e,u,n,r,i,s)}QS(e)}return e.anchor&&o(e.anchor)}const _D=wD;function QS(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Me=Symbol(void 0),su=Symbol(void 0),yr=Symbol(void 0),Rm=Symbol(void 0),Jl=[];let mr=null;function Ge(t=!1){Jl.push(mr=t?null:[])}function ED(){Jl.pop(),mr=Jl[Jl.length-1]||null}let Ec=1;function n0(t){Ec+=t}function XS(t){return t.dynamicChildren=Ec>0?mr||da:null,ED(),Ec>0&&mr&&mr.push(t),t}function wr(t,e,n,r,i,s){return XS(Ce(t,e,n,r,i,s,!0))}function Bt(t,e,n,r,i){return XS(m(t,e,n,r,i,!0))}function zg(t){return t?t.__v_isVNode===!0:!1}function Ks(t,e){return t.type===e.type&&t.key===e.key}const Qh="__vInternal",JS=({key:t})=>t??null,Sd=({ref:t,ref_key:e,ref_for:n})=>t!=null?_t(t)||vt(t)||Oe(t)?{i:jn,r:t,k:e,f:!!n}:t:null;function Ce(t,e=null,n=null,r=0,i=null,s=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&JS(e),ref:e&&Sd(e),scopeId:NS,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:jn};return a?(Uv(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=_t(n)?8:16),Ec>0&&!o&&mr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&mr.push(l),l}const m=ID;function ID(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===zS)&&(t=yr),zg(t)){const a=wi(t,e,!0);return n&&Uv(a,n),Ec>0&&!s&&mr&&(a.shapeFlag&6?mr[mr.indexOf(t)]=a:mr.push(a)),a.patchFlag|=-2,a}if(DD(t)&&(t=t.__vccOpts),e){e=SD(e);let{class:a,style:l}=e;a&&!_t(a)&&(e.class=ai(a)),dt(l)&&(bS(l)&&!Te(l)&&(l=Gt({},l)),e.style=pv(l))}const o=_t(t)?1:jN(t)?128:yD(t)?64:dt(t)?4:Oe(t)?2:0;return Ce(t,e,n,r,i,o,s,!0)}function SD(t){return t?bS(t)||Qh in t?Gt({},t):t:null}function wi(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=t,a=e?Ke(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&JS(a),ref:e&&e.ref?n&&i?Te(i)?i.concat(Sd(e)):[i,Sd(e)]:Sd(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&wi(t.ssContent),ssFallback:t.ssFallback&&wi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ke(t=" ",e=0){return m(su,null,t,e)}function ka(t="",e=!1){return e?(Ge(),Bt(yr,null,t)):m(yr,null,t)}function Rr(t){return t==null||typeof t=="boolean"?m(yr):Te(t)?m(Me,null,t.slice()):typeof t=="object"?Xi(t):m(su,null,String(t))}function Xi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:wi(t)}function Uv(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Te(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Uv(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Qh in e)?e._ctx=jn:i===3&&jn&&(jn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Oe(e)?(e={default:e,_ctx:jn},n=32):(e=String(e),r&64?(n=16,e=[ke(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ke(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ai([e.class,r.class]));else if(i==="style")e.style=pv([e.style,r.style]);else if(Uh(i)){const s=e[i],o=r[i];o&&s!==o&&!(Te(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function kr(t,e,n,r=null){ir(t,e,7,[n,r])}const TD=YS();let CD=0;function AD(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||TD,s={uid:CD++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new cS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:HS(r,i),emitsOptions:PS(r,i),emit:null,emitted:null,propsDefaults:at,inheritAttrs:r.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=BN.bind(null,s),t.ce&&t.ce(s),s}let St=null;const Xh=()=>St||jn,Ra=t=>{St=t,t.scope.on()},co=()=>{St&&St.scope.off(),St=null};function ZS(t){return t.vnode.shapeFlag&4}let Ic=!1;function kD(t,e=!1){Ic=e;const{props:n,children:r}=t.vnode,i=ZS(t);lD(t,n,i,e),dD(t,r);const s=i?RD(t,e):void 0;return Ic=!1,s}function RD(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=_S(new Proxy(t.ctx,nD));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?PD(t):null;Ra(t),el();const s=os(r,t,0,[t.props,i]);if(tl(),co(),oS(s)){if(s.then(co,co),e)return s.then(o=>{r0(t,o,e)}).catch(o=>{jh(o,t,0)});t.asyncDep=s}else r0(t,s,e)}else e1(t,e)}function r0(t,e,n){Oe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:dt(e)&&(t.setupState=TS(e)),e1(t,n)}let i0;function e1(t,e,n){const r=t.type;if(!t.render){if(!e&&i0&&!r.render){const i=r.template||Fv(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Gt(Gt({isCustomElement:s,delimiters:a},o),l);r.render=i0(i,c)}}t.render=r.render||vr}Ra(t),el(),rD(t),tl(),co()}function xD(t){return new Proxy(t.attrs,{get(e,n){return On(t,"get","$attrs"),e[n]}})}function PD(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=xD(t))},slots:t.slots,emit:t.emit,expose:e}}function Jh(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(TS(_S(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ql)return Ql[n](t)},has(e,n){return n in e||n in Ql}}))}function ND(t,e=!0){return Oe(t)?t.displayName||t.name:t.name||e&&t.__name}function DD(t){return Oe(t)&&"__vccOpts"in t}const I=(t,e)=>DN(t,e,Ic);function Sr(t,e,n){const r=arguments.length;return r===2?dt(e)&&!Te(e)?zg(e)?m(t,null,[e]):m(t,e):m(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&zg(n)&&(n=[n]),m(t,e,n))}const OD=Symbol(""),LD=()=>tt(OD),MD="3.2.47",FD="http://www.w3.org/2000/svg",Gs=typeof document<"u"?document:null,s0=Gs&&Gs.createElement("template"),VD={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Gs.createElementNS(FD,t):Gs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Gs.createTextNode(t),createComment:t=>Gs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{s0.innerHTML=r?`<svg>${t}</svg>`:t;const a=s0.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function BD(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function UD(t,e,n){const r=t.style,i=_t(n);if(n&&!i){if(e&&!_t(e))for(const s in e)n[s]==null&&qg(r,s,"");for(const s in n)qg(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const o0=/\s*!important$/;function qg(t,e,n){if(Te(n))n.forEach(r=>qg(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=$D(t,e);o0.test(n)?t.setProperty(Za(r),n.replace(o0,""),"important"):t[r]=n}}const a0=["Webkit","Moz","ms"],xm={};function $D(t,e){const n=xm[e];if(n)return n;let r=ar(e);if(r!=="filter"&&r in t)return xm[e]=r;r=Ci(r);for(let i=0;i<a0.length;i++){const s=a0[i]+r;if(s in t)return xm[e]=s}return e}const l0="http://www.w3.org/1999/xlink";function zD(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(l0,e.slice(6,e.length)):t.setAttributeNS(l0,e,n);else{const s=jP(e);n==null||s&&!rS(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function qD(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=rS(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function ra(t,e,n,r){t.addEventListener(e,n,r)}function jD(t,e,n,r){t.removeEventListener(e,n,r)}function HD(t,e,n,r,i=null){const s=t._vei||(t._vei={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=KD(e);if(r){const c=s[e]=YD(r,i);ra(t,a,c,l)}else o&&(jD(t,a,o,l),s[e]=void 0)}}const c0=/(?:Once|Passive|Capture)$/;function KD(t){let e;if(c0.test(t)){e={};let r;for(;r=t.match(c0);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Za(t.slice(2)),e]}let Pm=0;const GD=Promise.resolve(),WD=()=>Pm||(GD.then(()=>Pm=0),Pm=Date.now());function YD(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ir(QD(r,n.value),e,5,[r])};return n.value=t,n.attached=WD(),n}function QD(t,e){if(Te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const u0=/^on[a-z]/,XD=(t,e,n,r,i=!1,s,o,a,l)=>{e==="class"?BD(t,r,i):e==="style"?UD(t,n,r):Uh(e)?vv(e)||HD(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):JD(t,e,r,i))?qD(t,e,r,s,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),zD(t,e,r,i))};function JD(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&u0.test(e)&&Oe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||u0.test(e)&&_t(n)?!1:e in t}const qi="transition",Il="animation",Yr=(t,{slots:e})=>Sr(LS,n1(t),e);Yr.displayName="Transition";const t1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ZD=Yr.props=Gt({},LS.props,t1),Vs=(t,e=[])=>{Te(t)?t.forEach(n=>n(...e)):t&&t(...e)},d0=t=>t?Te(t)?t.some(e=>e.length>1):t.length>1:!1;function n1(t){const e={};for(const P in t)P in t1||(e[P]=t[P]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=t,g=eO(i),p=g&&g[0],w=g&&g[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:v,onLeave:T,onLeaveCancelled:S,onBeforeAppear:A=y,onAppear:C=b,onAppearCancelled:E=v}=e,R=(P,V,W)=>{Qi(P,V?u:a),Qi(P,V?c:o),W&&W()},O=(P,V)=>{P._isLeaving=!1,Qi(P,d),Qi(P,f),Qi(P,h),V&&V()},F=P=>(V,W)=>{const ae=P?C:b,X=()=>R(V,P,W);Vs(ae,[V,X]),h0(()=>{Qi(V,P?l:s),si(V,P?u:a),d0(ae)||f0(V,r,p,X)})};return Gt(e,{onBeforeEnter(P){Vs(y,[P]),si(P,s),si(P,o)},onBeforeAppear(P){Vs(A,[P]),si(P,l),si(P,c)},onEnter:F(!1),onAppear:F(!0),onLeave(P,V){P._isLeaving=!0;const W=()=>O(P,V);si(P,d),i1(),si(P,h),h0(()=>{P._isLeaving&&(Qi(P,d),si(P,f),d0(T)||f0(P,r,w,W))}),Vs(T,[P,W])},onEnterCancelled(P){R(P,!1),Vs(v,[P])},onAppearCancelled(P){R(P,!0),Vs(E,[P])},onLeaveCancelled(P){O(P),Vs(S,[P])}})}function eO(t){if(t==null)return null;if(dt(t))return[Nm(t.enter),Nm(t.leave)];{const e=Nm(t);return[e,e]}}function Nm(t){return XP(t)}function si(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Qi(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function h0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let tO=0;function f0(t,e,n,r){const i=t._endId=++tO,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=r1(t,e);if(!o)return r();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,h),s()},h=f=>{f.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,h)}function r1(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${qi}Delay`),s=r(`${qi}Duration`),o=m0(i,s),a=r(`${Il}Delay`),l=r(`${Il}Duration`),c=m0(a,l);let u=null,d=0,h=0;e===qi?o>0&&(u=qi,d=o,h=s.length):e===Il?c>0&&(u=Il,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?qi:Il:null,h=u?u===qi?s.length:l.length:0);const f=u===qi&&/\b(transform|all)(,|$)/.test(r(`${qi}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function m0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>g0(n)+g0(t[r])))}function g0(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function i1(){return document.body.offsetHeight}const s1=new WeakMap,o1=new WeakMap,a1={name:"TransitionGroup",props:Gt({},ZD,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Xh(),r=OS();let i,s;return US(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!aO(i[0].el,n.vnode.el,o))return;i.forEach(iO),i.forEach(sO);const a=i.filter(oO);i1(),a.forEach(l=>{const c=l.el,u=c.style;si(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=h=>{h&&h.target!==c||(!h||/transform$/.test(h.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,Qi(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=De(t),a=n1(o);let l=o.tag||Me;i=s,s=e.default?Ov(e.default()):[];for(let c=0;c<s.length;c++){const u=s[c];u.key!=null&&bc(u,wc(u,a,r,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];bc(u,wc(u,a,r,n)),s1.set(u,u.el.getBoundingClientRect())}return m(l,null,s)}}},nO=t=>delete t.mode;a1.props;const rO=a1;function iO(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function sO(t){o1.set(t,t.el.getBoundingClientRect())}function oO(t){const e=s1.get(t),n=o1.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function aO(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:s}=r1(r);return i.removeChild(r),s}const p0=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Te(e)?n=>Ed(e,n):e};function lO(t){t.target.composing=!0}function v0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cO={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=p0(i);const s=r||i.props&&i.props.type==="number";ra(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Pg(a)),t._assign(a)}),n&&ra(t,"change",()=>{t.value=t.value.trim()}),e||(ra(t,"compositionstart",lO),ra(t,"compositionend",v0),ra(t,"change",v0))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=p0(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&Pg(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},No={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Sl(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Sl(t,!0),r.enter(t)):r.leave(t,()=>{Sl(t,!1)}):Sl(t,e))},beforeUnmount(t,{value:e}){Sl(t,e)}};function Sl(t,e){t.style.display=e?t._vod:"none"}const uO=Gt({patchProp:XD},VD);let y0;function dO(){return y0||(y0=gD(uO))}const hO=(...t)=>{const e=dO().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=fO(r);if(!i)return;const s=e._component;!Oe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function fO(t){return _t(t)?document.querySelector(t):t}const Vn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};const kt=typeof window<"u",$v=kt&&"IntersectionObserver"in window,mO=kt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),gO=kt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function Sc(t){const e=z(),n=z();if(kt){const r=new ResizeObserver(i=>{t==null||t(i,r),i.length&&(n.value=i[0].contentRect)});Fn(()=>{r.disconnect()}),fe(e,(i,s)=>{s&&(r.unobserve(s),n.value=void 0),i&&r.observe(i)},{flush:"post"})}return{resizeRef:e,contentRect:iu(n)}}function w0(t,e,n){pO(t,e),e.set(t,n)}function pO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vO(t,e,n){var r=l1(t,e,"set");return yO(t,r,n),n}function yO(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function Bs(t,e){var n=l1(t,e,"get");return wO(t,n)}function l1(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function wO(t,e){return e.get?e.get.call(t):e.value}function c1(t,e,n){const r=e.length-1;if(r<0)return t===void 0?n:t;for(let i=0;i<r;i++){if(t==null)return n;t=t[e[i]]}return t==null||t[e[r]]===void 0?n:t[e[r]]}function Zh(t,e){if(t===e)return!0;if(t instanceof Date&&e instanceof Date&&t.getTime()!==e.getTime()||t!==Object(t)||e!==Object(e))return!1;const n=Object.keys(t);return n.length!==Object.keys(e).length?!1:n.every(r=>Zh(t[r],e[r]))}function jg(t,e,n){return t==null||!e||typeof e!="string"?n:t[e]!==void 0?t[e]:(e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,""),c1(t,e.split("."),n))}function Tl(t,e,n){if(e==null)return t===void 0?n:t;if(t!==Object(t)){if(typeof e!="function")return n;const i=e(t,n);return typeof i>"u"?n:i}if(typeof e=="string")return jg(t,e,n);if(Array.isArray(e))return c1(t,e,n);if(typeof e!="function")return n;const r=e(t,n);return typeof r>"u"?n:r}function zv(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:t},(n,r)=>e+r)}function de(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(t==null||t===""))return isNaN(+t)?String(t):isFinite(+t)?`${Number(t)}${e}`:void 0}function Hg(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function bO(t){return t==null?void 0:t.$el}const b0=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),_O=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function ef(t,e,n){const r=Object.create(null),i=Object.create(null);for(const s in t)e.some(o=>o instanceof RegExp?o.test(s):o===s)&&!(n!=null&&n.some(o=>o===s))?r[s]=t[s]:i[s]=t[s];return[r,i]}function EO(t,e){const n={...t};return e.forEach(r=>delete n[r]),n}function qv(t){return ef(t,["class","style","id",/^data-/])}function ga(t){return t==null?[]:Array.isArray(t)?t:[t]}function gr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(e,Math.min(n,t))}function _0(t){const e=t.toString().trim();return e.includes(".")?e.length-e.indexOf(".")-1:0}function E0(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function IO(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function I0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(t<e)return`${t} B`;const n=e===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(t)>=e&&r<n.length-1;)t/=e,++r;return`${t.toFixed(1)} ${n[r]}B`}function bi(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const i in t)r[i]=t[i];for(const i in e){const s=t[i],o=e[i];if(Hg(s)&&Hg(o)){r[i]=bi(s,o,n);continue}if(Array.isArray(s)&&Array.isArray(o)&&n){r[i]=n(s,o);continue}r[i]=o}return r}function as(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(as.cache.has(t))return as.cache.get(t);const e=t.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return as.cache.set(t,e),e}as.cache=new Map;function Zl(t,e){if(!e||typeof e!="object")return[];if(Array.isArray(e))return e.map(n=>Zl(t,n)).flat(1);if(Array.isArray(e.children))return e.children.map(n=>Zl(t,n)).flat(1);if(e.component){if(Object.getOwnPropertySymbols(e.component.provides).includes(t))return[e.component];if(e.component.subTree)return Zl(t,e.component.subTree).flat(1)}return[]}var Xu=new WeakMap,Go=new WeakMap;class SO{constructor(e){w0(this,Xu,{writable:!0,value:[]}),w0(this,Go,{writable:!0,value:0}),this.size=e}push(e){Bs(this,Xu)[Bs(this,Go)]=e,vO(this,Go,(Bs(this,Go)+1)%this.size)}values(){return Bs(this,Xu).slice(Bs(this,Go)).concat(Bs(this,Xu).slice(0,Bs(this,Go)))}}function TO(t){return"touches"in t?{clientX:t.touches[0].clientX,clientY:t.touches[0].clientY}:{clientX:t.clientX,clientY:t.clientY}}function jv(t){const e=tn({}),n=I(t);return Ts(()=>{for(const r in n.value)e[r]=n.value[r]},{flush:"sync"}),xv(e)}function Wd(t,e){return t.includes(e)}const CO=/^on[^a-z]/,AO=t=>CO.test(t),qr=()=>[Function,Array];function S0(t,e){return e="on"+Ci(e),!!(t[e]||t[`${e}Once`]||t[`${e}Capture`]||t[`${e}OnceCapture`]||t[`${e}CaptureOnce`])}function Hv(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Array.isArray(t))for(const i of t)i(...n);else typeof t=="function"&&t(...n)}function Kv(t){const e=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(n=>`${n}:not([tabindex="-1"]):not([disabled])`).join(", ");return[...t.querySelectorAll(e)]}function u1(t,e){var i,s,o;const n=Kv(t),r=n.indexOf(document.activeElement);if(!e)t.contains(document.activeElement)||(i=n[0])==null||i.focus();else if(e==="first")(s=n[0])==null||s.focus();else if(e==="last")(o=n.at(-1))==null||o.focus();else{let a,l=r;const c=e==="next"?1:-1;do l+=c,a=n[l];while((!a||a.offsetParent==null)&&l<n.length&&l>=0);a?a.focus():u1(t,e==="next"?"first":"last")}}const d1=["top","bottom"],kO=["start","end","left","right"];function Kg(t,e){let[n,r]=t.split(" ");return r||(r=Wd(d1,n)?"start":Wd(kO,n)?"top":"center"),{side:Gg(n,e),align:Gg(r,e)}}function Gg(t,e){return t==="start"?e?"right":"left":t==="end"?e?"left":"right":t}function Dm(t){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.side],align:t.align}}function Om(t){return{side:t.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[t.align]}}function T0(t){return{side:t.align,align:t.side}}function C0(t){return Wd(d1,t.side)?"y":"x"}class pa{constructor(e){let{x:n,y:r,width:i,height:s}=e;this.x=n,this.y=r,this.width=i,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function A0(t,e){return{x:{before:Math.max(0,e.left-t.left),after:Math.max(0,t.right-e.right)},y:{before:Math.max(0,e.top-t.top),after:Math.max(0,t.bottom-e.bottom)}}}function Gv(t){const e=t.getBoundingClientRect(),n=getComputedStyle(t),r=n.transform;if(r){let i,s,o,a,l;if(r.startsWith("matrix3d("))i=r.slice(9,-1).split(/, /),s=+i[0],o=+i[5],a=+i[12],l=+i[13];else if(r.startsWith("matrix("))i=r.slice(7,-1).split(/, /),s=+i[0],o=+i[3],a=+i[4],l=+i[5];else return new pa(e);const c=n.transformOrigin,u=e.x-a-(1-s)*parseFloat(c),d=e.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),h=s?e.width/s:t.offsetWidth+1,f=o?e.height/o:t.offsetHeight+1;return new pa({x:u,y:d,width:h,height:f})}else return new pa(e)}function la(t,e,n){if(typeof t.animate>"u")return{finished:Promise.resolve()};let r;try{r=t.animate(e,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(i=>{r.onfinish=()=>{i(r)}})),r}function h1(t,e,n){if(n&&(e={__isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return`[Vuetify] ${t}`+(e?PO(e):"")}function ls(t,e,n){const r=h1(t,e,n);r!=null&&console.warn(r)}function Wg(t,e,n){const r=h1(t,e,n);r!=null&&console.error(r)}const RO=/(?:^|[-_])(\w)/g,xO=t=>t.replace(RO,e=>e.toUpperCase()).replace(/[-_]/g,"");function Lm(t,e){if(t.$root===t)return"<Root>";const n=typeof t=="function"&&t.cid!=null?t.options:t.__isVue?t.$options||t.constructor.options:t||{};let r=n.name||n._componentTag;const i=n.__file;if(!r&&i){const s=i.match(/([^/\\]+)\.vue$/);r=s==null?void 0:s[1]}return(r?`<${xO(r)}>`:"<Anonymous>")+(i&&e!==!1?` at ${i}`:"")}function PO(t){if(t.__isVue&&t.$parent){const e=[];let n=0;for(;t;){if(e.length>0){const r=e[e.length-1];if(r.constructor===t.constructor){n++,t=t.$parent;continue}else n>0&&(e[e.length-1]=[r,n],n=0)}e.push(t),t=t.$parent}return`

found in

`+e.map((r,i)=>`${i===0?"---> ":" ".repeat(5+i*2)}${Array.isArray(r)?`${Lm(r[0])}... (${r[1]} recursive calls)`:Lm(r)}`).join(`
`)}else return`

(found in ${Lm(t)})`}const NO=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],DO=t=>t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055,OO=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],LO=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4;function f1(t){const e=Array(3),n=DO,r=NO;for(let i=0;i<3;++i)e[i]=Math.round(gr(n(r[i][0]*t[0]+r[i][1]*t[1]+r[i][2]*t[2]))*255);return{r:e[0],g:e[1],b:e[2]}}function Wv(t){let{r:e,g:n,b:r}=t;const i=[0,0,0],s=LO,o=OO;e=s(e/255),n=s(n/255),r=s(r/255);for(let a=0;a<3;++a)i[a]=o[a][0]*e+o[a][1]*n+o[a][2]*r;return i}const Yd=.20689655172413793,MO=t=>t>Yd**3?Math.cbrt(t):t/(3*Yd**2)+4/29,FO=t=>t>Yd?t**3:3*Yd**2*(t-4/29);function m1(t){const e=MO,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function g1(t){const e=FO,n=(t[0]+16)/116;return[e(n+t[1]/500)*.95047,e(n),e(n-t[2]/200)*1.08883]}function k0(t){return!!t&&/^(#|var\(--|(rgb|hsl)a?\()/.test(t)}function eo(t){if(typeof t=="number")return(isNaN(t)||t<0||t>16777215)&&ls(`'${t}' is not a valid hex color`),{r:(t&16711680)>>16,g:(t&65280)>>8,b:t&255};if(typeof t=="string"){let e=t.startsWith("#")?t.slice(1):t;[3,4].includes(e.length)?e=e.split("").map(r=>r+r).join(""):[6,8].includes(e.length)||ls(`'${t}' is not a valid hex(a) color`);const n=parseInt(e,16);return(isNaN(n)||n<0||n>4294967295)&&ls(`'${t}' is not a valid hex(a) color`),b1(e)}else throw new TypeError(`Colors can only be numbers or strings, recieved ${t==null?t:t.constructor.name} instead`)}function tf(t){const{h:e,s:n,v:r,a:i}=t,s=a=>{const l=(a+e/60)%6;return r-r*n*Math.max(Math.min(l,4-l,1),0)},o=[s(5),s(3),s(1)].map(a=>Math.round(a*255));return{r:o[0],g:o[1],b:o[2],a:i}}function Yv(t){if(!t)return{h:0,s:1,v:1,a:1};const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),s=Math.min(e,n,r);let o=0;i!==s&&(i===e?o=60*(0+(n-r)/(i-s)):i===n?o=60*(2+(r-e)/(i-s)):i===r&&(o=60*(4+(e-n)/(i-s)))),o<0&&(o=o+360);const a=i===0?0:(i-s)/i,l=[o,a,i];return{h:l[0],s:l[1],v:l[2],a:t.a}}function p1(t){const{h:e,s:n,v:r,a:i}=t,s=r-r*n/2,o=s===1||s===0?0:(r-s)/Math.min(s,1-s);return{h:e,s:o,l:s,a:i}}function v1(t){const{h:e,s:n,l:r,a:i}=t,s=r+n*Math.min(r,1-r),o=s===0?0:2-2*r/s;return{h:e,s:o,v:s,a:i}}function VO(t){let{r:e,g:n,b:r,a:i}=t;return i===void 0?`rgb(${e}, ${n}, ${r})`:`rgba(${e}, ${n}, ${r}, ${i})`}function y1(t){return VO(tf(t))}function Ju(t){const e=Math.round(t).toString(16);return("00".substr(0,2-e.length)+e).toUpperCase()}function w1(t){let{r:e,g:n,b:r,a:i}=t;return`#${[Ju(e),Ju(n),Ju(r),i!==void 0?Ju(Math.round(i*255)):""].join("")}`}function b1(t){t=I1(t);let[e,n,r,i]=IO(t,2).map(s=>parseInt(s,16));return i=i===void 0?i:i/255,{r:e,g:n,b:r,a:i}}function _1(t){const e=b1(t);return Yv(e)}function E1(t){return w1(tf(t))}function I1(t){return t.startsWith("#")&&(t=t.slice(1)),t=t.replace(/([^0-9a-f])/gi,"F"),(t.length===3||t.length===4)&&(t=t.split("").map(e=>e+e).join("")),t.length!==6&&(t=E0(E0(t,6),8,"F")),t}function BO(t,e){const n=m1(Wv(t));return n[0]=n[0]+e*10,f1(g1(n))}function UO(t,e){const n=m1(Wv(t));return n[0]=n[0]-e*10,f1(g1(n))}function Yg(t){const e=eo(t);return Wv(e)[1]}function $O(t,e){const n=Yg(t),r=Yg(e),i=Math.max(n,r),s=Math.min(n,r);return(i+.05)/(s+.05)}function Ae(t,e){return n=>Object.keys(t).reduce((r,i)=>{const o=typeof t[i]=="object"&&t[i]!=null&&!Array.isArray(t[i])?t[i]:{type:t[i]};return n&&i in n?r[i]={...o,default:n[i]}:r[i]=o,e&&!r[i].source&&(r[i].source=e),r},{})}const Se=Ae({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function vo(t,e){let n;function r(){n=_v(),n.run(()=>e.length?e(()=>{n==null||n.stop(),r()}):e())}fe(t,i=>{i&&!n?r():i||(n==null||n.stop(),n=void 0)},{immediate:!0}),lr(()=>{n==null||n.stop()})}const Tc=Symbol.for("vuetify:defaults");function zO(t){return z(t)}function Qv(){const t=tt(Tc);if(!t)throw new Error("[Vuetify] Could not find defaults instance");return t}function ei(t,e){const n=Qv(),r=z(t),i=I(()=>{if(qn(e==null?void 0:e.disabled))return n.value;const o=qn(e==null?void 0:e.scoped),a=qn(e==null?void 0:e.reset),l=qn(e==null?void 0:e.root);let c=bi(r.value,{prev:n.value});if(o)return c;if(a||l){const u=Number(a||1/0);for(let d=0;d<=u&&!(!c||!("prev"in c));d++)c=c.prev;return c}return c.prev?bi(c.prev,c):c});return rn(Tc,i),i}function qO(t,e){var n,r;return typeof((n=t.props)==null?void 0:n[e])<"u"||typeof((r=t.props)==null?void 0:r[as(e)])<"u"}function jO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qv();const r=vn("useDefaults");if(e=e??r.type.name??r.type.__name,!e)throw new Error("[Vuetify] Could not determine component name");const i=I(()=>{var l;return(l=n.value)==null?void 0:l[t._as??e]}),s=new Proxy(t,{get(l,c){var d,h,f,g;const u=Reflect.get(l,c);return c==="class"||c==="style"?[(d=i.value)==null?void 0:d[c],u].filter(p=>p!=null):typeof c=="string"&&!qO(r.vnode,c)?((h=i.value)==null?void 0:h[c])??((g=(f=n.value)==null?void 0:f.global)==null?void 0:g[c])??u:u}}),o=Rv();Ts(()=>{if(i.value){const l=Object.entries(i.value).filter(c=>{let[u]=c;return u.startsWith(u[0].toUpperCase())});l.length&&(o.value=Object.fromEntries(l))}});function a(){vo(o,()=>{var l;ei(bi(((l=WO(Tc))==null?void 0:l.value)??{},o.value))})}return{props:s,provideSubDefaults:a}}function Tr(t){if(t._setup=t._setup??t.setup,!t.name)return ls("The component is missing an explicit name, unable to generate default prop value"),t;if(t._setup){t.props=Ae(t.props??{},as(t.name))();const e=Object.keys(t.props);t.filterProps=function(r){return ef(r,e,["class","style"])},t.props._as=String,t.setup=function(r,i){const s=Qv();if(!s.value)return t._setup(r,i);const{props:o,provideSubDefaults:a}=jO(r,r._as??t.name,s),l=t._setup(o,i);return a(),l}}return t}function ve(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return e=>(t?Tr:Kh)(e)}function Do(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ve()({name:n??Ci(ar(t.replace(/__/g,"-"))),props:{tag:{type:String,default:e},...Se()},setup(r,i){let{slots:s}=i;return()=>{var o;return Sr(r.tag,{class:[t,r.class],style:r.style},(o=s.default)==null?void 0:o.call(s))}}})}function S1(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}const Qd="cubic-bezier(0.4, 0, 0.2, 1)",HO="cubic-bezier(0.0, 0, 0.2, 1)",KO="cubic-bezier(0.4, 0, 1, 1)";function vn(t,e){const n=Xh();if(!n)throw new Error(`[Vuetify] ${t} ${e||"must be called from inside a setup function"}`);return n}function ki(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const e=vn(t).type;return as((e==null?void 0:e.aliasName)||(e==null?void 0:e.name))}let T1=0,Td=new WeakMap;function Cs(){const t=vn("getUid");if(Td.has(t))return Td.get(t);{const e=T1++;return Td.set(t,e),e}}Cs.reset=()=>{T1=0,Td=new WeakMap};function GO(t){for(;t;){if(Xv(t))return t;t=t.parentElement}return document.scrollingElement}function Xd(t,e){const n=[];if(e&&t&&!e.contains(t))return n;for(;t&&(Xv(t)&&n.push(t),t!==e);)t=t.parentElement;return n}function Xv(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;const e=window.getComputedStyle(t);return e.overflowY==="scroll"||e.overflowY==="auto"&&t.scrollHeight>t.clientHeight}function WO(t){const{provides:e}=vn("injectSelf");if(e&&t in e)return e[t]}function YO(t){for(;t;){if(window.getComputedStyle(t).position==="fixed")return!0;t=t.offsetParent}return!1}function Ee(t){const e=vn("useRender");e.render=t}const Jd=Symbol.for("vuetify:layout"),C1=Symbol.for("vuetify:layout-item"),R0=1e3,QO=Ae({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),A1=Ae({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function XO(){const t=tt(Jd);if(!t)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:t.getLayoutItem,mainRect:t.mainRect,mainStyles:t.mainStyles}}function k1(t){const e=tt(Jd);if(!e)throw new Error("[Vuetify] Could not find injected layout");const n=t.id??`layout-item-${Cs()}`,r=vn("useLayoutItem");rn(C1,{id:n});const i=z(!1);VS(()=>i.value=!0),FS(()=>i.value=!1);const{layoutItemStyles:s,layoutItemScrimStyles:o}=e.register(r,{...t,active:I(()=>i.value?!1:t.active.value),id:n});return Fn(()=>e.unregister(n)),{layoutItemStyles:s,layoutRect:e.layoutRect,layoutItemScrimStyles:o}}const JO=(t,e,n,r)=>{let i={top:0,left:0,right:0,bottom:0};const s=[{id:"",layer:{...i}}];for(const o of t){const a=e.get(o),l=n.get(o),c=r.get(o);if(!a||!l||!c)continue;const u={...i,[a.value]:parseInt(i[a.value],10)+(c.value?parseInt(l.value,10):0)};s.push({id:o,layer:u}),i=u}return s};function ZO(t){const e=tt(Jd,null),n=I(()=>e?e.rootZIndex.value-100:R0),r=z([]),i=tn(new Map),s=tn(new Map),o=tn(new Map),a=tn(new Map),l=tn(new Map),{resizeRef:c,contentRect:u}=Sc(),d=I(()=>{const A=new Map,C=t.overlaps??[];for(const E of C.filter(R=>R.includes(":"))){const[R,O]=E.split(":");if(!r.value.includes(R)||!r.value.includes(O))continue;const F=i.get(R),P=i.get(O),V=s.get(R),W=s.get(O);!F||!P||!V||!W||(A.set(O,{position:F.value,amount:parseInt(V.value,10)}),A.set(R,{position:P.value,amount:-parseInt(W.value,10)}))}return A}),h=I(()=>{const A=[...new Set([...o.values()].map(E=>E.value))].sort((E,R)=>E-R),C=[];for(const E of A){const R=r.value.filter(O=>{var F;return((F=o.get(O))==null?void 0:F.value)===E});C.push(...R)}return JO(C,i,s,a)}),f=I(()=>!Array.from(l.values()).some(A=>A.value)),g=I(()=>h.value[h.value.length-1].layer),p=I(()=>({"--v-layout-left":de(g.value.left),"--v-layout-right":de(g.value.right),"--v-layout-top":de(g.value.top),"--v-layout-bottom":de(g.value.bottom),...f.value?void 0:{transition:"none"}})),w=I(()=>h.value.slice(1).map((A,C)=>{let{id:E}=A;const{layer:R}=h.value[C],O=s.get(E),F=i.get(E);return{id:E,...R,size:Number(O.value),position:F.value}})),y=A=>w.value.find(C=>C.id===A),b=vn("createLayout"),v=z(!1);Yn(()=>{v.value=!0}),rn(Jd,{register:(A,C)=>{let{id:E,order:R,position:O,layoutSize:F,elementSize:P,active:V,disableTransitions:W,absolute:ae}=C;o.set(E,R),i.set(E,O),s.set(E,F),a.set(E,V),W&&l.set(E,W);const K=Zl(C1,b==null?void 0:b.vnode).indexOf(A);K>-1?r.value.splice(K,0,E):r.value.push(E);const Z=I(()=>w.value.findIndex(Ie=>Ie.id===E)),ie=I(()=>n.value+h.value.length*2-Z.value*2),re=I(()=>{const Ie=O.value==="left"||O.value==="right",We=O.value==="right",nt=O.value==="bottom",B={[O.value]:0,zIndex:ie.value,transform:`translate${Ie?"X":"Y"}(${(V.value?0:-110)*(We||nt?-1:1)}%)`,position:ae.value||n.value!==R0?"absolute":"fixed",...f.value?void 0:{transition:"none"}};if(!v.value)return B;const D=w.value[Z.value];if(!D)throw new Error(`[Vuetify] Could not find layout item "${E}"`);const G=d.value.get(E);return G&&(D[G.position]+=G.amount),{...B,height:Ie?`calc(100% - ${D.top}px - ${D.bottom}px)`:P.value?`${P.value}px`:void 0,left:We?void 0:`${D.left}px`,right:We?`${D.right}px`:void 0,top:O.value!=="bottom"?`${D.top}px`:void 0,bottom:O.value!=="top"?`${D.bottom}px`:void 0,width:Ie?P.value?`${P.value}px`:void 0:`calc(100% - ${D.left}px - ${D.right}px)`}}),ce=I(()=>({zIndex:ie.value-1}));return{layoutItemStyles:re,layoutItemScrimStyles:ce,zIndex:ie}},unregister:A=>{o.delete(A),i.delete(A),s.delete(A),a.delete(A),l.delete(A),r.value=r.value.filter(C=>C!==A)},mainRect:g,mainStyles:p,getLayoutItem:y,items:w,layoutRect:u,rootZIndex:n});const T=I(()=>["v-layout",{"v-layout--full-height":t.fullHeight}]),S=I(()=>({zIndex:n.value,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:T,layoutStyles:S,getLayoutItem:y,items:w,layoutRect:u,layoutRef:c}}const Wo=2.4,x0=.2126729,P0=.7151522,N0=.072175,eL=.55,tL=.58,nL=.57,rL=.62,Zu=.03,D0=1.45,iL=5e-4,sL=1.25,oL=1.25,O0=.078,L0=12.82051282051282,ed=.06,M0=.001;function F0(t,e){const n=(t.r/255)**Wo,r=(t.g/255)**Wo,i=(t.b/255)**Wo,s=(e.r/255)**Wo,o=(e.g/255)**Wo,a=(e.b/255)**Wo;let l=n*x0+r*P0+i*N0,c=s*x0+o*P0+a*N0;if(l<=Zu&&(l+=(Zu-l)**D0),c<=Zu&&(c+=(Zu-c)**D0),Math.abs(c-l)<iL)return 0;let u;if(c>l){const d=(c**eL-l**tL)*sL;u=d<M0?0:d<O0?d-d*L0*ed:d-ed}else{const d=(c**rL-l**nL)*oL;u=d>-M0?0:d>-O0?d-d*L0*ed:d+ed}return u*100}const Zd=Symbol.for("vuetify:theme"),xt=Ae({theme:String},"theme"),Cl={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function aL(){var n,r;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cl;if(!t)return{...Cl,isDisabled:!0};const e={};for(const[i,s]of Object.entries(t.themes??{})){const o=s.dark||i==="dark"?(n=Cl.themes)==null?void 0:n.dark:(r=Cl.themes)==null?void 0:r.light;e[i]=bi(o,s)}return bi(Cl,{...t,themes:e})}function lL(t){const e=tn(aL(t)),n=z(e.defaultTheme),r=z(e.themes),i=I(()=>{const u={};for(const[d,h]of Object.entries(r.value)){const f=u[d]={...h,colors:{...h.colors}};if(e.variations)for(const g of e.variations.colors){const p=f.colors[g];if(p)for(const w of["lighten","darken"]){const y=w==="lighten"?BO:UO;for(const b of zv(e.variations[w],1))f.colors[`${g}-${w}-${b}`]=w1(y(eo(p),b))}}for(const g of Object.keys(f.colors)){if(/^on-[a-z]/.test(g)||f.colors[`on-${g}`])continue;const p=`on-${g}`,w=eo(f.colors[g]),y=Math.abs(F0(eo(0),w)),b=Math.abs(F0(eo(16777215),w));f.colors[p]=b>Math.min(y,50)?"#fff":"#000"}}return u}),s=I(()=>i.value[n.value]),o=I(()=>{const u=[];s.value.dark&&Us(u,":root",["color-scheme: dark"]),Us(u,":root",V0(s.value));for(const[g,p]of Object.entries(i.value))Us(u,`.v-theme--${g}`,[`color-scheme: ${p.dark?"dark":"normal"}`,...V0(p)]);const d=[],h=[],f=new Set(Object.values(i.value).flatMap(g=>Object.keys(g.colors)));for(const g of f)/^on-[a-z]/.test(g)?Us(h,`.${g}`,[`color: rgb(var(--v-theme-${g})) !important`]):(Us(d,`.bg-${g}`,[`--v-theme-overlay-multiplier: var(--v-theme-${g}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${g})) !important`,`color: rgb(var(--v-theme-on-${g})) !important`]),Us(h,`.text-${g}`,[`color: rgb(var(--v-theme-${g})) !important`]),Us(h,`.border-${g}`,[`--v-border-color: var(--v-theme-${g})`]));return u.push(...d,...h),u.map((g,p)=>p===0?g:`    ${g}`).join("")});function a(){return{style:[{children:o.value,id:"vuetify-theme-stylesheet",nonce:e.cspNonce||!1}]}}function l(u){const d=u._context.provides.usehead;if(d)if(d.push){const f=d.push(a);fe(o,()=>{f.patch(a)})}else kt?(d.addHeadObjs(I(a)),Ts(()=>d.updateDOM())):d.addHeadObjs(a());else{let g=function(){if(!e.isDisabled){if(typeof document<"u"&&!f){const p=document.createElement("style");p.type="text/css",p.id="vuetify-theme-stylesheet",e.cspNonce&&p.setAttribute("nonce",e.cspNonce),f=p,document.head.appendChild(f)}f&&(f.innerHTML=o.value)}};var h=g;let f=kt?document.getElementById("vuetify-theme-stylesheet"):null;fe(o,g,{immediate:!0})}}const c=I(()=>e.isDisabled?void 0:`v-theme--${n.value}`);return{install:l,isDisabled:e.isDisabled,name:n,themes:r,current:s,computedThemes:i,themeClasses:c,styles:o,global:{name:n,current:s}}}function Mt(t){vn("provideTheme");const e=tt(Zd,null);if(!e)throw new Error("Could not find Vuetify theme injection");const n=I(()=>t.theme??(e==null?void 0:e.name.value)),r=I(()=>e.isDisabled?void 0:`v-theme--${n.value}`),i={...e,name:n,themeClasses:r};return rn(Zd,i),i}function Us(t,e,n){t.push(`${e} {
`,...n.map(r=>`  ${r};
`),`}
`)}function V0(t){const e=t.dark?2:1,n=t.dark?1:2,r=[];for(const[i,s]of Object.entries(t.colors)){const o=eo(s);r.push(`--v-theme-${i}: ${o.r},${o.g},${o.b}`),i.startsWith("on-")||r.push(`--v-theme-${i}-overlay-multiplier: ${Yg(s)>.18?e:n}`)}for(const[i,s]of Object.entries(t.variables)){const o=typeof s=="string"&&s.startsWith("#")?eo(s):void 0,a=o?`${o.r}, ${o.g}, ${o.b}`:void 0;r.push(`--v-${i}: ${a??s}`)}return r}function Lt(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const s=vn("useProxiedModel"),o=z(t[e]!==void 0?t[e]:n),a=as(e),c=I(a!==e?()=>{var d,h,f,g;return t[e],!!(((d=s.vnode.props)!=null&&d.hasOwnProperty(e)||(h=s.vnode.props)!=null&&h.hasOwnProperty(a))&&((f=s.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${e}`)||(g=s.vnode.props)!=null&&g.hasOwnProperty(`onUpdate:${a}`)))}:()=>{var d,h;return t[e],!!((d=s.vnode.props)!=null&&d.hasOwnProperty(e)&&((h=s.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${e}`)))});vo(()=>!c.value,()=>{fe(()=>t[e],d=>{o.value=d})});const u=I({get(){const d=t[e];return r(c.value?d:o.value)},set(d){const h=i(d),f=De(c.value?t[e]:o.value);f===h||r(f)===d||(o.value=h,s==null||s.emit(`update:${e}`,h))}});return Object.defineProperty(u,"externalValue",{get:()=>c.value?t[e]:o.value}),u}const cL={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},B0="$vuetify.",U0=(t,e)=>t.replace(/\{(\d+)\}/g,(n,r)=>String(e[+r])),R1=(t,e,n)=>function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(!r.startsWith(B0))return U0(r,s);const a=r.replace(B0,""),l=t.value&&n.value[t.value],c=e.value&&n.value[e.value];let u=jg(l,a,null);return u||(ls(`Translation key "${r}" not found in "${t.value}", trying fallback locale`),u=jg(c,a,null)),u||(Wg(`Translation key "${r}" not found in fallback`),u=r),typeof u!="string"&&(Wg(`Translation key "${r}" has a non-string value`),u=r),U0(u,s)};function x1(t,e){return(n,r)=>new Intl.NumberFormat([t.value,e.value],r).format(n)}function Mm(t,e,n){const r=Lt(t,e,t[e]??n.value);return r.value=t[e]??n.value,fe(n,i=>{t[e]==null&&(r.value=n.value)}),r}function P1(t){return e=>{const n=Mm(e,"locale",t.current),r=Mm(e,"fallback",t.fallback),i=Mm(e,"messages",t.messages);return{name:"vuetify",current:n,fallback:r,messages:i,t:R1(n,r,i),n:x1(n,r),provide:P1({current:n,fallback:r,messages:i})}}}function uL(t){const e=z((t==null?void 0:t.locale)??"en"),n=z((t==null?void 0:t.fallback)??"en"),r=z({en:cL,...t==null?void 0:t.messages});return{name:"vuetify",current:e,fallback:n,messages:r,t:R1(e,n,r),n:x1(e,n),provide:P1({current:e,fallback:n,messages:r})}}const dL={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1},eh=Symbol.for("vuetify:locale");function hL(t){return t.name!=null}function fL(t){const e=t!=null&&t.adapter&&hL(t==null?void 0:t.adapter)?t==null?void 0:t.adapter:uL(t),n=mL(e,t);return{...e,...n}}function nf(){const t=tt(eh);if(!t)throw new Error("[Vuetify] Could not find injected locale instance");return t}function mL(t,e){const n=z((e==null?void 0:e.rtl)??dL),r=I(()=>n.value[t.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:I(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Oo(){const t=tt(eh);if(!t)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:t.isRtl,rtlClasses:t.rtlClasses}}const Lo=ve()({name:"VApp",props:{...Se(),...QO({fullHeight:!0}),...xt()},setup(t,e){let{slots:n}=e;const r=Mt(t),{layoutClasses:i,layoutStyles:s,getLayoutItem:o,items:a,layoutRef:l}=ZO(t),{rtlClasses:c}=Oo();return Ee(()=>{var u;return m("div",{ref:l,class:["v-application",r.themeClasses.value,i.value,c.value,t.class],style:[s.value,t.style]},[m("div",{class:"v-application__wrap"},[(u=n.default)==null?void 0:u.call(n)])])}),{getLayoutItem:o,items:a,theme:r}}});const ft=Ae({tag:{type:String,default:"div"}},"tag");function rf(){const t=z(!1);return Yn(()=>{window.requestAnimationFrame(()=>{t.value=!0})}),{ssrBootStyles:I(()=>t.value?void 0:{transition:"none !important"}),isBooted:iu(t)}}const ou=ve()({name:"VMain",props:{scrollable:Boolean,...Se(),...ft({tag:"main"})},setup(t,e){let{slots:n}=e;const{mainStyles:r}=XO(),{ssrBootStyles:i}=rf();return Ee(()=>m(t.tag,{class:["v-main",{"v-main--scrollable":t.scrollable},t.class],style:[r.value,i.value,t.style]},{default:()=>{var s,o;return[t.scrollable?m("div",{class:"v-main__scroller"},[(s=n.default)==null?void 0:s.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}}),gL={name:"App",data:()=>({})};function pL(t,e,n,r,i,s){const o=Fr("router-view");return Ge(),Bt(Lo,null,{default:x(()=>[m(ou,null,{default:x(()=>[m(o)]),_:1})]),_:1})}const vL=Vn(gL,[["render",pL]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ia=typeof window<"u";function yL(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ye=Object.assign;function Fm(t,e){const n={};for(const r in e){const i=e[r];n[r]=br(i)?i.map(t):t(i)}return n}const ec=()=>{},br=Array.isArray,wL=/\/$/,bL=t=>t.replace(wL,"");function Vm(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=SL(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function _L(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function $0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function EL(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&xa(e.matched[r],n.matched[i])&&N1(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function xa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function N1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!IL(t[n],e[n]))return!1;return!0}function IL(t,e){return br(t)?z0(t,e):br(e)?z0(e,t):t===e}function z0(t,e){return br(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function SL(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,s,o;for(s=0;s<r.length;s++)if(o=r[s],o!==".")if(o==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var Cc;(function(t){t.pop="pop",t.push="push"})(Cc||(Cc={}));var tc;(function(t){t.back="back",t.forward="forward",t.unknown=""})(tc||(tc={}));function TL(t){if(!t)if(ia){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),bL(t)}const CL=/^[^#]+#/;function AL(t,e){return t.replace(CL,"#")+e}function kL(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const sf=()=>({left:window.pageXOffset,top:window.pageYOffset});function RL(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=kL(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function q0(t,e){return(history.state?history.state.position-e:-1)+t}const Qg=new Map;function xL(t,e){Qg.set(t,e)}function PL(t){const e=Qg.get(t);return Qg.delete(t),e}let NL=()=>location.protocol+"//"+location.host;function D1(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),$0(l,"")}return $0(n,t)+r+i}function DL(t,e,n,r){let i=[],s=[],o=null;const a=({state:h})=>{const f=D1(t,location),g=n.value,p=e.value;let w=0;if(h){if(n.value=f,e.value=h,o&&o===g){o=null;return}w=p?h.position-p.position:0}else r(f);i.forEach(y=>{y(n.value,g,{delta:w,type:Cc.pop,direction:w?w>0?tc.forward:tc.back:tc.unknown})})};function l(){o=n.value}function c(h){i.push(h);const f=()=>{const g=i.indexOf(h);g>-1&&i.splice(g,1)};return s.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(Ye({},h.state,{scroll:sf()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function j0(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?sf():null}}function OL(t){const{history:e,location:n}=window,r={value:D1(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:NL()+t+l;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(l,c){const u=Ye({},e.state,j0(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,u,!0),r.value=l}function a(l,c){const u=Ye({},i.value,e.state,{forward:l,scroll:sf()});s(u.current,u,!0);const d=Ye({},j0(r.value,l,null),{position:u.position+1},c);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function LL(t){t=TL(t);const e=OL(t),n=DL(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Ye({location:"",base:t,go:r,createHref:AL.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function ML(t){return typeof t=="string"||t&&typeof t=="object"}function O1(t){return typeof t=="string"||typeof t=="symbol"}const ji={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},L1=Symbol("");var H0;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(H0||(H0={}));function Pa(t,e){return Ye(new Error,{type:t,[L1]:!0},e)}function ii(t,e){return t instanceof Error&&L1 in t&&(e==null||!!(t.type&e))}const K0="[^/]+?",FL={sensitive:!1,strict:!1,start:!0,end:!0},VL=/[.+*?^${}()[\]/\\]/g;function BL(t,e){const n=Ye({},FL,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(VL,"\\$&"),f+=40;else if(h.type===1){const{value:g,repeatable:p,optional:w,regexp:y}=h;s.push({name:g,repeatable:p,optional:w});const b=y||K0;if(b!==K0){f+=10;try{new RegExp(`(${b})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+T.message)}}let v=p?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(v=w&&c.length<2?`(?:/${v})`:"/"+v),w&&(v+="?"),i+=v,f+=20,w&&(f+=-8),p&&(f+=-20),b===".*"&&(f+=-50)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",g=s[h-1];d[g.name]=f&&g.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:p,optional:w}=f,y=g in c?c[g]:"";if(br(y)&&!p)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=br(y)?y.join("/"):y;if(!b)if(w)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=b}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function UL(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function $L(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=UL(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(G0(r))return 1;if(G0(i))return-1}return i.length-r.length}function G0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const zL={type:0,value:""},qL=/[a-zA-Z0-9_]/;function jL(t){if(!t)return[[]];if(t==="/")return[[zL]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function d(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:l==="("?n=2:qL.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function HL(t,e,n){const r=BL(jL(t.path),n),i=Ye(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function KL(t,e){const n=[],r=new Map;e=Q0({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function s(u,d,h){const f=!h,g=GL(u);g.aliasOf=h&&h.record;const p=Q0(e,u),w=[g];if("alias"in u){const v=typeof u.alias=="string"?[u.alias]:u.alias;for(const T of v)w.push(Ye({},g,{components:h?h.record.components:g.components,path:T,aliasOf:h?h.record:g}))}let y,b;for(const v of w){const{path:T}=v;if(d&&T[0]!=="/"){const S=d.record.path,A=S[S.length-1]==="/"?"":"/";v.path=d.record.path+(T&&A+T)}if(y=HL(v,d,p),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),f&&u.name&&!Y0(y)&&o(u.name)),g.children){const S=g.children;for(let A=0;A<S.length;A++)s(S[A],y,h&&h.children[A])}h=h||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return b?()=>{o(b)}:ec}function o(u){if(O1(u)){const d=r.get(u);d&&(r.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let d=0;for(;d<n.length&&$L(u,n[d])>=0&&(u.record.path!==n[d].record.path||!M1(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!Y0(u)&&r.set(u.record.name,u)}function c(u,d){let h,f={},g,p;if("name"in u&&u.name){if(h=r.get(u.name),!h)throw Pa(1,{location:u});p=h.record.name,f=Ye(W0(d.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&W0(u.params,h.keys.map(b=>b.name))),g=h.stringify(f)}else if("path"in u)g=u.path,h=n.find(b=>b.re.test(g)),h&&(f=h.parse(g),p=h.record.name);else{if(h=d.name?r.get(d.name):n.find(b=>b.re.test(d.path)),!h)throw Pa(1,{location:u,currentLocation:d});p=h.record.name,f=Ye({},d.params,u.params),g=h.stringify(f)}const w=[];let y=h;for(;y;)w.unshift(y.record),y=y.parent;return{name:p,path:g,params:f,matched:w,meta:YL(w)}}return t.forEach(u=>s(u)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function W0(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function GL(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:WL(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function WL(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Y0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function YL(t){return t.reduce((e,n)=>Ye(e,n.meta),{})}function Q0(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function M1(t,e){return e.children.some(n=>n===t||M1(t,n))}const F1=/#/g,QL=/&/g,XL=/\//g,JL=/=/g,ZL=/\?/g,V1=/\+/g,eM=/%5B/g,tM=/%5D/g,B1=/%5E/g,nM=/%60/g,U1=/%7B/g,rM=/%7C/g,$1=/%7D/g,iM=/%20/g;function Jv(t){return encodeURI(""+t).replace(rM,"|").replace(eM,"[").replace(tM,"]")}function sM(t){return Jv(t).replace(U1,"{").replace($1,"}").replace(B1,"^")}function Xg(t){return Jv(t).replace(V1,"%2B").replace(iM,"+").replace(F1,"%23").replace(QL,"%26").replace(nM,"`").replace(U1,"{").replace($1,"}").replace(B1,"^")}function oM(t){return Xg(t).replace(JL,"%3D")}function aM(t){return Jv(t).replace(F1,"%23").replace(ZL,"%3F")}function lM(t){return t==null?"":aM(t).replace(XL,"%2F")}function th(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function cM(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(V1," "),o=s.indexOf("="),a=th(o<0?s:s.slice(0,o)),l=o<0?null:th(s.slice(o+1));if(a in e){let c=e[a];br(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function X0(t){let e="";for(let n in t){const r=t[n];if(n=oM(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(br(r)?r.map(s=>s&&Xg(s)):[r&&Xg(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function uM(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=br(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const dM=Symbol(""),J0=Symbol(""),Zv=Symbol(""),z1=Symbol(""),Jg=Symbol("");function Al(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Ji(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Pa(4,{from:n,to:e})):d instanceof Error?a(d):ML(d)?a(Pa(2,{from:e,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},c=t.call(r&&r.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function Bm(t,e,n,r){const i=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(hM(a)){const c=(a.__vccOpts||a)[e];c&&i.push(Ji(c,n,r,s,o))}else{let l=a();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const u=yL(c)?c.default:c;s.components[o]=u;const h=(u.__vccOpts||u)[e];return h&&Ji(h,n,r,s,o)()}))}}return i}function hM(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Z0(t){const e=tt(Zv),n=tt(z1),r=I(()=>e.resolve(qn(t.to))),i=I(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(xa.bind(null,u));if(h>-1)return h;const f=e_(l[c-2]);return c>1&&e_(u)===f&&d[d.length-1].path!==f?d.findIndex(xa.bind(null,l[c-2])):h}),s=I(()=>i.value>-1&&pM(n.params,r.value.params)),o=I(()=>i.value>-1&&i.value===n.matched.length-1&&N1(n.params,r.value.params));function a(l={}){return gM(l)?e[qn(t.replace)?"replace":"push"](qn(t.to)).catch(ec):Promise.resolve()}return{route:r,href:I(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const fM=Kh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Z0,setup(t,{slots:e}){const n=tn(Z0(t)),{options:r}=tt(Zv),i=I(()=>({[t_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[t_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Sr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),mM=fM;function gM(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function pM(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!br(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function e_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const t_=(t,e,n)=>t??e??n,vM=Kh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=tt(Jg),i=I(()=>t.route||r.value),s=tt(J0,0),o=I(()=>{let c=qn(s);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=I(()=>i.value.matched[o.value]);rn(J0,I(()=>o.value+1)),rn(dM,a),rn(Jg,i);const l=z();return fe(()=>[l.value,a.value,t.name],([c,u,d],[h,f,g])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!xa(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(p=>p(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,h=d&&d.components[u];if(!h)return n_(n.default,{Component:h,route:c});const f=d.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,w=Sr(h,Ye({},g,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return n_(n.default,{Component:w,route:c})||w}}});function n_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const yM=vM;function wM(t){const e=KL(t.routes,t),n=t.parseQuery||cM,r=t.stringifyQuery||X0,i=t.history,s=Al(),o=Al(),a=Al(),l=Rv(ji);let c=ji;ia&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Fm.bind(null,B=>""+B),d=Fm.bind(null,lM),h=Fm.bind(null,th);function f(B,D){let G,ye;return O1(B)?(G=e.getRecordMatcher(B),ye=D):ye=B,e.addRoute(ye,G)}function g(B){const D=e.getRecordMatcher(B);D&&e.removeRoute(D)}function p(){return e.getRoutes().map(B=>B.record)}function w(B){return!!e.getRecordMatcher(B)}function y(B,D){if(D=Ye({},D||l.value),typeof B=="string"){const _=Vm(n,B,D.path),k=e.resolve({path:_.path},D),M=i.createHref(_.fullPath);return Ye(_,k,{params:h(k.params),hash:th(_.hash),redirectedFrom:void 0,href:M})}let G;if("path"in B)G=Ye({},B,{path:Vm(n,B.path,D.path).path});else{const _=Ye({},B.params);for(const k in _)_[k]==null&&delete _[k];G=Ye({},B,{params:d(B.params)}),D.params=d(D.params)}const ye=e.resolve(G,D),Be=B.hash||"";ye.params=u(h(ye.params));const ot=_L(r,Ye({},B,{hash:sM(Be),path:ye.path})),Le=i.createHref(ot);return Ye({fullPath:ot,hash:Be,query:r===X0?uM(B.query):B.query||{}},ye,{redirectedFrom:void 0,href:Le})}function b(B){return typeof B=="string"?Vm(n,B,l.value.path):Ye({},B)}function v(B,D){if(c!==B)return Pa(8,{from:D,to:B})}function T(B){return C(B)}function S(B){return T(Ye(b(B),{replace:!0}))}function A(B){const D=B.matched[B.matched.length-1];if(D&&D.redirect){const{redirect:G}=D;let ye=typeof G=="function"?G(B):G;return typeof ye=="string"&&(ye=ye.includes("?")||ye.includes("#")?ye=b(ye):{path:ye},ye.params={}),Ye({query:B.query,hash:B.hash,params:"path"in ye?{}:B.params},ye)}}function C(B,D){const G=c=y(B),ye=l.value,Be=B.state,ot=B.force,Le=B.replace===!0,_=A(G);if(_)return C(Ye(b(_),{state:typeof _=="object"?Ye({},Be,_.state):Be,force:ot,replace:Le}),D||G);const k=G;k.redirectedFrom=D;let M;return!ot&&EL(r,ye,G)&&(M=Pa(16,{to:k,from:ye}),re(ye,ye,!0,!1)),(M?Promise.resolve(M):R(k,ye)).catch(U=>ii(U)?ii(U,2)?U:ie(U):K(U,k,ye)).then(U=>{if(U){if(ii(U,2))return C(Ye({replace:Le},b(U.to),{state:typeof U.to=="object"?Ye({},Be,U.to.state):Be,force:ot}),D||k)}else U=F(k,ye,!0,Le,Be);return O(k,ye,U),U})}function E(B,D){const G=v(B,D);return G?Promise.reject(G):Promise.resolve()}function R(B,D){let G;const[ye,Be,ot]=bM(B,D);G=Bm(ye.reverse(),"beforeRouteLeave",B,D);for(const _ of ye)_.leaveGuards.forEach(k=>{G.push(Ji(k,B,D))});const Le=E.bind(null,B,D);return G.push(Le),Yo(G).then(()=>{G=[];for(const _ of s.list())G.push(Ji(_,B,D));return G.push(Le),Yo(G)}).then(()=>{G=Bm(Be,"beforeRouteUpdate",B,D);for(const _ of Be)_.updateGuards.forEach(k=>{G.push(Ji(k,B,D))});return G.push(Le),Yo(G)}).then(()=>{G=[];for(const _ of B.matched)if(_.beforeEnter&&!D.matched.includes(_))if(br(_.beforeEnter))for(const k of _.beforeEnter)G.push(Ji(k,B,D));else G.push(Ji(_.beforeEnter,B,D));return G.push(Le),Yo(G)}).then(()=>(B.matched.forEach(_=>_.enterCallbacks={}),G=Bm(ot,"beforeRouteEnter",B,D),G.push(Le),Yo(G))).then(()=>{G=[];for(const _ of o.list())G.push(Ji(_,B,D));return G.push(Le),Yo(G)}).catch(_=>ii(_,8)?_:Promise.reject(_))}function O(B,D,G){for(const ye of a.list())ye(B,D,G)}function F(B,D,G,ye,Be){const ot=v(B,D);if(ot)return ot;const Le=D===ji,_=ia?history.state:{};G&&(ye||Le?i.replace(B.fullPath,Ye({scroll:Le&&_&&_.scroll},Be)):i.push(B.fullPath,Be)),l.value=B,re(B,D,G,Le),ie()}let P;function V(){P||(P=i.listen((B,D,G)=>{if(!nt.listening)return;const ye=y(B),Be=A(ye);if(Be){C(Ye(Be,{replace:!0}),ye).catch(ec);return}c=ye;const ot=l.value;ia&&xL(q0(ot.fullPath,G.delta),sf()),R(ye,ot).catch(Le=>ii(Le,12)?Le:ii(Le,2)?(C(Le.to,ye).then(_=>{ii(_,20)&&!G.delta&&G.type===Cc.pop&&i.go(-1,!1)}).catch(ec),Promise.reject()):(G.delta&&i.go(-G.delta,!1),K(Le,ye,ot))).then(Le=>{Le=Le||F(ye,ot,!1),Le&&(G.delta&&!ii(Le,8)?i.go(-G.delta,!1):G.type===Cc.pop&&ii(Le,20)&&i.go(-1,!1)),O(ye,ot,Le)}).catch(ec)}))}let W=Al(),ae=Al(),X;function K(B,D,G){ie(B);const ye=ae.list();return ye.length?ye.forEach(Be=>Be(B,D,G)):console.error(B),Promise.reject(B)}function Z(){return X&&l.value!==ji?Promise.resolve():new Promise((B,D)=>{W.add([B,D])})}function ie(B){return X||(X=!B,V(),W.list().forEach(([D,G])=>B?G(B):D()),W.reset()),B}function re(B,D,G,ye){const{scrollBehavior:Be}=t;if(!ia||!Be)return Promise.resolve();const ot=!G&&PL(q0(B.fullPath,0))||(ye||!G)&&history.state&&history.state.scroll||null;return Ht().then(()=>Be(B,D,ot)).then(Le=>Le&&RL(Le)).catch(Le=>K(Le,B,D))}const ce=B=>i.go(B);let Ie;const We=new Set,nt={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,hasRoute:w,getRoutes:p,resolve:y,options:t,push:T,replace:S,go:ce,back:()=>ce(-1),forward:()=>ce(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:ae.add,isReady:Z,install(B){const D=this;B.component("RouterLink",mM),B.component("RouterView",yM),B.config.globalProperties.$router=D,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>qn(l)}),ia&&!Ie&&l.value===ji&&(Ie=!0,T(i.location).catch(Be=>{}));const G={};for(const Be in ji)G[Be]=I(()=>l.value[Be]);B.provide(Zv,D),B.provide(z1,tn(G)),B.provide(Jg,l);const ye=B.unmount;We.add(B),B.unmount=function(){We.delete(B),We.size<1&&(c=ji,P&&P(),P=null,l.value=ji,Ie=!1,X=!1),ye()}}};return nt}function Yo(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function bM(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>xa(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>xa(c,l))||i.push(l))}return[n,r,i]}const _M={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},EM={component:t=>Sr(j1,{...t,class:"mdi"})},Qe=[String,Function,Object,Array],Zg=Symbol.for("vuetify:icons"),of=Ae({icon:{type:Qe},tag:{type:String,required:!0}},"icon"),r_=ve()({name:"VComponentIcon",props:of(),setup(t,e){let{slots:n}=e;return()=>{const r=t.icon;return m(t.tag,null,{default:()=>{var i;return[t.icon?m(r,null,null):(i=n.default)==null?void 0:i.call(n)]}})}}}),q1=Tr({name:"VSvgIcon",inheritAttrs:!1,props:of(),setup(t,e){let{attrs:n}=e;return()=>m(t.tag,Ke(n,{style:null}),{default:()=>[m("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(t.icon)?t.icon.map(r=>Array.isArray(r)?m("path",{d:r[0],"fill-opacity":r[1]},null):m("path",{d:r},null)):m("path",{d:t.icon},null)])]})}});Tr({name:"VLigatureIcon",props:of(),setup(t){return()=>m(t.tag,null,{default:()=>[t.icon]})}});const j1=Tr({name:"VClassIcon",props:of(),setup(t){return()=>m(t.tag,{class:t.icon},null)}}),IM={svg:{component:q1},class:{component:j1}};function SM(t){return bi({defaultSet:"mdi",sets:{...IM,mdi:EM},aliases:_M},t)}const TM=t=>{const e=tt(Zg);if(!e)throw new Error("Missing Vuetify Icons provide!");return{iconData:I(()=>{var l;const r=vt(t)?t.value:t.icon;if(!r)return{component:r_};let i=r;if(typeof i=="string"&&(i=i.trim(),i.startsWith("$")&&(i=(l=e.aliases)==null?void 0:l[i.slice(1)])),!i)throw new Error(`Could not find aliased icon "${r}"`);if(Array.isArray(i))return{component:q1,icon:i};if(typeof i!="string")return{component:r_,icon:i};const s=Object.keys(e.sets).find(c=>typeof i=="string"&&i.startsWith(`${c}:`)),o=s?i.slice(s.length+1):i;return{component:e.sets[s??e.defaultSet].component,icon:o}})}},CM=["x-small","small","default","large","x-large"],Mo=Ae({size:{type:[String,Number],default:"default"}},"size");function nl(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki();return jv(()=>{let n,r;return Wd(CM,t.size)?n=`${e}--size-${t.size}`:t.size&&(r={width:de(t.size),height:de(t.size)}),{sizeClasses:n,sizeStyles:r}})}function ey(t){return jv(()=>{const e=[],n={};return t.value.background&&(k0(t.value.background)?n.backgroundColor=t.value.background:e.push(`bg-${t.value.background}`)),t.value.text&&(k0(t.value.text)?(n.color=t.value.text,n.caretColor=t.value.text):e.push(`text-${t.value.text}`)),{colorClasses:e,colorStyles:n}})}function Qr(t,e){const n=I(()=>({text:vt(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:i}=ey(n);return{textColorClasses:r,textColorStyles:i}}function Kn(t,e){const n=I(()=>({background:vt(t)?t.value:e?t[e]:null})),{colorClasses:r,colorStyles:i}=ey(n);return{backgroundColorClasses:r,backgroundColorStyles:i}}const AM=Ae({color:String,start:Boolean,end:Boolean,icon:Qe,...Se(),...Mo(),...ft({tag:"i"}),...xt()},"v-icon"),Vt=ve()({name:"VIcon",props:AM(),setup(t,e){let{attrs:n,slots:r}=e,i;r.default&&(i=I(()=>{var d,h;const u=(d=r.default)==null?void 0:d.call(r);if(u)return(h=u.filter(f=>f.type===su&&f.children&&typeof f.children=="string")[0])==null?void 0:h.children}));const{themeClasses:s}=Mt(t),{iconData:o}=TM(i||t),{sizeClasses:a}=nl(t),{textColorClasses:l,textColorStyles:c}=Qr(_e(t,"color"));return Ee(()=>m(o.value.component,{tag:t.tag,icon:o.value.icon,class:["v-icon","notranslate",s.value,a.value,l.value,{"v-icon--clickable":!!n.onClick,"v-icon--start":t.start,"v-icon--end":t.end},t.class],style:[a.value?void 0:{fontSize:de(t.size),height:de(t.size),width:de(t.size)},c.value,t.style],role:n.onClick?"button":void 0,"aria-hidden":!n.onClick},{default:()=>{var u;return[(u=r.default)==null?void 0:u.call(r)]}})),{}}});const Ri=Ae({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function xi(t){return{dimensionStyles:I(()=>({height:de(t.height),maxHeight:de(t.maxHeight),maxWidth:de(t.maxWidth),minHeight:de(t.minHeight),minWidth:de(t.minWidth),width:de(t.width)}))}}function kM(t){return{aspectStyles:I(()=>{const e=Number(t.aspectRatio);return e?{paddingBottom:String(1/e*100)+"%"}:void 0})}}const ty=ve()({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...Se(),...Ri()},setup(t,e){let{slots:n}=e;const{aspectStyles:r}=kM(t),{dimensionStyles:i}=xi(t);return Ee(()=>{var s;return m("div",{class:["v-responsive",t.class],style:[i.value,t.style]},[m("div",{class:"v-responsive__sizer",style:r.value},null),(s=n.additional)==null?void 0:s.call(n),n.default&&m("div",{class:["v-responsive__content",t.contentClass]},[n.default()])])}),{}}});function RM(t,e){if(!$v)return;const n=e.modifiers||{},r=e.value,{handler:i,options:s}=typeof r=="object"?r:{handler:r,options:{}},o=new IntersectionObserver(function(){var d;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const c=(d=t._observe)==null?void 0:d[e.instance.$.uid];if(!c)return;const u=a.some(h=>h.isIntersecting);i&&(!n.quiet||c.init)&&(!n.once||u||c.init)&&i(u,a,l),u&&n.once?H1(t,e):c.init=!0},s);t._observe=Object(t._observe),t._observe[e.instance.$.uid]={init:!1,observer:o},o.observe(t)}function H1(t,e){var r;const n=(r=t._observe)==null?void 0:r[e.instance.$.uid];n&&(n.observer.unobserve(t),delete t._observe[e.instance.$.uid])}const xM={mounted:RM,unmounted:H1},ny=xM,af=Ae({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:t=>t!==!0}},"transition"),ts=(t,e)=>{let{slots:n}=e;const{transition:r,...i}=t,{component:s=Yr,...o}=typeof r=="object"?r:{};return Sr(s,Ke(typeof r=="string"?{name:r}:o,i),n)},_i=ve()({name:"VImg",directives:{intersect:ny},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...Se(),...af()},emits:{loadstart:t=>!0,load:t=>!0,error:t=>!0},setup(t,e){let{emit:n,slots:r}=e;const i=z(""),s=z(),o=z(t.eager?"loading":"idle"),a=z(),l=z(),c=I(()=>t.src&&typeof t.src=="object"?{src:t.src.src,srcset:t.srcset||t.src.srcset,lazySrc:t.lazySrc||t.src.lazySrc,aspect:Number(t.aspectRatio||t.src.aspect||0)}:{src:t.src,srcset:t.srcset,lazySrc:t.lazySrc,aspect:Number(t.aspectRatio||0)}),u=I(()=>c.value.aspect||a.value/l.value||0);fe(()=>t.src,()=>{d(o.value!=="idle")}),fe(u,(E,R)=>{!E&&R&&s.value&&w(s.value)}),Yh(()=>d());function d(E){if(!(t.eager&&E)&&!($v&&!E&&!t.eager)){if(o.value="loading",c.value.lazySrc){const R=new Image;R.src=c.value.lazySrc,w(R,null)}c.value.src&&Ht(()=>{var R,O;if(n("loadstart",((R=s.value)==null?void 0:R.currentSrc)||c.value.src),(O=s.value)!=null&&O.complete){if(s.value.naturalWidth||f(),o.value==="error")return;u.value||w(s.value,null),h()}else u.value||w(s.value),g()})}}function h(){var E;g(),o.value="loaded",n("load",((E=s.value)==null?void 0:E.currentSrc)||c.value.src)}function f(){var E;o.value="error",n("error",((E=s.value)==null?void 0:E.currentSrc)||c.value.src)}function g(){const E=s.value;E&&(i.value=E.currentSrc||E.src)}let p=-1;function w(E){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const O=()=>{clearTimeout(p);const{naturalHeight:F,naturalWidth:P}=E;F||P?(a.value=P,l.value=F):!E.complete&&o.value==="loading"&&R!=null?p=window.setTimeout(O,R):(E.currentSrc.endsWith(".svg")||E.currentSrc.startsWith("data:image/svg+xml"))&&(a.value=1,l.value=1)};O()}const y=I(()=>({"v-img__img--cover":t.cover,"v-img__img--contain":!t.cover})),b=()=>{var O;if(!c.value.src||o.value==="idle")return null;const E=m("img",{class:["v-img__img",y.value],src:c.value.src,srcset:c.value.srcset,alt:t.alt,sizes:t.sizes,ref:s,onLoad:h,onError:f},null),R=(O=r.sources)==null?void 0:O.call(r);return m(ts,{transition:t.transition,appear:!0},{default:()=>[sn(R?m("picture",{class:"v-img__picture"},[R,E]):E,[[No,o.value==="loaded"]])]})},v=()=>m(ts,{transition:t.transition},{default:()=>[c.value.lazySrc&&o.value!=="loaded"&&m("img",{class:["v-img__img","v-img__img--preload",y.value],src:c.value.lazySrc,alt:t.alt},null)]}),T=()=>r.placeholder?m(ts,{transition:t.transition,appear:!0},{default:()=>[(o.value==="loading"||o.value==="error"&&!r.error)&&m("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,S=()=>r.error?m(ts,{transition:t.transition,appear:!0},{default:()=>[o.value==="error"&&m("div",{class:"v-img__error"},[r.error()])]}):null,A=()=>t.gradient?m("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${t.gradient})`}},null):null,C=z(!1);{const E=fe(u,R=>{R&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{C.value=!0})}),E())})}return Ee(()=>sn(m(ty,{class:["v-img",{"v-img--booting":!C.value},t.class],style:[{width:de(t.width==="auto"?a.value:t.width)},t.style],aspectRatio:u.value,"aria-label":t.alt,role:t.alt?"img":void 0},{additional:()=>m(Me,null,[m(b,null,null),m(v,null,null),m(A,null,null),m(T,null,null),m(S,null,null)]),default:r.default}),[[Wr("intersect"),{handler:d,options:t.options},null,{once:!0}]])),{currentSrc:i,image:s,state:o,naturalWidth:a,naturalHeight:l}}}),PM=["elevated","flat","tonal","outlined","text","plain"];function rl(t,e){return m(Me,null,[t&&m("span",{key:"overlay",class:`${e}__overlay`},null),m("span",{key:"underlay",class:`${e}__underlay`},null)])}const Pi=Ae({color:String,variant:{type:String,default:"elevated",validator:t=>PM.includes(t)}},"variant");function il(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki();const n=I(()=>{const{variant:s}=qn(t);return`${e}--variant-${s}`}),{colorClasses:r,colorStyles:i}=ey(I(()=>{const{variant:s,color:o}=qn(t);return{[["elevated","flat"].includes(s)?"background":"text"]:o}}));return{colorClasses:r,colorStyles:i,variantClasses:n}}const NM=[null,"default","comfortable","compact"],Cr=Ae({density:{type:String,default:"default",validator:t=>NM.includes(t)}},"density");function ti(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki();return{densityClasses:I(()=>`${e}--density-${t.density}`)}}const yn=Ae({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Cn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki();return{roundedClasses:I(()=>{const r=vt(t)?t.value:t.rounded,i=[];if(r===!0||r==="")i.push(`${e}--rounded`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))i.push(`rounded-${s}`);return i})}}const DM=Ae({start:Boolean,end:Boolean,icon:Qe,image:String,...Se(),...Cr(),...yn(),...Mo(),...ft(),...xt(),...Pi({variant:"flat"})},"v-avatar"),Ln=ve()({name:"VAvatar",props:DM(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=Mt(t),{colorClasses:i,colorStyles:s,variantClasses:o}=il(t),{densityClasses:a}=ti(t),{roundedClasses:l}=Cn(t),{sizeClasses:c,sizeStyles:u}=nl(t);return Ee(()=>m(t.tag,{class:["v-avatar",{"v-avatar--start":t.start,"v-avatar--end":t.end},r.value,i.value,a.value,l.value,c.value,o.value,t.class],style:[s.value,u.value,t.style]},{default:()=>{var d;return[t.image?m(_i,{key:"image",src:t.image,alt:"",cover:!0},null):t.icon?m(Vt,{key:"icon",icon:t.icon},null):(d=n.default)==null?void 0:d.call(n),rl(!1,"v-avatar")]}})),{}}});const ry=ve()({name:"VDivider",props:{color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Se(),...xt()},setup(t,e){let{attrs:n}=e;const{themeClasses:r}=Mt(t),{textColorClasses:i,textColorStyles:s}=Qr(_e(t,"color")),o=I(()=>{const a={};return t.length&&(a[t.vertical?"maxHeight":"maxWidth"]=de(t.length)),t.thickness&&(a[t.vertical?"borderRightWidth":"borderTopWidth"]=de(t.thickness)),a});return Ee(()=>m("hr",{class:[{"v-divider":!0,"v-divider--inset":t.inset,"v-divider--vertical":t.vertical},r.value,i.value,t.class],style:[o.value,s.value,t.style],"aria-orientation":!n.role||n.role==="separator"?t.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null)),{}}});const Ot=ve(!1)({name:"VDefaultsProvider",props:{defaults:Object,disabled:Boolean,reset:[Number,String],root:Boolean,scoped:Boolean},setup(t,e){let{slots:n}=e;const{defaults:r,disabled:i,reset:s,root:o,scoped:a}=xv(t);return ei(r,{reset:s,root:o,scoped:a,disabled:i}),()=>{var l;return(l=n.default)==null?void 0:l.call(n)}}});function Qn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"center center",n=arguments.length>2?arguments[2]:void 0;return ve()({name:t,props:{disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:n},origin:{type:String,default:e}},setup(r,i){let{slots:s}=i;const o={onBeforeEnter(a){a.style.transformOrigin=r.origin},onLeave(a){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:c,offsetWidth:u,offsetHeight:d}=a;a._transitionInitialStyles={position:a.style.position,top:a.style.top,left:a.style.left,width:a.style.width,height:a.style.height},a.style.position="absolute",a.style.top=`${l}px`,a.style.left=`${c}px`,a.style.width=`${u}px`,a.style.height=`${d}px`}r.hideOnLeave&&a.style.setProperty("display","none","important")},onAfterLeave(a){if(r.leaveAbsolute&&(a!=null&&a._transitionInitialStyles)){const{position:l,top:c,left:u,width:d,height:h}=a._transitionInitialStyles;delete a._transitionInitialStyles,a.style.position=l||"",a.style.top=c||"",a.style.left=u||"",a.style.width=d||"",a.style.height=h||""}}};return()=>{const a=r.group?rO:Yr;return Sr(a,{name:r.disabled?"":t,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:o},s.default)}}})}function K1(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ve()({name:t,props:{mode:{type:String,default:n},disabled:Boolean},setup(r,i){let{slots:s}=i;return()=>Sr(Yr,{name:r.disabled?"":t,css:!r.disabled,...r.disabled?{}:e},s.default)}})}function G1(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=ar(`offset-${n}`);return{onBeforeEnter(o){o._parent=o.parentNode,o._initialStyle={transition:o.style.transition,overflow:o.style.overflow,[n]:o.style[n]}},onEnter(o){const a=o._initialStyle;o.style.setProperty("transition","none","important"),o.style.overflow="hidden";const l=`${o[r]}px`;o.style[n]="0",o.offsetHeight,o.style.transition=a.transition,t&&o._parent&&o._parent.classList.add(t),requestAnimationFrame(()=>{o.style[n]=l})},onAfterEnter:s,onEnterCancelled:s,onLeave(o){o._initialStyle={transition:"",overflow:o.style.overflow,[n]:o.style[n]},o.style.overflow="hidden",o.style[n]=`${o[r]}px`,o.offsetHeight,requestAnimationFrame(()=>o.style[n]="0")},onAfterLeave:i,onLeaveCancelled:i};function i(o){t&&o._parent&&o._parent.classList.remove(t),s(o)}function s(o){const a=o._initialStyle[n];o.style.overflow=o._initialStyle.overflow,a!=null&&(o.style[n]=a),delete o._initialStyle}}const OM=ve()({name:"VDialogTransition",props:{target:Object},setup(t,e){let{slots:n}=e;const r={onBeforeEnter(i){i.style.pointerEvents="none",i.style.visibility="hidden"},async onEnter(i,s){var h;await new Promise(f=>requestAnimationFrame(f)),await new Promise(f=>requestAnimationFrame(f)),i.style.visibility="";const{x:o,y:a,sx:l,sy:c,speed:u}=s_(t.target,i),d=la(i,[{transform:`translate(${o}px, ${a}px) scale(${l}, ${c})`,opacity:0},{}],{duration:225*u,easing:HO});(h=i_(i))==null||h.forEach(f=>{la(f,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*u,easing:Qd})}),d.finished.then(()=>s())},onAfterEnter(i){i.style.removeProperty("pointer-events")},onBeforeLeave(i){i.style.pointerEvents="none"},async onLeave(i,s){var h;await new Promise(f=>requestAnimationFrame(f));const{x:o,y:a,sx:l,sy:c,speed:u}=s_(t.target,i);la(i,[{},{transform:`translate(${o}px, ${a}px) scale(${l}, ${c})`,opacity:0}],{duration:125*u,easing:KO}).finished.then(()=>s()),(h=i_(i))==null||h.forEach(f=>{la(f,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*u,easing:Qd})})},onAfterLeave(i){i.style.removeProperty("pointer-events")}};return()=>t.target?m(Yr,Ke({name:"dialog-transition"},r,{css:!1}),n):m(Yr,{name:"dialog-transition"},n)}});function i_(t){var n;const e=(n=t.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return e&&[...e]}function s_(t,e){const n=t.getBoundingClientRect(),r=Gv(e),[i,s]=getComputedStyle(e).transformOrigin.split(" ").map(y=>parseFloat(y)),[o,a]=getComputedStyle(e).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=n.left+n.width/2;o==="left"||a==="left"?l-=n.width/2:(o==="right"||a==="right")&&(l+=n.width/2);let c=n.top+n.height/2;o==="top"||a==="top"?c-=n.height/2:(o==="bottom"||a==="bottom")&&(c+=n.height/2);const u=n.width/r.width,d=n.height/r.height,h=Math.max(1,u,d),f=u/h||0,g=d/h||0,p=r.width*r.height/(window.innerWidth*window.innerHeight),w=p>.12?Math.min(1.5,(p-.12)*10+1):1;return{x:l-(i+r.left),y:c-(s+r.top),sx:f,sy:g,speed:w}}Qn("fab-transition","center center","out-in");Qn("dialog-bottom-transition");Qn("dialog-top-transition");const o_=Qn("fade-transition"),W1=Qn("scale-transition");Qn("scroll-x-transition");Qn("scroll-x-reverse-transition");Qn("scroll-y-transition");Qn("scroll-y-reverse-transition");Qn("slide-x-transition");Qn("slide-x-reverse-transition");const Y1=Qn("slide-y-transition");Qn("slide-y-reverse-transition");const iy=K1("expand-transition",G1()),Q1=K1("expand-x-transition",G1("",!0)),ep=Symbol.for("vuetify:list");function X1(){const t=tt(ep,{hasPrepend:z(!1),updateHasPrepend:()=>null}),e={hasPrepend:z(!1),updateHasPrepend:n=>{n&&(e.hasPrepend.value=n)}};return rn(ep,e),t}function J1(){return tt(ep,null)}const LM={open:t=>{let{id:e,value:n,opened:r,parents:i}=t;if(n){const s=new Set;s.add(e);let o=i.get(e);for(;o!=null;)s.add(o),o=i.get(o);return s}else return r.delete(e),r},select:()=>null},Z1={open:t=>{let{id:e,value:n,opened:r,parents:i}=t;if(n){let s=i.get(e);for(r.add(e);s!=null&&s!==e;)r.add(s),s=i.get(s);return r}else r.delete(e);return r},select:()=>null},MM={open:Z1.open,select:t=>{let{id:e,value:n,opened:r,parents:i}=t;if(!n)return r;const s=[];let o=i.get(e);for(;o!=null;)s.push(o),o=i.get(o);return new Set(s)}},sy=t=>{const e={select:n=>{let{id:r,value:i,selected:s}=n;if(r=De(r),t&&!i){const o=Array.from(s.entries()).reduce((a,l)=>{let[c,u]=l;return u==="on"?[...a,c]:a},[]);if(o.length===1&&o[0]===r)return s}return s.set(r,i?"on":"off"),s},in:(n,r,i)=>{let s=new Map;for(const o of n||[])s=e.select({id:o,value:!0,selected:new Map(s),children:r,parents:i});return s},out:n=>{const r=[];for(const[i,s]of n.entries())s==="on"&&r.push(i);return r}};return e},eT=t=>{const e=sy(t);return{select:r=>{let{selected:i,id:s,...o}=r;s=De(s);const a=i.has(s)?new Map([[s,i.get(s)]]):new Map;return e.select({...o,id:s,selected:a})},in:(r,i,s)=>{let o=new Map;return r!=null&&r.length&&(o=e.in(r.slice(0,1),i,s)),o},out:(r,i,s)=>e.out(r,i,s)}},FM=t=>{const e=sy(t);return{select:r=>{let{id:i,selected:s,children:o,...a}=r;return i=De(i),o.has(i)?s:e.select({id:i,selected:s,children:o,...a})},in:e.in,out:e.out}},VM=t=>{const e=eT(t);return{select:r=>{let{id:i,selected:s,children:o,...a}=r;return i=De(i),o.has(i)?s:e.select({id:i,selected:s,children:o,...a})},in:e.in,out:e.out}},BM=t=>{const e={select:n=>{let{id:r,value:i,selected:s,children:o,parents:a}=n;r=De(r);const l=new Map(s),c=[r];for(;c.length;){const d=c.shift();s.set(d,i?"on":"off"),o.has(d)&&c.push(...o.get(d))}let u=a.get(r);for(;u;){const d=o.get(u),h=d.every(g=>s.get(g)==="on"),f=d.every(g=>!s.has(g)||s.get(g)==="off");s.set(u,h?"on":f?"off":"indeterminate"),u=a.get(u)}return t&&!i&&Array.from(s.entries()).reduce((h,f)=>{let[g,p]=f;return p==="on"?[...h,g]:h},[]).length===0?l:s},in:(n,r,i)=>{let s=new Map;for(const o of n||[])s=e.select({id:o,value:!0,selected:new Map(s),children:r,parents:i});return s},out:(n,r)=>{const i=[];for(const[s,o]of n.entries())o==="on"&&!r.has(s)&&i.push(s);return i}};return e},Ac=Symbol.for("vuetify:nested"),tT={id:z(),root:{register:()=>null,unregister:()=>null,parents:z(new Map),children:z(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:z(new Set),selected:z(new Map),selectedValues:z([])}},UM=Ae({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),$M=t=>{let e=!1;const n=z(new Map),r=z(new Map),i=Lt(t,"opened",t.opened,d=>new Set(d),d=>[...d.values()]),s=I(()=>{if(typeof t.selectStrategy=="object")return t.selectStrategy;switch(t.selectStrategy){case"single-leaf":return VM(t.mandatory);case"leaf":return FM(t.mandatory);case"independent":return sy(t.mandatory);case"single-independent":return eT(t.mandatory);case"classic":default:return BM(t.mandatory)}}),o=I(()=>{if(typeof t.openStrategy=="object")return t.openStrategy;switch(t.openStrategy){case"list":return MM;case"single":return LM;case"multiple":default:return Z1}}),a=Lt(t,"selected",t.selected,d=>s.value.in(d,n.value,r.value),d=>s.value.out(d,n.value,r.value));Fn(()=>{e=!0});function l(d){const h=[];let f=d;for(;f!=null;)h.unshift(f),f=r.value.get(f);return h}const c=vn("nested"),u={id:z(),root:{opened:i,selected:a,selectedValues:I(()=>{const d=[];for(const[h,f]of a.value.entries())f==="on"&&d.push(h);return d}),register:(d,h,f)=>{h&&d!==h&&r.value.set(d,h),f&&n.value.set(d,[]),h!=null&&n.value.set(h,[...n.value.get(h)||[],d])},unregister:d=>{if(e)return;n.value.delete(d);const h=r.value.get(d);if(h){const f=n.value.get(h)??[];n.value.set(h,f.filter(g=>g!==d))}r.value.delete(d),i.value.delete(d)},open:(d,h,f)=>{c.emit("click:open",{id:d,value:h,path:l(d),event:f});const g=o.value.open({id:d,value:h,opened:new Set(i.value),children:n.value,parents:r.value,event:f});g&&(i.value=g)},openOnSelect:(d,h,f)=>{const g=o.value.select({id:d,value:h,selected:new Map(a.value),opened:new Set(i.value),children:n.value,parents:r.value,event:f});g&&(i.value=g)},select:(d,h,f)=>{c.emit("click:select",{id:d,value:h,path:l(d),event:f});const g=s.value.select({id:d,value:h,selected:new Map(a.value),children:n.value,parents:r.value,event:f});g&&(a.value=g),u.root.openOnSelect(d,h,f)},children:n,parents:r}};return rn(Ac,u),u.root},nT=(t,e)=>{const n=tt(Ac,tT),r=Symbol(Cs()),i=I(()=>t.value??r),s={...n,id:i,open:(o,a)=>n.root.open(i.value,o,a),openOnSelect:(o,a)=>n.root.openOnSelect(i.value,o,a),isOpen:I(()=>n.root.opened.value.has(i.value)),parent:I(()=>n.root.parents.value.get(i.value)),select:(o,a)=>n.root.select(i.value,o,a),isSelected:I(()=>n.root.selected.value.get(De(i.value))==="on"),isIndeterminate:I(()=>n.root.selected.value.get(i.value)==="indeterminate"),isLeaf:I(()=>!n.root.children.value.get(i.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(i.value,n.id.value,e),Fn(()=>{!n.isGroupActivator&&n.root.unregister(i.value)}),e&&rn(Ac,s),s},zM=()=>{const t=tt(Ac,tT);rn(Ac,{...t,isGroupActivator:!0})},qM=Tr({name:"VListGroupActivator",setup(t,e){let{slots:n}=e;return zM(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),jM=Ae({activeColor:String,color:String,collapseIcon:{type:Qe,default:"$collapse"},expandIcon:{type:Qe,default:"$expand"},prependIcon:Qe,appendIcon:Qe,fluid:Boolean,subgroup:Boolean,value:null,...Se(),...ft()},"v-list-group"),a_=ve()({name:"VListGroup",props:{title:String,...jM()},setup(t,e){let{slots:n}=e;const{isOpen:r,open:i,id:s}=nT(_e(t,"value"),!0),o=I(()=>`v-list-group--id-${String(s.value)}`),a=J1(),{isBooted:l}=rf();function c(f){i(!r.value,f)}const u=I(()=>({onClick:c,class:"v-list-group__header",id:o.value})),d=I(()=>r.value?t.collapseIcon:t.expandIcon),h=I(()=>({VListItem:{active:r.value,activeColor:t.activeColor,color:t.color,prependIcon:t.prependIcon||t.subgroup&&d.value,appendIcon:t.appendIcon||!t.subgroup&&d.value,title:t.title,value:t.value}}));return Ee(()=>m(t.tag,{class:["v-list-group",{"v-list-group--prepend":a==null?void 0:a.hasPrepend.value,"v-list-group--fluid":t.fluid,"v-list-group--subgroup":t.subgroup,"v-list-group--open":r.value},t.class],style:t.style},{default:()=>[n.activator&&m(Ot,{defaults:h.value},{default:()=>[m(qM,null,{default:()=>[n.activator({props:u.value,isOpen:r.value})]})]}),m(ts,{transition:{component:iy},disabled:!l.value},{default:()=>{var f;return[sn(m("div",{class:"v-list-group__items",role:"group","aria-labelledby":o.value},[(f=n.default)==null?void 0:f.call(n)]),[[No,r.value]])]}})]})),{}}});const rT=Do("v-list-item-subtitle"),oy=Do("v-list-item-title");const tp=Symbol("rippleStop"),HM=80;function l_(t,e){t.style.transform=e,t.style.webkitTransform=e}function np(t){return t.constructor.name==="TouchEvent"}function iT(t){return t.constructor.name==="KeyboardEvent"}const KM=function(t,e){var d;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,i=0;if(!iT(t)){const h=e.getBoundingClientRect(),f=np(t)?t.touches[t.touches.length-1]:t;r=f.clientX-h.left,i=f.clientY-h.top}let s=0,o=.3;(d=e._ripple)!=null&&d.circle?(o=.15,s=e.clientWidth/2,s=n.center?s:s+Math.sqrt((r-s)**2+(i-s)**2)/4):s=Math.sqrt(e.clientWidth**2+e.clientHeight**2)/2;const a=`${(e.clientWidth-s*2)/2}px`,l=`${(e.clientHeight-s*2)/2}px`,c=n.center?a:`${r-s}px`,u=n.center?l:`${i-s}px`;return{radius:s,scale:o,x:c,y:u,centerX:a,centerY:l}},nh={show(t,e){var f;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((f=e==null?void 0:e._ripple)!=null&&f.enabled))return;const r=document.createElement("span"),i=document.createElement("span");r.appendChild(i),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:s,scale:o,x:a,y:l,centerX:c,centerY:u}=KM(t,e,n),d=`${s*2}px`;i.className="v-ripple__animation",i.style.width=d,i.style.height=d,e.appendChild(r);const h=window.getComputedStyle(e);h&&h.position==="static"&&(e.style.position="relative",e.dataset.previousPosition="static"),i.classList.add("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--visible"),l_(i,`translate(${a}, ${l}) scale3d(${o},${o},${o})`),i.dataset.activated=String(performance.now()),setTimeout(()=>{i.classList.remove("v-ripple__animation--enter"),i.classList.add("v-ripple__animation--in"),l_(i,`translate(${c}, ${u}) scale3d(1,1,1)`)},0)},hide(t){var s;if(!((s=t==null?void 0:t._ripple)!=null&&s.enabled))return;const e=t.getElementsByClassName("v-ripple__animation");if(e.length===0)return;const n=e[e.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),i=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var a;t.getElementsByClassName("v-ripple__animation").length===1&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),((a=n.parentNode)==null?void 0:a.parentNode)===t&&t.removeChild(n.parentNode)},300)},i)}};function sT(t){return typeof t>"u"||!!t}function kc(t){const e={},n=t.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||t[tp])){if(t[tp]=!0,np(t))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(e.center=n._ripple.centered||iT(t),n._ripple.class&&(e.class=n._ripple.class),np(t)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{nh.show(t,n,e)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},HM)}else nh.show(t,n,e)}}function c_(t){t[tp]=!0}function zn(t){const e=t.currentTarget;if(e!=null&&e._ripple){if(window.clearTimeout(e._ripple.showTimer),t.type==="touchend"&&e._ripple.showTimerCommit){e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null,e._ripple.showTimer=window.setTimeout(()=>{zn(t)});return}window.setTimeout(()=>{e._ripple&&(e._ripple.touched=!1)}),nh.hide(e)}}function oT(t){const e=t.currentTarget;e!=null&&e._ripple&&(e._ripple.showTimerCommit&&(e._ripple.showTimerCommit=null),window.clearTimeout(e._ripple.showTimer))}let Rc=!1;function aT(t){!Rc&&(t.keyCode===b0.enter||t.keyCode===b0.space)&&(Rc=!0,kc(t))}function lT(t){Rc=!1,zn(t)}function cT(t){Rc&&(Rc=!1,zn(t))}function uT(t,e,n){const{value:r,modifiers:i}=e,s=sT(r);if(s||nh.hide(t),t._ripple=t._ripple??{},t._ripple.enabled=s,t._ripple.centered=i.center,t._ripple.circle=i.circle,Hg(r)&&r.class&&(t._ripple.class=r.class),s&&!n){if(i.stop){t.addEventListener("touchstart",c_,{passive:!0}),t.addEventListener("mousedown",c_);return}t.addEventListener("touchstart",kc,{passive:!0}),t.addEventListener("touchend",zn,{passive:!0}),t.addEventListener("touchmove",oT,{passive:!0}),t.addEventListener("touchcancel",zn),t.addEventListener("mousedown",kc),t.addEventListener("mouseup",zn),t.addEventListener("mouseleave",zn),t.addEventListener("keydown",aT),t.addEventListener("keyup",lT),t.addEventListener("blur",cT),t.addEventListener("dragstart",zn,{passive:!0})}else!s&&n&&dT(t)}function dT(t){t.removeEventListener("mousedown",kc),t.removeEventListener("touchstart",kc),t.removeEventListener("touchend",zn),t.removeEventListener("touchmove",oT),t.removeEventListener("touchcancel",zn),t.removeEventListener("mouseup",zn),t.removeEventListener("mouseleave",zn),t.removeEventListener("keydown",aT),t.removeEventListener("keyup",lT),t.removeEventListener("dragstart",zn),t.removeEventListener("blur",cT)}function GM(t,e){uT(t,e,!1)}function WM(t){delete t._ripple,dT(t)}function YM(t,e){if(e.value===e.oldValue)return;const n=sT(e.oldValue);uT(t,e,n)}const au={mounted:GM,unmounted:WM,updated:YM},Ni=Ae({border:[Boolean,Number,String]},"border");function Di(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki();return{borderClasses:I(()=>{const r=vt(t)?t.value:t.border,i=[];if(r===!0||r==="")i.push(`${e}--border`);else if(typeof r=="string"||r===0)for(const s of String(r).split(" "))i.push(`border-${s}`);return i})}}const Xn=Ae({elevation:{type:[Number,String],validator(t){const e=parseInt(t);return!isNaN(e)&&e>=0&&e<=24}}},"elevation");function dr(t){return{elevationClasses:I(()=>{const n=vt(t)?t.value:t.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}function hT(){var t,e;return(e=(t=vn("useRouter"))==null?void 0:t.proxy)==null?void 0:e.$router}function lf(t,e){const n=tD("RouterLink"),r=I(()=>!!(t.href||t.to)),i=I(()=>(r==null?void 0:r.value)||S0(e,"click")||S0(t,"click"));if(typeof n=="string")return{isLink:r,isClickable:i,href:_e(t,"href")};const s=t.to?n.useLink(t):void 0;return{isLink:r,isClickable:i,route:s==null?void 0:s.route,navigate:s==null?void 0:s.navigate,isActive:s&&I(()=>{var o,a;return t.exact?(o=s.isExactActive)==null?void 0:o.value:(a=s.isActive)==null?void 0:a.value}),href:I(()=>t.to?s==null?void 0:s.route.value.href:t.href)}}const cf=Ae({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let Um=!1;function QM(t,e){let n=!1,r,i;kt&&(Ht(()=>{window.addEventListener("popstate",s),r=t==null?void 0:t.beforeEach((o,a,l)=>{Um?n?e(l):l():setTimeout(()=>n?e(l):l()),Um=!0}),i=t==null?void 0:t.afterEach(()=>{Um=!1})}),lr(()=>{window.removeEventListener("popstate",s),r==null||r(),i==null||i()}));function s(o){var a;(a=o.state)!=null&&a.replaced||(n=!0,setTimeout(()=>n=!1))}}const rh=ve()({name:"VListItem",directives:{Ripple:au},props:{active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Qe,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Qe,ripple:{type:Boolean,default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:qr(),onClickOnce:qr(),...Ni(),...Se(),...Cr(),...Ri(),...Xn(),...yn(),...cf(),...ft(),...xt(),...Pi({variant:"text"})},emits:{click:t=>!0},setup(t,e){let{attrs:n,slots:r,emit:i}=e;const s=lf(t,n),o=I(()=>t.value??s.href.value),{select:a,isSelected:l,isIndeterminate:c,isGroupActivator:u,root:d,parent:h,openOnSelect:f}=nT(o,!1),g=J1(),p=I(()=>{var K;return t.active!==!1&&(t.active||((K=s.isActive)==null?void 0:K.value)||l.value)}),w=I(()=>t.link!==!1&&s.isLink.value),y=I(()=>!t.disabled&&t.link!==!1&&(t.link||s.isClickable.value||t.value!=null&&!!g)),b=I(()=>t.rounded||t.nav),v=I(()=>({color:p.value?t.activeColor??t.color:t.color,variant:t.variant}));fe(()=>{var K;return(K=s.isActive)==null?void 0:K.value},K=>{K&&h.value!=null&&d.open(h.value,!0),K&&f(K)},{immediate:!0});const{themeClasses:T}=Mt(t),{borderClasses:S}=Di(t),{colorClasses:A,colorStyles:C,variantClasses:E}=il(v),{densityClasses:R}=ti(t),{dimensionStyles:O}=xi(t),{elevationClasses:F}=dr(t),{roundedClasses:P}=Cn(b),V=I(()=>t.lines?`v-list-item--${t.lines}-line`:void 0),W=I(()=>({isActive:p.value,select:a,isSelected:l.value,isIndeterminate:c.value}));function ae(K){var Z;i("click",K),!(u||!y.value)&&((Z=s.navigate)==null||Z.call(s,K),t.value!=null&&a(!l.value,K))}function X(K){(K.key==="Enter"||K.key===" ")&&(K.preventDefault(),ae(K))}return Ee(()=>{const K=w.value?"a":t.tag,Z=!g||l.value||p.value,ie=r.title||t.title,re=r.subtitle||t.subtitle,ce=!!(t.appendAvatar||t.appendIcon),Ie=!!(ce||r.append),We=!!(t.prependAvatar||t.prependIcon),nt=!!(We||r.prepend);return g==null||g.updateHasPrepend(nt),sn(m(K,{class:["v-list-item",{"v-list-item--active":p.value,"v-list-item--disabled":t.disabled,"v-list-item--link":y.value,"v-list-item--nav":t.nav,"v-list-item--prepend":!nt&&(g==null?void 0:g.hasPrepend.value),[`${t.activeClass}`]:t.activeClass&&p.value},T.value,S.value,Z?A.value:void 0,R.value,F.value,V.value,P.value,E.value,t.class],style:[Z?C.value:void 0,O.value,t.style],href:s.href.value,tabindex:y.value?0:void 0,onClick:ae,onKeydown:y.value&&!w.value&&X},{default:()=>{var B;return[rl(y.value||p.value,"v-list-item"),nt&&m("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?m(Ot,{key:"prepend-defaults",disabled:!We,defaults:{VAvatar:{density:t.density,image:t.prependAvatar},VIcon:{density:t.density,icon:t.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var D;return[(D=r.prepend)==null?void 0:D.call(r,W.value)]}}):m(Me,null,[t.prependAvatar&&m(Ln,{key:"prepend-avatar",density:t.density,image:t.prependAvatar},null),t.prependIcon&&m(Vt,{key:"prepend-icon",density:t.density,icon:t.prependIcon},null)])]),m("div",{class:"v-list-item__content","data-no-activator":""},[ie&&m(oy,{key:"title"},{default:()=>{var D;return[((D=r.title)==null?void 0:D.call(r,{title:t.title}))??t.title]}}),re&&m(rT,{key:"subtitle"},{default:()=>{var D;return[((D=r.subtitle)==null?void 0:D.call(r,{subtitle:t.subtitle}))??t.subtitle]}}),(B=r.default)==null?void 0:B.call(r,W.value)]),Ie&&m("div",{key:"append",class:"v-list-item__append"},[r.append?m(Ot,{key:"append-defaults",disabled:!ce,defaults:{VAvatar:{density:t.density,image:t.appendAvatar},VIcon:{density:t.density,icon:t.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var D;return[(D=r.append)==null?void 0:D.call(r,W.value)]}}):m(Me,null,[t.appendIcon&&m(Vt,{key:"append-icon",density:t.density,icon:t.appendIcon},null),t.appendAvatar&&m(Ln,{key:"append-avatar",density:t.density,image:t.appendAvatar},null)])])]}}),[[Wr("ripple"),y.value&&t.ripple]])}),{}}}),fT=ve()({name:"VListSubheader",props:{color:String,inset:Boolean,sticky:Boolean,title:String,...Se(),...ft()},setup(t,e){let{slots:n}=e;const{textColorClasses:r,textColorStyles:i}=Qr(_e(t,"color"));return Ee(()=>{const s=!!(n.default||t.title);return m(t.tag,{class:["v-list-subheader",{"v-list-subheader--inset":t.inset,"v-list-subheader--sticky":t.sticky},r.value,t.class],style:[{textColorStyles:i},t.style]},{default:()=>{var o;return[s&&m("div",{class:"v-list-subheader__text"},[((o=n.default)==null?void 0:o.call(n))??t.title])]}})}),{}}}),mT=ve()({name:"VListChildren",props:{items:Array},setup(t,e){let{slots:n}=e;return X1(),()=>{var r,i;return((r=n.default)==null?void 0:r.call(n))??((i=t.items)==null?void 0:i.map(s=>{var f,g;let{children:o,props:a,type:l,raw:c}=s;if(l==="divider")return((f=n.divider)==null?void 0:f.call(n,{props:a}))??m(ry,a,null);if(l==="subheader")return((g=n.subheader)==null?void 0:g.call(n,{props:a}))??m(fT,a,{default:n.subheader});const u={subtitle:n.subtitle?p=>{var w;return(w=n.subtitle)==null?void 0:w.call(n,{...p,item:c})}:void 0,prepend:n.prepend?p=>{var w;return(w=n.prepend)==null?void 0:w.call(n,{...p,item:c})}:void 0,append:n.append?p=>{var w;return(w=n.append)==null?void 0:w.call(n,{...p,item:c})}:void 0,default:n.default?p=>{var w;return(w=n.default)==null?void 0:w.call(n,{...p,item:c})}:void 0,title:n.title?p=>{var w;return(w=n.title)==null?void 0:w.call(n,{...p,item:c})}:void 0},[d,h]=a_.filterProps(a);return o?m(a_,Ke({value:a==null?void 0:a.value},d),{activator:p=>{let{props:w}=p;return n.header?n.header({props:{...a,...w}}):m(rh,Ke(a,w),u)},default:()=>m(mT,{items:o},n)}):n.item?n.item(a):m(rh,a,u)}))}}}),XM=Ae({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"item");function JM(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function ZM(t,e){const n=Tl(e,t.itemType,"item"),r=JM(e)?e:Tl(e,t.itemTitle),i=Tl(e,t.itemValue,void 0),s=Tl(e,t.itemChildren),o=t.itemProps===!0?ef(e,["children"])[1]:Tl(e,t.itemProps),a={title:r,value:i,...o};return{type:n,title:a.title,value:a.value,props:a,children:n==="item"&&s?gT(t,s):void 0,raw:e}}function gT(t,e){const n=[];for(const r of e)n.push(ZM(t,r));return n}function e2(t){return{items:I(()=>gT(t,t.items))}}const pT=ve()({name:"VList",props:{activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...UM({selectStrategy:"single-leaf",openStrategy:"list"}),...Ni(),...Se(),...Cr(),...Ri(),...Xn(),itemType:{type:String,default:"type"},...XM(),...yn(),...ft(),...xt(),...Pi({variant:"text"})},emits:{"update:selected":t=>!0,"update:opened":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:r}=e2(t),{themeClasses:i}=Mt(t),{backgroundColorClasses:s,backgroundColorStyles:o}=Kn(_e(t,"bgColor")),{borderClasses:a}=Di(t),{densityClasses:l}=ti(t),{dimensionStyles:c}=xi(t),{elevationClasses:u}=dr(t),{roundedClasses:d}=Cn(t),{open:h,select:f}=$M(t),g=I(()=>t.lines?`v-list--${t.lines}-line`:void 0),p=_e(t,"activeColor"),w=_e(t,"color");X1(),ei({VListGroup:{activeColor:p,color:w},VListItem:{activeClass:_e(t,"activeClass"),activeColor:p,color:w,density:_e(t,"density"),disabled:_e(t,"disabled"),lines:_e(t,"lines"),nav:_e(t,"nav"),variant:_e(t,"variant")}});const y=z(!1),b=z();function v(E){y.value=!0}function T(E){y.value=!1}function S(E){var R;!y.value&&!(E.relatedTarget&&((R=b.value)!=null&&R.contains(E.relatedTarget)))&&C()}function A(E){if(b.value){if(E.key==="ArrowDown")C("next");else if(E.key==="ArrowUp")C("prev");else if(E.key==="Home")C("first");else if(E.key==="End")C("last");else return;E.preventDefault()}}function C(E){if(b.value)return u1(b.value,E)}return Ee(()=>m(t.tag,{ref:b,class:["v-list",{"v-list--disabled":t.disabled,"v-list--nav":t.nav},i.value,s.value,a.value,l.value,u.value,g.value,d.value,t.class],style:[o.value,c.value,t.style],role:"listbox","aria-activedescendant":void 0,onFocusin:v,onFocusout:T,onFocus:S,onKeydown:A},{default:()=>[m(mT,{items:r.value},n)]})),{open:h,select:f,focus:C}}});const u_={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},lu=Ae({location:String},"location");function cu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Oo();return{locationStyles:I(()=>{if(!t.location)return{};const{side:s,align:o}=Kg(t.location.split(" ").length>1?t.location:`${t.location} center`,r.value);function a(c){return n?n(c):0}const l={};return s!=="center"&&(e?l[u_[s]]=`calc(100% - ${a(s)}px)`:l[s]=0),o!=="center"?e?l[u_[o]]=`calc(100% - ${a(o)}px)`:l[o]=0:(s==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[s]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[s]),l})}}const t2=["static","relative","fixed","absolute","sticky"],uf=Ae({position:{type:String,validator:t=>t2.includes(t)}},"position");function df(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki();return{positionClasses:I(()=>t.position?`${e}--${t.position}`:void 0)}}const vT=Ae({color:String,...Ni(),...Se(),...Ri(),...Xn(),...lu(),...uf(),...yn(),...ft(),...xt()},"v-sheet"),xc=ve()({name:"VSheet",props:{...vT()},setup(t,e){let{slots:n}=e;const{themeClasses:r}=Mt(t),{backgroundColorClasses:i,backgroundColorStyles:s}=Kn(_e(t,"color")),{borderClasses:o}=Di(t),{dimensionStyles:a}=xi(t),{elevationClasses:l}=dr(t),{locationStyles:c}=cu(t),{positionClasses:u}=df(t),{roundedClasses:d}=Cn(t);return Ee(()=>m(t.tag,{class:["v-sheet",r.value,i.value,o.value,l.value,u.value,d.value,t.class],style:[s.value,a.value,c.value,t.style]},n)),{}}}),n2={data:()=>({name:JSON.parse(sessionStorage.getItem("user")).name,icon:JSON.parse(sessionStorage.getItem("user")).icon,drawer:null,links:[["mdi-calendar","ManageEvent","/myevent"],["mdi-account-group","Friend","/myfriend"],["mdi-account","MyProfile","/myprofile"],["mdi-calendar-check","JoinedEvent","/joinedevent"]]})},r2=["src"],i2={class:"username"};function s2(t,e,n,r,i,s){return Ge(),wr(Me,null,[m(xc,{color:"grey-lighten-4",class:"pa-4"},{default:x(()=>[m(Ln,{class:"mb-4",color:"grey-darken-1"},{default:x(()=>[Ce("img",{src:t.icon,alt:"avatar image"},null,8,r2)]),_:1}),Ce("div",i2,dn(t.name),1)]),_:1}),m(ry),m(pT,null,{default:x(()=>[(Ge(!0),wr(Me,null,_c(t.links,([o,a,l])=>(Ge(),Bt(rh,{key:o,to:l,link:""},{prepend:x(()=>[m(Vt,{size:"large"},{default:x(()=>[ke(dn(o),1)]),_:2},1024)]),default:x(()=>[m(oy,null,{default:x(()=>[ke(dn(a),1)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})],64)}const ay=Vn(n2,[["render",s2]]),o2={data(){return{dialog:!0}}},a2={class:"text-center"};function l2(t,e,n,r,i,s){return Ge(),wr("div",a2)}const c2=Vn(o2,[["render",l2]]);var u2=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},yT={},Jn={};let ly;const d2=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Jn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Jn.getSymbolTotalCodewords=function(e){return d2[e]};Jn.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Jn.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');ly=e};Jn.isKanjiModeEnabled=function(){return typeof ly<"u"};Jn.toSJIS=function(e){return ly(e)};var hf={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(hf);function wT(){this.buffer=[],this.length=0}wT.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var h2=wT;function uu(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}uu.prototype.set=function(t,e,n,r){const i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};uu.prototype.get=function(t,e){return this.data[t*this.size+e]};uu.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};uu.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var f2=uu,bT={};(function(t){const e=Jn.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(bT);var _T={};const m2=Jn.getSymbolSize,d_=7;_T.getPositions=function(e){const n=m2(e);return[[0,0],[n-d_,0],[0,n-d_]]};var ET={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let d=0;d<s;d++){a=l=0,c=u=null;for(let h=0;h<s;h++){let f=i.get(d,h);f===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=f,a=1),f=i.get(h,d),f===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=f,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(ET);var ff={};const ns=hf,td=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],nd=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ff.getBlocksCount=function(e,n){switch(n){case ns.L:return td[(e-1)*4+0];case ns.M:return td[(e-1)*4+1];case ns.Q:return td[(e-1)*4+2];case ns.H:return td[(e-1)*4+3];default:return}};ff.getTotalCodewordsCount=function(e,n){switch(n){case ns.L:return nd[(e-1)*4+0];case ns.M:return nd[(e-1)*4+1];case ns.Q:return nd[(e-1)*4+2];case ns.H:return nd[(e-1)*4+3];default:return}};var IT={},mf={};const nc=new Uint8Array(512),ih=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)nc[n]=e,ih[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)nc[n]=nc[n-255]})();mf.log=function(e){if(e<1)throw new Error("log("+e+")");return ih[e]};mf.exp=function(e){return nc[e]};mf.mul=function(e,n){return e===0||n===0?0:nc[ih[e]+ih[n]]};(function(t){const e=mf;t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(IT);const ST=IT;function cy(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}cy.prototype.initialize=function(e){this.degree=e,this.genPoly=ST.generateECPolynomial(this.degree)};cy.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=ST.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var g2=cy,TT={},As={},uy={};uy.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var ni={};const CT="[0-9]+",p2="[A-Z $%*+\\-./:]+";let Pc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Pc=Pc.replace(/u/g,"\\u");const v2="(?:(?![A-Z0-9 $%*+\\-./:]|"+Pc+`)(?:.|[\r
]))+`;ni.KANJI=new RegExp(Pc,"g");ni.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ni.BYTE=new RegExp(v2,"g");ni.NUMERIC=new RegExp(CT,"g");ni.ALPHANUMERIC=new RegExp(p2,"g");const y2=new RegExp("^"+Pc+"$"),w2=new RegExp("^"+CT+"$"),b2=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ni.testKanji=function(e){return y2.test(e)};ni.testNumeric=function(e){return w2.test(e)};ni.testAlphanumeric=function(e){return b2.test(e)};(function(t){const e=uy,n=ni;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(As);(function(t){const e=Jn,n=ff,r=hf,i=As,s=uy,o=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,a=e.getBCHDigit(o);function l(h,f,g){for(let p=1;p<=40;p++)if(f<=t.getCapacity(p,g,h))return p}function c(h,f){return i.getCharCountIndicator(h,f)+4}function u(h,f){let g=0;return h.forEach(function(p){const w=c(p.mode,f);g+=w+p.getBitsLength()}),g}function d(h,f){for(let g=1;g<=40;g++)if(u(h,g)<=t.getCapacity(g,f,i.MIXED))return g}t.from=function(f,g){return s.isValid(f)?parseInt(f,10):g},t.getCapacity=function(f,g,p){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof p>"u"&&(p=i.BYTE);const w=e.getSymbolTotalCodewords(f),y=n.getTotalCodewordsCount(f,g),b=(w-y)*8;if(p===i.MIXED)return b;const v=b-c(p,f);switch(p){case i.NUMERIC:return Math.floor(v/10*3);case i.ALPHANUMERIC:return Math.floor(v/11*2);case i.KANJI:return Math.floor(v/13);case i.BYTE:default:return Math.floor(v/8)}},t.getBestVersionForData=function(f,g){let p;const w=r.from(g,r.M);if(Array.isArray(f)){if(f.length>1)return d(f,w);if(f.length===0)return 1;p=f[0]}else p=f;return l(p.mode,p.getLength(),w)},t.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let g=f<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return f<<12|g}})(TT);var AT={};const rp=Jn,kT=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,_2=1<<14|1<<12|1<<10|1<<4|1<<1,h_=rp.getBCHDigit(kT);AT.getEncodedBits=function(e,n){const r=e.bit<<3|n;let i=r<<10;for(;rp.getBCHDigit(i)-h_>=0;)i^=kT<<rp.getBCHDigit(i)-h_;return(r<<10|i)^_2};var RT={};const E2=As;function Na(t){this.mode=E2.NUMERIC,this.data=t.toString()}Na.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Na.prototype.getLength=function(){return this.data.length};Na.prototype.getBitsLength=function(){return Na.getBitsLength(this.data.length)};Na.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,s*3+1))};var I2=Na;const S2=As,$m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Da(t){this.mode=S2.ALPHANUMERIC,this.data=t}Da.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Da.prototype.getLength=function(){return this.data.length};Da.prototype.getBitsLength=function(){return Da.getBitsLength(this.data.length)};Da.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=$m.indexOf(this.data[n])*45;r+=$m.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put($m.indexOf(this.data[n]),6)};var T2=Da,C2=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const A2=C2,k2=As;function Oa(t){this.mode=k2.BYTE,typeof t=="string"&&(t=A2(t)),this.data=new Uint8Array(t)}Oa.getBitsLength=function(e){return e*8};Oa.prototype.getLength=function(){return this.data.length};Oa.prototype.getBitsLength=function(){return Oa.getBitsLength(this.data.length)};Oa.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var R2=Oa;const x2=As,P2=Jn;function La(t){this.mode=x2.KANJI,this.data=t}La.getBitsLength=function(e){return e*13};La.prototype.getLength=function(){return this.data.length};La.prototype.getBitsLength=function(){return La.getBitsLength(this.data.length)};La.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=P2.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var N2=La,ip={},D2={get exports(){return ip},set exports(t){ip=t}};(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,d,h,f,g,p,w;!a.empty();){l=a.pop(),c=l.value,d=l.cost,h=n[c]||{};for(u in h)h.hasOwnProperty(u)&&(f=h[u],g=d+f,p=o[u],w=typeof o[u]>"u",(w||p>g)&&(o[u]=g,a.push(u,g),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var y=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(D2);(function(t){const e=As,n=I2,r=T2,i=R2,s=N2,o=ni,a=Jn,l=ip;function c(y){return unescape(encodeURIComponent(y)).length}function u(y,b,v){const T=[];let S;for(;(S=y.exec(v))!==null;)T.push({data:S[0],index:S.index,mode:b,length:S[0].length});return T}function d(y){const b=u(o.NUMERIC,e.NUMERIC,y),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,y);let T,S;return a.isKanjiModeEnabled()?(T=u(o.BYTE,e.BYTE,y),S=u(o.KANJI,e.KANJI,y)):(T=u(o.BYTE_KANJI,e.BYTE,y),S=[]),b.concat(v,T,S).sort(function(C,E){return C.index-E.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function h(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return r.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function f(y){return y.reduce(function(b,v){const T=b.length-1>=0?b[b.length-1]:null;return T&&T.mode===v.mode?(b[b.length-1].data+=v.data,b):(b.push(v),b)},[])}function g(y){const b=[];for(let v=0;v<y.length;v++){const T=y[v];switch(T.mode){case e.NUMERIC:b.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:b.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:b.push([T,{data:T.data,mode:e.BYTE,length:c(T.data)}]);break;case e.BYTE:b.push([{data:T.data,mode:e.BYTE,length:c(T.data)}])}}return b}function p(y,b){const v={},T={start:{}};let S=["start"];for(let A=0;A<y.length;A++){const C=y[A],E=[];for(let R=0;R<C.length;R++){const O=C[R],F=""+A+R;E.push(F),v[F]={node:O,lastCount:0},T[F]={};for(let P=0;P<S.length;P++){const V=S[P];v[V]&&v[V].node.mode===O.mode?(T[V][F]=h(v[V].lastCount+O.length,O.mode)-h(v[V].lastCount,O.mode),v[V].lastCount+=O.length):(v[V]&&(v[V].lastCount=O.length),T[V][F]=h(O.length,O.mode)+4+e.getCharCountIndicator(O.mode,b))}}S=E}for(let A=0;A<S.length;A++)T[S[A]].end=0;return{map:T,table:v}}function w(y,b){let v;const T=e.getBestModeForData(y);if(v=e.from(b,T),v!==e.BYTE&&v.bit<T.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(T));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new r(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}t.fromArray=function(b){return b.reduce(function(v,T){return typeof T=="string"?v.push(w(T,null)):T.data&&v.push(w(T.data,T.mode)),v},[])},t.fromString=function(b,v){const T=d(b,a.isKanjiModeEnabled()),S=g(T),A=p(S,v),C=l.find_path(A.map,"start","end"),E=[];for(let R=1;R<C.length-1;R++)E.push(A.table[C[R]].node);return t.fromArray(f(E))},t.rawSplit=function(b){return t.fromArray(d(b,a.isKanjiModeEnabled()))}})(RT);const gf=Jn,zm=hf,O2=h2,L2=f2,M2=bT,F2=_T,sp=ET,op=ff,V2=g2,sh=TT,B2=AT,U2=As,qm=RT;function $2(t,e){const n=t.size,r=F2.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,o+l,!0,!0):t.set(s+a,o+l,!1,!0))}}function z2(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function q2(t,e){const n=M2.getPositions(e);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(i+o,s+a,!0,!0):t.set(i+o,s+a,!1,!0)}}function j2(t,e){const n=t.size,r=sh.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,t.set(i,s,o,!0),t.set(s,i,o,!0)}function jm(t,e,n){const r=t.size,i=B2.getEncodedBits(e,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?t.set(s,8,o,!0):s<8?t.set(s+1,8,o,!0):t.set(r-15+s,8,o,!0),s<8?t.set(8,r-s-1,o,!0):s<9?t.set(8,15-s-1+1,o,!0):t.set(8,15-s-1,o,!0);t.set(r-8,8,1,!0)}function H2(t,e){const n=t.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(i,a-l)){let c=!1;o<e.length&&(c=(e[o]>>>s&1)===1),t.set(i,a-l,c),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function K2(t,e,n){const r=new O2;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),U2.getCharCountIndicator(l.mode,t)),l.write(r)});const i=gf.getSymbolTotalCodewords(t),s=op.getTotalCodewordsCount(t,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return G2(r,t,e)}function G2(t,e,n){const r=gf.getSymbolTotalCodewords(e),i=op.getTotalCodewordsCount(e,n),s=r-i,o=op.getBlocksCount(e,n),a=r%o,l=o-a,c=Math.floor(r/o),u=Math.floor(s/o),d=u+1,h=c-u,f=new V2(h);let g=0;const p=new Array(o),w=new Array(o);let y=0;const b=new Uint8Array(t.buffer);for(let C=0;C<o;C++){const E=C<l?u:d;p[C]=b.slice(g,g+E),w[C]=f.encode(p[C]),g+=E,y=Math.max(y,E)}const v=new Uint8Array(r);let T=0,S,A;for(S=0;S<y;S++)for(A=0;A<o;A++)S<p[A].length&&(v[T++]=p[A][S]);for(S=0;S<h;S++)for(A=0;A<o;A++)v[T++]=w[A][S];return v}function W2(t,e,n,r){let i;if(Array.isArray(t))i=qm.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){const u=qm.rawSplit(t);c=sh.getBestVersionForData(u,n)}i=qm.fromString(t,c||40)}else throw new Error("Invalid data");const s=sh.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=K2(e,n,i),a=gf.getSymbolSize(e),l=new L2(a);return $2(l,e),z2(l),q2(l,e),jm(l,n,0),e>=7&&j2(l,e),H2(l,o),isNaN(r)&&(r=sp.getBestMask(l,jm.bind(null,l,n))),sp.applyMask(r,l),jm(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}yT.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=zm.M,i,s;return typeof n<"u"&&(r=zm.from(n.errorCorrectionLevel,zm.M),i=sh.from(n.version),s=sp.from(n.maskPattern),n.toSJISFunc&&gf.setToSJISFunction(n.toSJISFunc)),W2(e,i,r,s)};var xT={},dy={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,d=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let f=0;f<c;f++){let g=(h*c+f)*4,p=s.color.light;if(h>=u&&f>=u&&h<c-u&&f<c-u){const w=Math.floor((h-u)/l),y=Math.floor((f-u)/l);p=d[a[w*o+y]?1:0]}r[g++]=p.r,r[g++]=p.g,r[g++]=p.b,r[g]=p.a}}})(dy);(function(t){const e=dy;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),d=c.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,l),n(d,c,u),d.putImageData(h,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",d=l.rendererOpts||{};return c.toDataURL(u,d.quality)}})(xT);var PT={};const Y2=dy;function f_(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Hm(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function Q2(t,e,n){let r="",i=0,s=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),c=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=s?Hm("M",l+n,.5+c+n):Hm("m",i,0),i=0,s=!1),l+1<e&&t[a+1]||(r+=Hm("h",o),o=0)):i++}return r}PT.render=function(e,n,r){const i=Y2.getOptions(n),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+f_(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+f_(i.color.dark,"stroke")+' d="'+Q2(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof r=="function"&&r(null,h),h};const X2=u2,ap=yT,NT=xT,J2=PT;function hy(t,e,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!X2())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,c){try{const u=ap.create(n,r);l(t(u,e,r))}catch(u){c(u)}})}try{const l=ap.create(n,r);i(null,t(l,e,r))}catch(l){i(l)}}ap.create;var Z2=hy.bind(null,NT.render),eF=hy.bind(null,NT.renderToDataURL),tF=hy.bind(null,function(t,e,n){return J2.render(t,n)});/*! vue-qrcode v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */const m_="ready";var nF=Kh({name:"VueQrcode",props:{value:{type:String,default:void 0},options:{type:Object,default:void 0},tag:{type:String,default:"canvas"}},emits:[m_],watch:{$props:{deep:!0,immediate:!0,handler(){this.$el&&this.generate()}}},mounted(){this.generate()},methods:{generate(){const t=this.options||{},e=String(this.value),n=()=>{this.$emit(m_,this.$el)};switch(this.tag){case"canvas":Z2(this.$el,e,t,r=>{if(r)throw r;n()});break;case"img":eF(e,t,(r,i)=>{if(r)throw r;this.$el.src=i,this.$el.onload=n});break;case"svg":tF(e,t,(r,i)=>{if(r)throw r;const s=document.createElement("div");s.innerHTML=i;const o=s.querySelector("svg");if(o){const{attributes:a,childNodes:l}=o;Object.keys(a).forEach(c=>{const u=a[Number(c)];this.$el.setAttribute(u.name,u.value)}),Object.keys(l).forEach(c=>{const u=l[Number(c)];this.$el.appendChild(u.cloneNode(!0))}),n()}});break}}},render(){return Sr(this.tag,this.$slots.default)}});function DT(t,e){return function(){return t.apply(e,arguments)}}const{toString:rF}=Object.prototype,{getPrototypeOf:fy}=Object,pf=(t=>e=>{const n=rF.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ri=t=>(t=t.toLowerCase(),e=>pf(e)===t),vf=t=>e=>typeof e===t,{isArray:sl}=Array,Nc=vf("undefined");function iF(t){return t!==null&&!Nc(t)&&t.constructor!==null&&!Nc(t.constructor)&&sr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const OT=ri("ArrayBuffer");function sF(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&OT(t.buffer),e}const oF=vf("string"),sr=vf("function"),LT=vf("number"),yf=t=>t!==null&&typeof t=="object",aF=t=>t===!0||t===!1,Cd=t=>{if(pf(t)!=="object")return!1;const e=fy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lF=ri("Date"),cF=ri("File"),uF=ri("Blob"),dF=ri("FileList"),hF=t=>yf(t)&&sr(t.pipe),fF=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sr(t.append)&&((e=pf(t))==="formdata"||e==="object"&&sr(t.toString)&&t.toString()==="[object FormData]"))},mF=ri("URLSearchParams"),gF=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function du(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),sl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function MT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const FT=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),VT=t=>!Nc(t)&&t!==FT;function lp(){const{caseless:t}=VT(this)&&this||{},e={},n=(r,i)=>{const s=t&&MT(e,i)||i;Cd(e[s])&&Cd(r)?e[s]=lp(e[s],r):Cd(r)?e[s]=lp({},r):sl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&du(arguments[r],n);return e}const pF=(t,e,n,{allOwnKeys:r}={})=>(du(e,(i,s)=>{n&&sr(i)?t[s]=DT(i,n):t[s]=i},{allOwnKeys:r}),t),vF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},wF=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&fy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},bF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},_F=t=>{if(!t)return null;if(sl(t))return t;let e=t.length;if(!LT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},EF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fy(Uint8Array)),IF=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},SF=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},TF=ri("HTMLFormElement"),CF=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),g_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),AF=ri("RegExp"),BT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};du(n,(i,s)=>{e(i,s,t)!==!1&&(r[s]=i)}),Object.defineProperties(t,r)},kF=t=>{BT(t,(e,n)=>{if(sr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(sr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},RF=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return sl(t)?r(t):r(String(t).split(e)),n},xF=()=>{},PF=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Km="abcdefghijklmnopqrstuvwxyz",p_="0123456789",UT={DIGIT:p_,ALPHA:Km,ALPHA_DIGIT:Km+Km.toUpperCase()+p_},NF=(t=16,e=UT.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function DF(t){return!!(t&&sr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const OF=t=>{const e=new Array(10),n=(r,i)=>{if(yf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=sl(r)?[]:{};return du(r,(o,a)=>{const l=n(o,i+1);!Nc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},LF=ri("AsyncFunction"),MF=t=>t&&(yf(t)||sr(t))&&sr(t.then)&&sr(t.catch),$={isArray:sl,isArrayBuffer:OT,isBuffer:iF,isFormData:fF,isArrayBufferView:sF,isString:oF,isNumber:LT,isBoolean:aF,isObject:yf,isPlainObject:Cd,isUndefined:Nc,isDate:lF,isFile:cF,isBlob:uF,isRegExp:AF,isFunction:sr,isStream:hF,isURLSearchParams:mF,isTypedArray:EF,isFileList:dF,forEach:du,merge:lp,extend:pF,trim:gF,stripBOM:vF,inherits:yF,toFlatObject:wF,kindOf:pf,kindOfTest:ri,endsWith:bF,toArray:_F,forEachEntry:IF,matchAll:SF,isHTMLForm:TF,hasOwnProperty:g_,hasOwnProp:g_,reduceDescriptors:BT,freezeMethods:kF,toObjectSet:RF,toCamelCase:CF,noop:xF,toFiniteNumber:PF,findKey:MT,global:FT,isContextDefined:VT,ALPHABET:UT,generateString:NF,isSpecCompliantForm:DF,toJSONObject:OF,isAsyncFn:LF,isThenable:MF};function je(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}$.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $T=je.prototype,zT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zT[t]={value:t}});Object.defineProperties(je,zT);Object.defineProperty($T,"isAxiosError",{value:!0});je.from=(t,e,n,r,i,s)=>{const o=Object.create($T);return $.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),je.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const FF=null;function cp(t){return $.isPlainObject(t)||$.isArray(t)}function qT(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function v_(t,e,n){return t?t.concat(e).map(function(i,s){return i=qT(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function VF(t){return $.isArray(t)&&!t.some(cp)}const BF=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function wf(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,w){return!$.isUndefined(w[p])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if($.isDate(g))return g.toISOString();if(!l&&$.isBlob(g))throw new je("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(g)||$.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,p,w){let y=g;if(g&&!w&&typeof g=="object"){if($.endsWith(p,"{}"))p=r?p:p.slice(0,-2),g=JSON.stringify(g);else if($.isArray(g)&&VF(g)||($.isFileList(g)||$.endsWith(p,"[]"))&&(y=$.toArray(g)))return p=qT(p),y.forEach(function(v,T){!($.isUndefined(v)||v===null)&&e.append(o===!0?v_([p],T,s):o===null?p:p+"[]",c(v))}),!1}return cp(g)?!0:(e.append(v_(w,p,s),c(g)),!1)}const d=[],h=Object.assign(BF,{defaultVisitor:u,convertValue:c,isVisitable:cp});function f(g,p){if(!$.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(g),$.forEach(g,function(y,b){(!($.isUndefined(y)||y===null)&&i.call(e,y,$.isString(b)?b.trim():b,p,h))===!0&&f(y,p?p.concat(b):[b])}),d.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return f(t),e}function y_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function my(t,e){this._pairs=[],t&&wf(t,this,e)}const jT=my.prototype;jT.append=function(e,n){this._pairs.push([e,n])};jT.toString=function(e){const n=e?function(r){return e.call(this,r,y_)}:y_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function UF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HT(t,e,n){if(!e)return t;const r=n&&n.encode||UF,i=n&&n.serialize;let s;if(i?s=i(e,n):s=$.isURLSearchParams(e)?e.toString():new my(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class $F{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const w_=$F,KT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zF=typeof URLSearchParams<"u"?URLSearchParams:my,qF=typeof FormData<"u"?FormData:null,jF=typeof Blob<"u"?Blob:null,HF=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),KF=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Vr={isBrowser:!0,classes:{URLSearchParams:zF,FormData:qF,Blob:jF},isStandardBrowserEnv:HF,isStandardBrowserWebWorkerEnv:KF,protocols:["http","https","file","blob","url","data"]};function GF(t,e){return wf(t,new Vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Vr.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function WF(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function YF(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function GT(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&$.isArray(i)?i.length:o,l?($.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!$.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&$.isArray(i[o])&&(i[o]=YF(i[o])),!a)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,i)=>{e(WF(r),i,n,0)}),n}return null}const QF={"Content-Type":void 0};function XF(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const bf={transitional:KT,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=$.isObject(e);if(s&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return i&&i?JSON.stringify(GT(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return GF(e,this.formSerializer).toString();if((a=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return wf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),XF(e)):e}],transformResponse:[function(e){const n=this.transitional||bf.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&$.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?je.from(a,je.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$.forEach(["delete","get","head"],function(e){bf.headers[e]={}});$.forEach(["post","put","patch"],function(e){bf.headers[e]=$.merge(QF)});const gy=bf,JF=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ZF=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&JF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},b_=Symbol("internals");function kl(t){return t&&String(t).trim().toLowerCase()}function Ad(t){return t===!1||t==null?t:$.isArray(t)?t.map(Ad):String(t)}function eV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const tV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gm(t,e,n,r,i){if($.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function nV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function rV(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class _f{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=kl(l);if(!u)throw new Error("header name must be a non-empty string");const d=$.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=Ad(a))}const o=(a,l)=>$.forEach(a,(c,u)=>s(c,u,l));return $.isPlainObject(e)||e instanceof this.constructor?o(e,n):$.isString(e)&&(e=e.trim())&&!tV(e)?o(ZF(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=kl(e),e){const r=$.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return eV(i);if($.isFunction(n))return n.call(this,i,r);if($.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=kl(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Gm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=kl(o),o){const a=$.findKey(r,o);a&&(!n||Gm(r,r[a],a,n))&&(delete r[a],i=!0)}}return $.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Gm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return $.forEach(this,(i,s)=>{const o=$.findKey(r,s);if(o){n[o]=Ad(i),delete n[s];return}const a=e?nV(s):String(s).trim();a!==s&&delete n[s],n[a]=Ad(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[b_]=this[b_]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=kl(o);r[a]||(rV(i,o),r[a]=!0)}return $.isArray(e)?e.forEach(s):s(e),this}}_f.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.freezeMethods(_f.prototype);$.freezeMethods(_f);const mi=_f;function Wm(t,e){const n=this||gy,r=e||n,i=mi.from(r.headers);let s=r.data;return $.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function WT(t){return!!(t&&t.__CANCEL__)}function hu(t,e,n){je.call(this,t??"canceled",je.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(hu,je,{__CANCEL__:!0});function iV(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const sV=Vr.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),$.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),$.isString(s)&&l.push("path="+s),$.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function oV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function aV(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function YT(t,e){return t&&!oV(e)?aV(t,e):e}const lV=Vr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=$.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function cV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function __(t,e){let n=0;const r=uV(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),c=s<=o;n=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const dV=typeof XMLHttpRequest<"u",hV=dV&&function(t){return new Promise(function(n,r){let i=t.data;const s=mi.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}$.isFormData(i)&&(Vr.isStandardBrowserEnv||Vr.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(f+":"+g))}const u=YT(t.baseURL,t.url);c.open(t.method.toUpperCase(),HT(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const f=mi.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:t,request:c};iV(function(y){n(y),l()},function(y){r(y),l()},p),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new je("Request aborted",je.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new je("Network Error",je.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const p=t.transitional||KT;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new je(g,p.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,c)),c=null},Vr.isStandardBrowserEnv){const f=(t.withCredentials||lV(u))&&t.xsrfCookieName&&sV.read(t.xsrfCookieName);f&&s.set(t.xsrfHeaderName,f)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&$.forEach(s.toJSON(),function(g,p){c.setRequestHeader(p,g)}),$.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",__(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",__(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{c&&(r(!f||f.type?new hu(null,t,c):f),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=cV(u);if(h&&Vr.protocols.indexOf(h)===-1){r(new je("Unsupported protocol "+h+":",je.ERR_BAD_REQUEST,t));return}c.send(i||null)})},kd={http:FF,xhr:hV};$.forEach(kd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const fV={getAdapter:t=>{t=$.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=$.isString(n)?kd[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new je(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error($.hasOwnProp(kd,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!$.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:kd};function Ym(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hu(null,t)}function E_(t){return Ym(t),t.headers=mi.from(t.headers),t.data=Wm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fV.getAdapter(t.adapter||gy.adapter)(t).then(function(r){return Ym(t),r.data=Wm.call(t,t.transformResponse,r),r.headers=mi.from(r.headers),r},function(r){return WT(r)||(Ym(t),r&&r.response&&(r.response.data=Wm.call(t,t.transformResponse,r.response),r.response.headers=mi.from(r.response.headers))),Promise.reject(r)})}const I_=t=>t instanceof mi?t.toJSON():t;function Ma(t,e){e=e||{};const n={};function r(c,u,d){return $.isPlainObject(c)&&$.isPlainObject(u)?$.merge.call({caseless:d},c,u):$.isPlainObject(u)?$.merge({},u):$.isArray(u)?u.slice():u}function i(c,u,d){if($.isUndefined(u)){if(!$.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function s(c,u){if(!$.isUndefined(u))return r(void 0,u)}function o(c,u){if($.isUndefined(u)){if(!$.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>i(I_(c),I_(u),!0)};return $.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||i,h=d(t[u],e[u],u);$.isUndefined(h)&&d!==a||(n[u]=h)}),n}const QT="1.4.0",py={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{py[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const S_={};py.transitional=function(e,n,r){function i(s,o){return"[Axios v"+QT+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new je(i(o," has been removed"+(n?" in "+n:"")),je.ERR_DEPRECATED);return n&&!S_[o]&&(S_[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function mV(t,e,n){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new je("option "+s+" must be "+l,je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new je("Unknown option "+s,je.ERR_BAD_OPTION)}}const up={assertOptions:mV,validators:py},Hi=up.validators;class oh{constructor(e){this.defaults=e,this.interceptors={request:new w_,response:new w_}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ma(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&up.assertOptions(r,{silentJSONParsing:Hi.transitional(Hi.boolean),forcedJSONParsing:Hi.transitional(Hi.boolean),clarifyTimeoutError:Hi.transitional(Hi.boolean)},!1),i!=null&&($.isFunction(i)?n.paramsSerializer={serialize:i}:up.assertOptions(i,{encode:Hi.function,serialize:Hi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=s&&$.merge(s.common,s[n.method]),o&&$.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=mi.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let u,d=0,h;if(!l){const g=[E_.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let f=n;for(d=0;d<h;){const g=a[d++],p=a[d++];try{f=g(f)}catch(w){p.call(this,w);break}}try{u=E_.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Ma(this.defaults,e);const n=YT(e.baseURL,e.url);return HT(n,e.params,e.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(e){oh.prototype[e]=function(n,r){return this.request(Ma(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Ma(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}oh.prototype[e]=n(),oh.prototype[e+"Form"]=n(!0)});const Rd=oh;class vy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new hu(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new vy(function(i){e=i}),cancel:e}}}const gV=vy;function pV(t){return function(n){return t.apply(null,n)}}function vV(t){return $.isObject(t)&&t.isAxiosError===!0}const dp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dp).forEach(([t,e])=>{dp[e]=t});const yV=dp;function XT(t){const e=new Rd(t),n=DT(Rd.prototype.request,e);return $.extend(n,Rd.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return XT(Ma(t,i))},n}const Ut=XT(gy);Ut.Axios=Rd;Ut.CanceledError=hu;Ut.CancelToken=gV;Ut.isCancel=WT;Ut.VERSION=QT;Ut.toFormData=wf;Ut.AxiosError=je;Ut.Cancel=Ut.CanceledError;Ut.all=function(e){return Promise.all(e)};Ut.spread=pV;Ut.isAxiosError=vV;Ut.mergeConfig=Ma;Ut.AxiosHeaders=mi;Ut.formToJSON=t=>GT($.isHTMLForm(t)?new FormData(t):t);Ut.HttpStatusCode=yV;Ut.default=Ut;const jr=Ut;const wV=Ae({text:String,...Se(),...ft()},"v-toolbar-title"),Ef=ve()({name:"VToolbarTitle",props:wV(),setup(t,e){let{slots:n}=e;return Ee(()=>{const r=!!(n.default||n.text||t.text);return m(t.tag,{class:["v-toolbar-title",t.class],style:t.style},{default:()=>{var i;return[r&&m("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():t.text,(i=n.default)==null?void 0:i.call(n)])]}})}),{}}}),bV=[null,"prominent","default","comfortable","compact"],JT=Ae({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:t=>bV.includes(t)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ni(),...Se(),...Xn(),...yn(),...ft({tag:"header"}),...xt()},"v-toolbar"),T_=ve()({name:"VToolbar",props:JT(),setup(t,e){var h;let{slots:n}=e;const{backgroundColorClasses:r,backgroundColorStyles:i}=Kn(_e(t,"color")),{borderClasses:s}=Di(t),{elevationClasses:o}=dr(t),{roundedClasses:a}=Cn(t),{themeClasses:l}=Mt(t),c=z(!!(t.extended||(h=n.extension)!=null&&h.call(n))),u=I(()=>parseInt(Number(t.height)+(t.density==="prominent"?Number(t.height):0)-(t.density==="comfortable"?8:0)-(t.density==="compact"?16:0),10)),d=I(()=>c.value?parseInt(Number(t.extensionHeight)+(t.density==="prominent"?Number(t.extensionHeight):0)-(t.density==="comfortable"?4:0)-(t.density==="compact"?8:0),10):0);return ei({VBtn:{variant:"text"}}),Ee(()=>{var w;const f=!!(t.title||n.title),g=!!(n.image||t.image),p=(w=n.extension)==null?void 0:w.call(n);return c.value=!!(t.extended||p),m(t.tag,{class:["v-toolbar",{"v-toolbar--absolute":t.absolute,"v-toolbar--collapse":t.collapse,"v-toolbar--flat":t.flat,"v-toolbar--floating":t.floating,[`v-toolbar--density-${t.density}`]:!0},r.value,s.value,o.value,a.value,l.value,t.class],style:[i.value,t.style]},{default:()=>[g&&m("div",{key:"image",class:"v-toolbar__image"},[n.image?m(Ot,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},n.image):m(_i,{key:"image-img",cover:!0,src:t.image},null)]),m(Ot,{defaults:{VTabs:{height:de(u.value)}}},{default:()=>{var y,b,v;return[m("div",{class:"v-toolbar__content",style:{height:de(u.value)}},[n.prepend&&m("div",{class:"v-toolbar__prepend"},[(y=n.prepend)==null?void 0:y.call(n)]),f&&m(Ef,{key:"title",text:t.title},{text:n.title}),(b=n.default)==null?void 0:b.call(n),n.append&&m("div",{class:"v-toolbar__append"},[(v=n.append)==null?void 0:v.call(n)])])]}}),m(Ot,{defaults:{VTabs:{height:de(d.value)}}},{default:()=>[m(iy,null,{default:()=>[c.value&&m("div",{class:"v-toolbar__extension",style:{height:de(d.value)}},[p])]})]})]})}),{contentHeight:u,extensionHeight:d}}}),_V=Ae({scrollTarget:{type:String},scrollThreshold:{type:[String,Number]}},"scroll");function EV(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{thresholdMetCallback:n,scrollThreshold:r,canScroll:i}=e;let s=0;const o=z(null),a=z(0),l=z(0),c=z(0),u=z(!1),d=z(!1),h=I(()=>Number(t.scrollThreshold??r??300)),f=()=>{const g=o.value;!g||i&&!i.value||(s=a.value,a.value="window"in g?g.pageYOffset:g.scrollTop,d.value=a.value<s,c.value=Math.abs(a.value-h.value))};return fe(d,()=>{l.value=l.value||a.value}),fe(u,()=>{l.value=0}),Yn(()=>{fe(()=>t.scrollTarget,g=>{var w;const p=g?document.querySelector(g):window;if(!p){ls(`Unable to locate element with identifier ${g}`,Xh());return}p!==o.value&&((w=o.value)==null||w.removeEventListener("scroll",f),o.value=p,o.value.addEventListener("scroll",f,{passive:!0}))},{immediate:!0})}),Fn(()=>{var g;(g=o.value)==null||g.removeEventListener("scroll",f)}),n&&fe(()=>Math.abs(a.value-l.value)>h.value,g=>{g&&n({currentThreshold:c.value,isScrollingUp:d.value,savedScroll:l})},{immediate:!0}),i&&fe(i,f,{immediate:!0}),{computedScrollThreshold:h,currentScroll:a,currentThreshold:c,isScrollActive:u,isScrollingUp:d,savedScroll:l}}const yy=ve()({name:"VAppBar",props:{scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:t=>["top","bottom"].includes(t)},...JT(),...A1(),..._V(),height:{type:[Number,String],default:64}},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=z(),i=Lt(t,"modelValue"),s=I(()=>{var T;const v=new Set(((T=t.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:v.has("hide"),inverted:v.has("inverted"),collapse:v.has("collapse"),elevate:v.has("elevate"),fadeImage:v.has("fade-image")}}),o=I(()=>{const v=s.value;return v.hide||v.inverted||v.collapse||v.elevate||v.fadeImage||!i.value}),{currentScroll:a,currentThreshold:l,computedScrollThreshold:c,isScrollingUp:u}=EV(t,{canScroll:o}),d=I(()=>t.collapse||s.value.collapse&&(s.value.inverted?a.value<1:a.value>0)),h=I(()=>t.flat||s.value.elevate&&a.value===(s.value.inverted?1:0)),f=I(()=>Math.min((l.value-a.value)/l.value||1,1)),g=I(()=>s.value.fadeImage?s.value.inverted?1-f.value:f.value:void 0),p=I(()=>{var S,A;if(s.value.hide&&s.value.inverted)return 0;const v=((S=r.value)==null?void 0:S.contentHeight)??0,T=((A=r.value)==null?void 0:A.extensionHeight)??0;return v+T});function w(){const v=a.value;s.value.hide?s.value.inverted?i.value=v>c.value:i.value=u.value||v<c.value:s.value.inverted?i.value=a.value===0:i.value=!0}fe(a,w,{immediate:!0}),fe(s,w);const{ssrBootStyles:y}=rf(),{layoutItemStyles:b}=k1({id:t.name,order:I(()=>parseInt(t.order,10)),position:_e(t,"location"),layoutSize:p,elementSize:z(void 0),active:i,absolute:_e(t,"absolute")});return Ee(()=>{const[v]=T_.filterProps(t);return m(T_,Ke({ref:r,class:["v-app-bar",{"v-app-bar--bottom":t.location==="bottom"},t.class],style:[{...b.value,"--v-toolbar-image-opacity":g.value,height:void 0,...y.value},t.style]},v,{collapse:d.value,flat:h.value}),n)}),{}}});const ZT=Ae({divided:Boolean,...Ni(),...Se(),...Cr(),...Xn(),...yn(),...ft(),...xt(),...Pi()},"v-btn-group"),C_=ve()({name:"VBtnGroup",props:ZT(),setup(t,e){let{slots:n}=e;const{themeClasses:r}=Mt(t),{densityClasses:i}=ti(t),{borderClasses:s}=Di(t),{elevationClasses:o}=dr(t),{roundedClasses:a}=Cn(t);ei({VBtn:{height:"auto",color:_e(t,"color"),density:_e(t,"density"),flat:!0,variant:_e(t,"variant")}}),Ee(()=>m(t.tag,{class:["v-btn-group",{"v-btn-group--divided":t.divided},r.value,s.value,i.value,o.value,a.value,t.class],style:t.style},n))}}),wy=Ae({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),by=Ae({value:null,disabled:Boolean,selectedClass:String},"group-item");function _y(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=vn("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const i=Cs();rn(Symbol.for(`${e.description}:id`),i);const s=tt(e,null);if(!s){if(!n)return s;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${e.description}`)}const o=_e(t,"value"),a=I(()=>s.disabled.value||t.disabled);s.register({id:i,value:o,disabled:a},r),Fn(()=>{s.unregister(i)});const l=I(()=>s.isSelected(i)),c=I(()=>l.value&&[s.selectedClass.value,t.selectedClass]);return fe(l,u=>{r.emit("group:selected",{value:u})}),{id:i,isSelected:l,toggle:()=>s.select(i,!l.value),select:u=>s.select(i,u),selectedClass:c,value:o,disabled:a,group:s}}function Ey(t,e){let n=!1;const r=tn([]),i=Lt(t,"modelValue",[],h=>h==null?[]:eC(r,ga(h)),h=>{const f=SV(r,h);return t.multiple?f:f[0]}),s=vn("useGroup");function o(h,f){const g=h,p=Symbol.for(`${e.description}:id`),y=Zl(p,s==null?void 0:s.vnode).indexOf(f);y>-1?r.splice(y,0,g):r.push(g)}function a(h){if(n)return;l();const f=r.findIndex(g=>g.id===h);r.splice(f,1)}function l(){const h=r.find(f=>!f.disabled);h&&t.mandatory==="force"&&!i.value.length&&(i.value=[h.id])}Yn(()=>{l()}),Fn(()=>{n=!0});function c(h,f){const g=r.find(p=>p.id===h);if(!(f&&(g!=null&&g.disabled)))if(t.multiple){const p=i.value.slice(),w=p.findIndex(b=>b===h),y=~w;if(f=f??!y,y&&t.mandatory&&p.length<=1||!y&&t.max!=null&&p.length+1>t.max)return;w<0&&f?p.push(h):w>=0&&!f&&p.splice(w,1),i.value=p}else{const p=i.value.includes(h);if(t.mandatory&&p)return;i.value=f??!p?[h]:[]}}function u(h){if(t.multiple&&ls('This method is not supported when using "multiple" prop'),i.value.length){const f=i.value[0],g=r.findIndex(y=>y.id===f);let p=(g+h)%r.length,w=r[p];for(;w.disabled&&p!==g;)p=(p+h)%r.length,w=r[p];if(w.disabled)return;i.value=[r[p].id]}else{const f=r.find(g=>!g.disabled);f&&(i.value=[f.id])}}const d={register:o,unregister:a,selected:i,select:c,disabled:_e(t,"disabled"),prev:()=>u(r.length-1),next:()=>u(1),isSelected:h=>i.value.includes(h),selectedClass:I(()=>t.selectedClass),items:I(()=>r),getItemIndex:h=>IV(r,h)};return rn(e,d),d}function IV(t,e){const n=eC(t,[e]);return n.length?t.findIndex(r=>r.id===n[0]):-1}function eC(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r];i.value!=null?e.find(s=>Zh(s,i.value))!=null&&n.push(i.id):e.includes(r)&&n.push(i.id)}return n}function SV(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r];e.includes(i.id)&&n.push(i.value!=null?i.value:r)}return n}const tC=Symbol.for("vuetify:v-btn-toggle");ve()({name:"VBtnToggle",props:{...ZT(),...wy()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isSelected:r,next:i,prev:s,select:o,selected:a}=Ey(t,tC);return Ee(()=>{const[l]=C_.filterProps(t);return m(C_,Ke({class:["v-btn-toggle",t.class]},l,{style:t.style}),{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:r,next:i,prev:s,select:o,selected:a})]}})}),{next:i,prev:s,select:o}}});function nC(t,e){const n=z(),r=z(!1);if($v){const i=new IntersectionObserver(s=>{t==null||t(s,i),r.value=!!s.find(o=>o.isIntersecting)},e);Fn(()=>{i.disconnect()}),fe(n,(s,o)=>{o&&(i.unobserve(o),r.value=!1),s&&i.observe(s)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const TV=ve()({name:"VProgressCircular",props:{bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Se(),...Mo(),...ft({tag:"div"}),...xt()},setup(t,e){let{slots:n}=e;const r=20,i=2*Math.PI*r,s=z(),{themeClasses:o}=Mt(t),{sizeClasses:a,sizeStyles:l}=nl(t),{textColorClasses:c,textColorStyles:u}=Qr(_e(t,"color")),{textColorClasses:d,textColorStyles:h}=Qr(_e(t,"bgColor")),{intersectionRef:f,isIntersecting:g}=nC(),{resizeRef:p,contentRect:w}=Sc(),y=I(()=>Math.max(0,Math.min(100,parseFloat(t.modelValue)))),b=I(()=>Number(t.width)),v=I(()=>l.value?Number(t.size):w.value?w.value.width:Math.max(b.value,32)),T=I(()=>r/(1-b.value/v.value)*2),S=I(()=>b.value/v.value*T.value),A=I(()=>de((100-y.value)/100*i));return Ts(()=>{f.value=s.value,p.value=s.value}),Ee(()=>m(t.tag,{ref:s,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!t.indeterminate,"v-progress-circular--visible":g.value,"v-progress-circular--disable-shrink":t.indeterminate==="disable-shrink"},o.value,a.value,c.value,t.class],style:[l.value,u.value,t.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":t.indeterminate?void 0:y.value},{default:()=>[m("svg",{style:{transform:`rotate(calc(-90deg + ${Number(t.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${T.value} ${T.value}`},[m("circle",{class:["v-progress-circular__underlay",d.value],style:h.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":S.value,"stroke-dasharray":i,"stroke-dashoffset":0},null),m("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":S.value,"stroke-dasharray":i,"stroke-dashoffset":A.value},null)]),n.default&&m("div",{class:"v-progress-circular__content"},[n.default({value:y.value})])]})),{}}});const CV=ve()({name:"VProgressLinear",props:{absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Se(),...lu({location:"top"}),...yn(),...ft(),...xt()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=Lt(t,"modelValue"),{isRtl:i}=Oo(),{themeClasses:s}=Mt(t),{locationStyles:o}=cu(t),{textColorClasses:a,textColorStyles:l}=Qr(t,"color"),{backgroundColorClasses:c,backgroundColorStyles:u}=Kn(I(()=>t.bgColor||t.color)),{backgroundColorClasses:d,backgroundColorStyles:h}=Kn(t,"color"),{roundedClasses:f}=Cn(t),{intersectionRef:g,isIntersecting:p}=nC(),w=I(()=>parseInt(t.max,10)),y=I(()=>parseInt(t.height,10)),b=I(()=>parseFloat(t.bufferValue)/w.value*100),v=I(()=>parseFloat(r.value)/w.value*100),T=I(()=>i.value!==t.reverse),S=I(()=>t.indeterminate?"fade-transition":"slide-x-transition"),A=I(()=>t.bgOpacity==null?t.bgOpacity:parseFloat(t.bgOpacity));function C(E){if(!g.value)return;const{left:R,right:O,width:F}=g.value.getBoundingClientRect(),P=T.value?F-E.clientX+(O-F):E.clientX-R;r.value=Math.round(P/F*w.value)}return Ee(()=>m(t.tag,{ref:g,class:["v-progress-linear",{"v-progress-linear--absolute":t.absolute,"v-progress-linear--active":t.active&&p.value,"v-progress-linear--reverse":T.value,"v-progress-linear--rounded":t.rounded,"v-progress-linear--rounded-bar":t.roundedBar,"v-progress-linear--striped":t.striped},f.value,s.value,t.class],style:[{bottom:t.location==="bottom"?0:void 0,top:t.location==="top"?0:void 0,height:t.active?de(y.value):0,"--v-progress-linear-height":de(y.value),...o.value},t.style],role:"progressbar","aria-hidden":t.active?"false":"true","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.indeterminate?void 0:v.value,onClick:t.clickable&&C},{default:()=>[t.stream&&m("div",{key:"stream",class:["v-progress-linear__stream",a.value],style:{...l.value,[T.value?"left":"right"]:de(-y.value),borderTop:`${de(y.value/2)} dotted`,opacity:A.value,top:`calc(50% - ${de(y.value/4)})`,width:de(100-b.value,"%"),"--v-progress-linear-stream-to":de(y.value*(T.value?1:-1))}},null),m("div",{class:["v-progress-linear__background",c.value],style:[u.value,{opacity:A.value,width:de(t.stream?b.value:100,"%")}]},null),m(Yr,{name:S.value},{default:()=>[t.indeterminate?m("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(E=>m("div",{key:E,class:["v-progress-linear__indeterminate",E,d.value],style:h.value},null))]):m("div",{class:["v-progress-linear__determinate",d.value],style:[h.value,{width:de(v.value,"%")}]},null)]}),n.default&&m("div",{class:"v-progress-linear__content"},[n.default({value:v.value,buffer:b.value})])]})),{}}}),Iy=Ae({loading:[Boolean,String]},"loader");function Sy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki();return{loaderClasses:I(()=>({[`${e}--loading`]:t.loading}))}}function rC(t,e){var r;let{slots:n}=e;return m("div",{class:`${t.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:t.color,isActive:t.active}))||m(CV,{active:t.active,color:t.color,height:"2",indeterminate:!0},null)])}function AV(t,e){fe(()=>{var n;return(n=t.isActive)==null?void 0:n.value},n=>{t.isLink.value&&n&&e&&Ht(()=>{e(!0)})},{immediate:!0})}const kV=Ae({active:{type:Boolean,default:void 0},symbol:{type:null,default:tC},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Qe,appendIcon:Qe,block:Boolean,stacked:Boolean,ripple:{type:Boolean,default:!0},text:String,...Ni(),...Se(),...Cr(),...Ri(),...Xn(),...by(),...Iy(),...lu(),...uf(),...yn(),...cf(),...Mo(),...ft({tag:"button"}),...xt(),...Pi({variant:"elevated"})},"VBtn"),et=ve()({name:"VBtn",directives:{Ripple:au},props:kV(),emits:{"group:selected":t=>!0},setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:i}=Mt(t),{borderClasses:s}=Di(t),{colorClasses:o,colorStyles:a,variantClasses:l}=il(t),{densityClasses:c}=ti(t),{dimensionStyles:u}=xi(t),{elevationClasses:d}=dr(t),{loaderClasses:h}=Sy(t),{locationStyles:f}=cu(t),{positionClasses:g}=df(t),{roundedClasses:p}=Cn(t),{sizeClasses:w,sizeStyles:y}=nl(t),b=_y(t,t.symbol,!1),v=lf(t,n),T=I(()=>{var E;return t.active!==void 0?t.active:v.isLink.value?(E=v.isActive)==null?void 0:E.value:b==null?void 0:b.isSelected.value}),S=I(()=>(b==null?void 0:b.disabled.value)||t.disabled),A=I(()=>t.variant==="elevated"&&!(t.disabled||t.flat||t.border)),C=I(()=>{if(t.value!==void 0)return Object(t.value)===t.value?JSON.stringify(t.value,null,0):t.value});return AV(v,b==null?void 0:b.select),Ee(()=>{var V,W;const E=v.isLink.value?"a":t.tag,R=!!(t.prependIcon||r.prepend),O=!!(t.appendIcon||r.append),F=!!(t.icon&&t.icon!==!0),P=(b==null?void 0:b.isSelected.value)&&(!v.isLink.value||((V=v.isActive)==null?void 0:V.value))||!b||((W=v.isActive)==null?void 0:W.value);return sn(m(E,{type:E==="a"?void 0:"button",class:["v-btn",b==null?void 0:b.selectedClass.value,{"v-btn--active":T.value,"v-btn--block":t.block,"v-btn--disabled":S.value,"v-btn--elevated":A.value,"v-btn--flat":t.flat,"v-btn--icon":!!t.icon,"v-btn--loading":t.loading,"v-btn--stacked":t.stacked},i.value,s.value,P?o.value:void 0,c.value,d.value,h.value,g.value,p.value,w.value,l.value,t.class],style:[P?a.value:void 0,u.value,f.value,y.value,t.style],disabled:S.value||void 0,href:v.href.value,onClick:ae=>{var X;S.value||((X=v.navigate)==null||X.call(v,ae),b==null||b.toggle())},value:C.value},{default:()=>{var ae;return[rl(!0,"v-btn"),!t.icon&&R&&m("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?m(Ot,{key:"prepend-defaults",disabled:!t.prependIcon,defaults:{VIcon:{icon:t.prependIcon}}},r.prepend):m(Vt,{key:"prepend-icon",icon:t.prependIcon},null)]),m("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&F?m(Vt,{key:"content-icon",icon:t.icon},null):m(Ot,{key:"content-defaults",disabled:!F,defaults:{VIcon:{icon:t.icon}}},{default:()=>{var X;return[((X=r.default)==null?void 0:X.call(r))??t.text]}})]),!t.icon&&O&&m("span",{key:"append",class:"v-btn__append"},[r.append?m(Ot,{key:"append-defaults",disabled:!t.appendIcon,defaults:{VIcon:{icon:t.appendIcon}}},r.append):m(Vt,{key:"append-icon",icon:t.appendIcon},null)]),!!t.loading&&m("span",{key:"loader",class:"v-btn__loader"},[((ae=r.loader)==null?void 0:ae.call(r))??m(TV,{color:typeof t.loading=="boolean"?void 0:t.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Wr("ripple"),!S.value&&t.ripple,null]])}),{}}}),Ty=ve()({name:"VAppBarNavIcon",props:{icon:{type:Qe,default:"$menu"},...Se()},setup(t,e){let{slots:n}=e;return Ee(()=>m(et,{class:["v-app-bar-nav-icon",t.class],icon:t.icon,style:t.style},n)),{}}});const Fa=ve()({name:"VCardActions",props:Se(),setup(t,e){let{slots:n}=e;return ei({VBtn:{variant:"text"}}),Ee(()=>{var r;return m("div",{class:["v-card-actions",t.class],style:t.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),fu=Do("v-card-subtitle"),Fo=Do("v-card-title"),RV=ve()({name:"VCardItem",props:{appendAvatar:String,appendIcon:Qe,prependAvatar:String,prependIcon:Qe,subtitle:String,title:String,...Se(),...Cr()},setup(t,e){let{slots:n}=e;return Ee(()=>{var c;const r=!!(t.prependAvatar||t.prependIcon),i=!!(r||n.prepend),s=!!(t.appendAvatar||t.appendIcon),o=!!(s||n.append),a=!!(t.title||n.title),l=!!(t.subtitle||n.subtitle);return m("div",{class:["v-card-item",t.class],style:t.style},[i&&m("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?m(Ot,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:t.density,icon:t.prependIcon,image:t.prependAvatar}}},n.prepend):r&&m(Ln,{key:"prepend-avatar",density:t.density,icon:t.prependIcon,image:t.prependAvatar},null)]),m("div",{class:"v-card-item__content"},[a&&m(Fo,{key:"title"},{default:()=>{var u;return[((u=n.title)==null?void 0:u.call(n))??t.title]}}),l&&m(fu,{key:"subtitle"},{default:()=>{var u;return[((u=n.subtitle)==null?void 0:u.call(n))??t.subtitle]}}),(c=n.default)==null?void 0:c.call(n)]),o&&m("div",{key:"append",class:"v-card-item__append"},[n.append?m(Ot,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:t.density,icon:t.appendIcon,image:t.appendAvatar}}},n.append):s&&m(Ln,{key:"append-avatar",density:t.density,icon:t.appendIcon,image:t.appendAvatar},null)])])}),{}}}),If=Do("v-card-text"),xn=ve()({name:"VCard",directives:{Ripple:au},props:{appendAvatar:String,appendIcon:Qe,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Qe,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...Ni(),...Se(),...Cr(),...Ri(),...Xn(),...Iy(),...lu(),...uf(),...yn(),...cf(),...ft(),...xt(),...Pi({variant:"elevated"})},setup(t,e){let{attrs:n,slots:r}=e;const{themeClasses:i}=Mt(t),{borderClasses:s}=Di(t),{colorClasses:o,colorStyles:a,variantClasses:l}=il(t),{densityClasses:c}=ti(t),{dimensionStyles:u}=xi(t),{elevationClasses:d}=dr(t),{loaderClasses:h}=Sy(t),{locationStyles:f}=cu(t),{positionClasses:g}=df(t),{roundedClasses:p}=Cn(t),w=lf(t,n),y=I(()=>t.link!==!1&&w.isLink.value),b=I(()=>!t.disabled&&t.link!==!1&&(t.link||w.isClickable.value));return Ee(()=>{const v=y.value?"a":t.tag,T=!!(r.title||t.title),S=!!(r.subtitle||t.subtitle),A=T||S,C=!!(r.append||t.appendAvatar||t.appendIcon),E=!!(r.prepend||t.prependAvatar||t.prependIcon),R=!!(r.image||t.image),O=A||E||C,F=!!(r.text||t.text);return sn(m(v,{class:["v-card",{"v-card--disabled":t.disabled,"v-card--flat":t.flat,"v-card--hover":t.hover&&!(t.disabled||t.flat),"v-card--link":b.value},i.value,s.value,o.value,c.value,d.value,h.value,g.value,p.value,l.value,t.class],style:[a.value,u.value,f.value,t.style],href:w.href.value,onClick:b.value&&w.navigate,tabindex:t.disabled?-1:void 0},{default:()=>{var P;return[R&&m("div",{key:"image",class:"v-card__image"},[r.image?m(Ot,{key:"image-defaults",disabled:!t.image,defaults:{VImg:{cover:!0,src:t.image}}},r.image):m(_i,{key:"image-img",cover:!0,src:t.image},null)]),m(rC,{name:"v-card",active:!!t.loading,color:typeof t.loading=="boolean"?void 0:t.loading},{default:r.loader}),O&&m(RV,{key:"item",prependAvatar:t.prependAvatar,prependIcon:t.prependIcon,title:t.title,subtitle:t.subtitle,appendAvatar:t.appendAvatar,appendIcon:t.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),F&&m(If,{key:"text"},{default:()=>{var V;return[((V=r.text)==null?void 0:V.call(r))??t.text]}}),(P=r.default)==null?void 0:P.call(r),r.actions&&m(Fa,null,{default:r.actions}),rl(b.value,"v-card")]}}),[[Wr("ripple"),b.value&&t.ripple]])}),{}}});const xV=Ae({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function PV(t,e){const n={},r=i=>()=>{if(!kt)return Promise.resolve(!0);const s=i==="openDelay";return n.closeDelay&&window.clearTimeout(n.closeDelay),delete n.closeDelay,n.openDelay&&window.clearTimeout(n.openDelay),delete n.openDelay,new Promise(o=>{const a=parseInt(t[i]??0,10);n[i]=window.setTimeout(()=>{e==null||e(s),o(s)},a)})};return{runCloseDelay:r("closeDelay"),runOpenDelay:r("openDelay")}}const NV=Symbol.for("vuetify:v-menu"),DV=Ae({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...xV()},"v-overlay-activator");function OV(t,e){let{isActive:n,isTop:r}=e;const i=z();let s=!1,o=!1,a=!0;const l=I(()=>t.openOnFocus||t.openOnFocus==null&&t.openOnHover),c=I(()=>t.openOnClick||t.openOnClick==null&&!t.openOnHover&&!l.value),{runOpenDelay:u,runCloseDelay:d}=PV(t,v=>{v===(t.openOnHover&&s||l.value&&o)&&!(t.openOnHover&&n.value&&!r.value)&&(n.value!==v&&(a=!0),n.value=v)}),h={click:v=>{v.stopPropagation(),i.value=v.currentTarget||v.target,n.value=!n.value},mouseenter:v=>{var T;(T=v.sourceCapabilities)!=null&&T.firesTouchEvents||(s=!0,i.value=v.currentTarget||v.target,u())},mouseleave:v=>{s=!1,d()},focus:v=>{gO&&!v.target.matches(":focus-visible")||(o=!0,v.stopPropagation(),i.value=v.currentTarget||v.target,u())},blur:v=>{o=!1,v.stopPropagation(),d()}},f=I(()=>{const v={};return c.value&&(v.click=h.click),t.openOnHover&&(v.mouseenter=h.mouseenter,v.mouseleave=h.mouseleave),l.value&&(v.focus=h.focus,v.blur=h.blur),v}),g=I(()=>{const v={};if(t.openOnHover&&(v.mouseenter=()=>{s=!0,u()},v.mouseleave=()=>{s=!1,d()}),t.closeOnContentClick){const T=tt(NV,null);v.click=()=>{n.value=!1,T==null||T.closeParents()}}return v}),p=I(()=>{const v={};return t.openOnHover&&(v.mouseenter=()=>{a&&(s=!0,a=!1,u())},v.mouseleave=()=>{s=!1,d()}),v});fe(r,v=>{v&&(t.openOnHover&&!s&&(!l.value||!o)||l.value&&!o&&(!t.openOnHover||!s))&&(n.value=!1)});const w=z();Ts(()=>{w.value&&Ht(()=>{const v=w.value;i.value=bO(v)?v.$el:v})});const y=vn("useActivator");let b;return fe(()=>!!t.activator,v=>{v&&kt?(b=_v(),b.run(()=>{LV(t,y,{activatorEl:i,activatorEvents:f})})):b&&b.stop()},{flush:"post",immediate:!0}),lr(()=>{b==null||b.stop()}),{activatorEl:i,activatorRef:w,activatorEvents:f,contentEvents:g,scrimEvents:p}}function LV(t,e,n){let{activatorEl:r,activatorEvents:i}=n;fe(()=>t.activator,(l,c)=>{if(c&&l!==c){const u=a(c);u&&o(u)}l&&Ht(()=>s())},{immediate:!0}),fe(()=>t.activatorProps,()=>{s()}),lr(()=>{o()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&(Object.entries(i.value).forEach(u=>{let[d,h]=u;l.addEventListener(d,h)}),Object.keys(c).forEach(u=>{c[u]==null?l.removeAttribute(u):l.setAttribute(u,c[u])}))}function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.activatorProps;l&&(Object.entries(i.value).forEach(u=>{let[d,h]=u;l.removeEventListener(d,h)}),Object.keys(c).forEach(u=>{l.removeAttribute(u)}))}function a(){var u,d;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.activator,c;if(l)if(l==="parent"){let h=(d=(u=e==null?void 0:e.proxy)==null?void 0:u.$el)==null?void 0:d.parentNode;for(;h.hasAttribute("data-no-activator");)h=h.parentNode;c=h}else typeof l=="string"?c=document.querySelector(l):"$el"in l?c=l.$el:c=l;return r.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:null,r.value}}const MV=Ae({eager:Boolean},"lazy");function FV(t,e){const n=z(!1),r=I(()=>n.value||t.eager||e.value);fe(e,()=>n.value=!0);function i(){t.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:i}}function Qm(t,e){return{x:t.x+e.x,y:t.y+e.y}}function VV(t,e){return{x:t.x-e.x,y:t.y-e.y}}function A_(t,e){if(t.side==="top"||t.side==="bottom"){const{side:n,align:r}=t,i=r==="left"?0:r==="center"?e.width/2:r==="right"?e.width:r,s=n==="top"?0:n==="bottom"?e.height:n;return Qm({x:i,y:s},e)}else if(t.side==="left"||t.side==="right"){const{side:n,align:r}=t,i=n==="left"?0:n==="right"?e.width:n,s=r==="top"?0:r==="center"?e.height/2:r==="bottom"?e.height:r;return Qm({x:i,y:s},e)}return Qm({x:e.width/2,y:e.height/2},e)}const iC={static:$V,connected:qV},BV=Ae({locationStrategy:{type:[String,Function],default:"static",validator:t=>typeof t=="function"||t in iC},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"v-overlay-location-strategies");function UV(t,e){const n=z({}),r=z();kt&&(vo(()=>!!(e.isActive.value&&t.locationStrategy),s=>{var o,a;fe(()=>t.locationStrategy,s),lr(()=>{r.value=void 0}),typeof t.locationStrategy=="function"?r.value=(o=t.locationStrategy(e,t,n))==null?void 0:o.updateLocation:r.value=(a=iC[t.locationStrategy](e,t,n))==null?void 0:a.updateLocation}),window.addEventListener("resize",i,{passive:!0}),lr(()=>{window.removeEventListener("resize",i),r.value=void 0}));function i(s){var o;(o=r.value)==null||o.call(r,s)}return{contentStyles:n,updateLocation:r}}function $V(){}function zV(t,e){const n=Gv(t);return e?n.x+=parseFloat(t.style.right||0):n.x-=parseFloat(t.style.left||0),n.y-=parseFloat(t.style.top||0),n}function qV(t,e,n){YO(t.activatorEl.value)&&Object.assign(n.value,{position:"fixed"});const{preferredAnchor:i,preferredOrigin:s}=jv(()=>{const g=Kg(e.location,t.isRtl.value),p=e.origin==="overlap"?g:e.origin==="auto"?Dm(g):Kg(e.origin,t.isRtl.value);return g.side===p.side&&g.align===Om(p).align?{preferredAnchor:T0(g),preferredOrigin:T0(p)}:{preferredAnchor:g,preferredOrigin:p}}),[o,a,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>I(()=>{const p=parseFloat(e[g]);return isNaN(p)?1/0:p})),u=I(()=>{if(Array.isArray(e.offset))return e.offset;if(typeof e.offset=="string"){const g=e.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof e.offset=="number"?[e.offset,0]:[0,0]});let d=!1;const h=new ResizeObserver(()=>{d&&f()});fe([t.activatorEl,t.contentEl],(g,p)=>{let[w,y]=g,[b,v]=p;b&&h.unobserve(b),w&&h.observe(w),v&&h.unobserve(v),y&&h.observe(y)},{immediate:!0}),lr(()=>{h.disconnect()});function f(){if(d=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>d=!0)}),!t.activatorEl.value||!t.contentEl.value)return;const g=t.activatorEl.value.getBoundingClientRect(),p=zV(t.contentEl.value,t.isRtl.value),w=Xd(t.contentEl.value),y=12;w.length||(w.push(document.documentElement),t.contentEl.value.style.top&&t.contentEl.value.style.left||(p.x+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),p.y+=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const b=w.reduce((F,P)=>{const V=P.getBoundingClientRect(),W=new pa({x:P===document.documentElement?0:V.x,y:P===document.documentElement?0:V.y,width:P.clientWidth,height:P.clientHeight});return F?new pa({x:Math.max(F.left,W.left),y:Math.max(F.top,W.top),width:Math.min(F.right,W.right)-Math.max(F.left,W.left),height:Math.min(F.bottom,W.bottom)-Math.max(F.top,W.top)}):W},void 0);b.x+=y,b.y+=y,b.width-=y*2,b.height-=y*2;let v={anchor:i.value,origin:s.value};function T(F){const P=new pa(p),V=A_(F.anchor,g),W=A_(F.origin,P);let{x:ae,y:X}=VV(V,W);switch(F.anchor.side){case"top":X-=u.value[0];break;case"bottom":X+=u.value[0];break;case"left":ae-=u.value[0];break;case"right":ae+=u.value[0];break}switch(F.anchor.align){case"top":X-=u.value[1];break;case"bottom":X+=u.value[1];break;case"left":ae-=u.value[1];break;case"right":ae+=u.value[1];break}return P.x+=ae,P.y+=X,P.width=Math.min(P.width,l.value),P.height=Math.min(P.height,c.value),{overflows:A0(P,b),x:ae,y:X}}let S=0,A=0;const C={x:0,y:0},E={x:!1,y:!1};let R=-1;for(;;){if(R++>10){Wg("Infinite loop detected in connectedLocationStrategy");break}const{x:F,y:P,overflows:V}=T(v);S+=F,A+=P,p.x+=F,p.y+=P;{const W=C0(v.anchor),ae=V.x.before||V.x.after,X=V.y.before||V.y.after;let K=!1;if(["x","y"].forEach(Z=>{if(Z==="x"&&ae&&!E.x||Z==="y"&&X&&!E.y){const ie={anchor:{...v.anchor},origin:{...v.origin}},re=Z==="x"?W==="y"?Om:Dm:W==="y"?Dm:Om;ie.anchor=re(ie.anchor),ie.origin=re(ie.origin);const{overflows:ce}=T(ie);(ce[Z].before<=V[Z].before&&ce[Z].after<=V[Z].after||ce[Z].before+ce[Z].after<(V[Z].before+V[Z].after)/2)&&(v=ie,K=E[Z]=!0)}}),K)continue}V.x.before&&(S+=V.x.before,p.x+=V.x.before),V.x.after&&(S-=V.x.after,p.x-=V.x.after),V.y.before&&(A+=V.y.before,p.y+=V.y.before),V.y.after&&(A-=V.y.after,p.y-=V.y.after);{const W=A0(p,b);C.x=b.width-W.x.before-W.x.after,C.y=b.height-W.y.before-W.y.after,S+=W.x.before,p.x+=W.x.before,A+=W.y.before,p.y+=W.y.before}break}const O=C0(v.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${v.anchor.side} ${v.anchor.align}`,transformOrigin:`${v.origin.side} ${v.origin.align}`,top:de(Xm(A)),left:t.isRtl.value?void 0:de(Xm(S)),right:t.isRtl.value?de(Xm(-S)):void 0,minWidth:de(O==="y"?Math.min(o.value,g.width):o.value),maxWidth:de(k_(gr(C.x,o.value===1/0?0:o.value,l.value))),maxHeight:de(k_(gr(C.y,a.value===1/0?0:a.value,c.value)))}),{available:C,contentBox:p}}return fe(()=>[i.value,s.value,e.offset,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight],()=>f()),Ht(()=>{const g=f();if(!g)return;const{available:p,contentBox:w}=g;w.height>p.y&&requestAnimationFrame(()=>{f(),requestAnimationFrame(()=>{f()})})}),{updateLocation:f}}function Xm(t){return Math.round(t*devicePixelRatio)/devicePixelRatio}function k_(t){return Math.ceil(t*devicePixelRatio)/devicePixelRatio}let hp=!0;const ah=[];function jV(t){!hp||ah.length?(ah.push(t),fp()):(hp=!1,t(),fp())}let R_=-1;function fp(){cancelAnimationFrame(R_),R_=requestAnimationFrame(()=>{const t=ah.shift();t&&t(),ah.length?fp():hp=!0})}const xd={none:null,close:GV,block:WV,reposition:YV},HV=Ae({scrollStrategy:{type:[String,Function],default:"block",validator:t=>typeof t=="function"||t in xd}},"v-overlay-scroll-strategies");function KV(t,e){if(!kt)return;let n;Ts(async()=>{n==null||n.stop(),e.isActive.value&&t.scrollStrategy&&(n=_v(),await Ht(),n.active&&n.run(()=>{var r;typeof t.scrollStrategy=="function"?t.scrollStrategy(e,t,n):(r=xd[t.scrollStrategy])==null||r.call(xd,e,t,n)}))}),lr(()=>{n==null||n.stop()})}function GV(t){function e(n){t.isActive.value=!1}sC(t.activatorEl.value??t.contentEl.value,e)}function WV(t,e){var o;const n=(o=t.root.value)==null?void 0:o.offsetParent,r=[...new Set([...Xd(t.activatorEl.value,e.contained?n:void 0),...Xd(t.contentEl.value,e.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,s=(a=>Xv(a)&&a)(n||document.documentElement);s&&t.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",de(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",de(-a.scrollTop)),a.style.setProperty("--v-scrollbar-offset",de(i)),a.classList.add("v-overlay-scroll-blocked")}),lr(()=>{r.forEach((a,l)=>{const c=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),u=parseFloat(a.style.getPropertyValue("--v-body-scroll-y"));a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-c,a.scrollTop=-u}),s&&t.root.value.classList.remove("v-overlay--scroll-blocked")})}function YV(t,e,n){let r=!1,i=-1,s=-1;function o(a){jV(()=>{var u,d;const l=performance.now();(d=(u=t.updateLocation).value)==null||d.call(u,a),r=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{sC(t.activatorEl.value??t.contentEl.value,a=>{r?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{o(a)})})):o(a)})})}),lr(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(i)})}function sC(t,e){const n=[document,...Xd(t)];n.forEach(r=>{r.addEventListener("scroll",e,{passive:!0})}),lr(()=>{n.forEach(r=>{r.removeEventListener("scroll",e)})})}const Sf=["sm","md","lg","xl","xxl"],mp=Symbol.for("vuetify:display"),x_={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},QV=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x_;return bi(x_,t)};function P_(t){return kt&&!t?window.innerWidth:0}function N_(t){return kt&&!t?window.innerHeight:0}function D_(t){const e=kt&&!t?window.navigator.userAgent:"ssr";function n(g){return!!e.match(g)}const r=n(/android/i),i=n(/iphone|ipad|ipod/i),s=n(/cordova/i),o=n(/electron/i),a=n(/chrome/i),l=n(/edge/i),c=n(/firefox/i),u=n(/opera/i),d=n(/win/i),h=n(/mac/i),f=n(/linux/i);return{android:r,ios:i,cordova:s,electron:o,chrome:a,edge:l,firefox:c,opera:u,win:d,mac:h,linux:f,touch:mO,ssr:e==="ssr"}}function XV(t,e){const{thresholds:n,mobileBreakpoint:r}=QV(t),i=z(N_(e)),s=Rv(D_(e)),o=tn({}),a=z(P_(e));function l(){i.value=N_(),a.value=P_()}function c(){l(),s.value=D_()}return Ts(()=>{const u=a.value<n.sm,d=a.value<n.md&&!u,h=a.value<n.lg&&!(d||u),f=a.value<n.xl&&!(h||d||u),g=a.value<n.xxl&&!(f||h||d||u),p=a.value>=n.xxl,w=u?"xs":d?"sm":h?"md":f?"lg":g?"xl":"xxl",y=typeof r=="number"?r:n[r],b=a.value<y;o.xs=u,o.sm=d,o.md=h,o.lg=f,o.xl=g,o.xxl=p,o.smAndUp=!u,o.mdAndUp=!(u||d),o.lgAndUp=!(u||d||h),o.xlAndUp=!(u||d||h||f),o.smAndDown=!(h||f||g||p),o.mdAndDown=!(f||g||p),o.lgAndDown=!(g||p),o.xlAndDown=!p,o.name=w,o.height=i.value,o.width=a.value,o.mobile=b,o.mobileBreakpoint=r,o.platform=s.value,o.thresholds=n}),kt&&window.addEventListener("resize",l,{passive:!0}),{...xv(o),update:c,ssr:!!e}}function Cy(){const t=tt(mp);if(!t)throw new Error("Could not find Vuetify display injection");return t}function JV(){if(!kt)return z(!1);const{ssr:t}=Cy();if(t){const e=z(!1);return Yn(()=>{e.value=!0}),e}else return z(!0)}function oC(){const e=vn("useScopeId").vnode.scopeId;return{scopeId:e?{[e]:""}:void 0}}const O_=Symbol.for("vuetify:stack"),Rl=tn([]);function ZV(t,e,n){const r=vn("useStack"),i=!n,s=tt(O_,void 0),o=tn({activeChildren:new Set});rn(O_,o);const a=z(+e.value);vo(t,()=>{var d;const u=(d=Rl.at(-1))==null?void 0:d[1];a.value=u?u+10:+e.value,i&&Rl.push([r.uid,a.value]),s==null||s.activeChildren.add(r.uid),lr(()=>{if(i){const h=De(Rl).findIndex(f=>f[0]===r.uid);Rl.splice(h,1)}s==null||s.activeChildren.delete(r.uid)})});const l=z(!0);i&&Ts(()=>{var d;const u=((d=Rl.at(-1))==null?void 0:d[0])===r.uid;setTimeout(()=>l.value=u)});const c=I(()=>!o.activeChildren.size);return{globalTop:iu(l),localTop:c,stackStyles:I(()=>({zIndex:a.value}))}}function eB(t){return{teleportTarget:I(()=>{const n=t.value;if(n===!0||!kt)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let i=r.querySelector(":scope > .v-overlay-container");return i||(i=document.createElement("div"),i.className="v-overlay-container",r.appendChild(i)),i})}}function tB(){return!0}function aC(t,e,n){if(!t||lC(t,n)===!1)return!1;const r=S1(e);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===t.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(e),!i.some(s=>s==null?void 0:s.contains(t.target))}function lC(t,e){return(typeof e.value=="object"&&e.value.closeConditional||tB)(t)}function nB(t,e,n){const r=typeof n.value=="function"?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&aC(t,e,n)&&setTimeout(()=>{lC(t,n)&&r&&r(t)},0)}function L_(t,e){const n=S1(t);e(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&e(n)}const rB={mounted(t,e){const n=i=>nB(i,t,e),r=i=>{t._clickOutside.lastMousedownWasOutside=aC(i,t,e)};L_(t,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",r,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[e.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(t,e){t._clickOutside&&(L_(t,n=>{var s;if(!n||!((s=t._clickOutside)!=null&&s[e.instance.$.uid]))return;const{onClick:r,onMousedown:i}=t._clickOutside[e.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",i,!0)}),delete t._clickOutside[e.instance.$.uid])}};function iB(t){const{modelValue:e,color:n,...r}=t;return m(Yr,{name:"fade-transition",appear:!0},{default:()=>[t.modelValue&&m("div",Ke({class:["v-overlay__scrim",t.color.backgroundColorClasses.value],style:t.color.backgroundColorStyles.value},r),null)]})}const cC=Ae({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[String,Boolean],default:!0},zIndex:{type:[Number,String],default:2e3},...DV(),...Se(),...Ri(),...MV(),...BV(),...HV(),...xt(),...af()},"v-overlay"),M_=ve()({name:"VOverlay",directives:{ClickOutside:rB},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...cC()},emits:{"click:outside":t=>!0,"update:modelValue":t=>!0,afterLeave:()=>!0},setup(t,e){let{slots:n,attrs:r,emit:i}=e;const s=Lt(t,"modelValue"),o=I({get:()=>s.value,set:ie=>{ie&&t.disabled||(s.value=ie)}}),{teleportTarget:a}=eB(I(()=>t.attach||t.contained)),{themeClasses:l}=Mt(t),{rtlClasses:c,isRtl:u}=Oo(),{hasContent:d,onAfterLeave:h}=FV(t,o),f=Kn(I(()=>typeof t.scrim=="string"?t.scrim:null)),{globalTop:g,localTop:p,stackStyles:w}=ZV(o,_e(t,"zIndex"),t._disableGlobalStack),{activatorEl:y,activatorRef:b,activatorEvents:v,contentEvents:T,scrimEvents:S}=OV(t,{isActive:o,isTop:p}),{dimensionStyles:A}=xi(t),C=JV(),{scopeId:E}=oC();fe(()=>t.disabled,ie=>{ie&&(o.value=!1)});const R=z(),O=z(),{contentStyles:F,updateLocation:P}=UV(t,{isRtl:u,contentEl:O,activatorEl:y,isActive:o});KV(t,{root:R,contentEl:O,activatorEl:y,isActive:o,updateLocation:P});function V(ie){i("click:outside",ie),t.persistent?Z():o.value=!1}function W(){return o.value&&g.value}kt&&fe(o,ie=>{ie?window.addEventListener("keydown",ae):window.removeEventListener("keydown",ae)},{immediate:!0});function ae(ie){ie.key==="Escape"&&g.value&&(t.persistent?Z():o.value=!1)}const X=hT();vo(()=>t.closeOnBack,()=>{QM(X,ie=>{g.value&&o.value?(ie(!1),t.persistent?Z():o.value=!1):ie()})});const K=z();fe(()=>o.value&&(t.absolute||t.contained)&&a.value==null,ie=>{if(ie){const re=GO(R.value);re&&re!==document.scrollingElement&&(K.value=re.scrollTop)}});function Z(){t.noClickAnimation||O.value&&la(O.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Qd})}return Ee(()=>{var ie;return m(Me,null,[(ie=n.activator)==null?void 0:ie.call(n,{isActive:o.value,props:Ke({ref:b},Am(v.value),t.activatorProps)}),C.value&&m(_D,{disabled:!a.value,to:a.value},{default:()=>[d.value&&m("div",Ke({class:["v-overlay",{"v-overlay--absolute":t.absolute||t.contained,"v-overlay--active":o.value,"v-overlay--contained":t.contained},l.value,c.value,t.class],style:[w.value,{top:de(K.value)},t.style],ref:R},E,r),[m(iB,Ke({color:f,modelValue:o.value&&!!t.scrim},Am(S.value)),null),m(ts,{appear:!0,persisted:!0,transition:t.transition,target:y.value,onAfterLeave:()=>{h(),i("afterLeave")}},{default:()=>{var re;return[sn(m("div",Ke({ref:O,class:["v-overlay__content",t.contentClass],style:[A.value,F.value]},Am(T.value),t.contentProps),[(re=n.default)==null?void 0:re.call(n,{isActive:o})]),[[No,o.value],[Wr("click-outside"),{handler:V,closeConditional:W,include:()=>[y.value]}]])]}})])]})])}),{activatorEl:y,animateClick:Z,contentEl:O,globalTop:g,localTop:p,updateLocation:P}}}),Jm=Symbol("Forwarded refs");function Zm(t,e){let n=t;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function mu(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t[Jm]=n,new Proxy(t,{get(i,s){if(Reflect.has(i,s))return Reflect.get(i,s);if(!(typeof s=="symbol"||s.startsWith("__"))){for(const o of n)if(o.value&&Reflect.has(o.value,s)){const a=Reflect.get(o.value,s);return typeof a=="function"?a.bind(o.value):a}}},has(i,s){if(Reflect.has(i,s))return!0;if(typeof s=="symbol"||s.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,s))return!0;return!1},getOwnPropertyDescriptor(i,s){var a;const o=Reflect.getOwnPropertyDescriptor(i,s);if(o)return o;if(!(typeof s=="symbol"||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=Zm(l.value,s)??("_"in l.value?Zm((a=l.value._)==null?void 0:a.setupState,s):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[Jm];if(!c)continue;const u=c.slice();for(;u.length;){const d=u.shift(),h=Zm(d.value,s);if(h)return h;const f=d.value&&d.value[Jm];f&&u.push(...f)}}}}})}const va=ve()({name:"VDialog",props:{fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...cC({origin:"center center",scrollStrategy:"block",transition:{component:OM},zIndex:2400})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const r=Lt(t,"modelValue"),{scopeId:i}=oC(),s=z();function o(l){var d,h;const c=l.relatedTarget,u=l.target;if(c!==u&&((d=s.value)!=null&&d.contentEl)&&((h=s.value)!=null&&h.globalTop)&&![document,s.value.contentEl].includes(u)&&!s.value.contentEl.contains(u)){const f=Kv(s.value.contentEl);if(!f.length)return;const g=f[0],p=f[f.length-1];c===g?p.focus():g.focus()}}kt&&fe(()=>r.value&&t.retainFocus,l=>{l?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0}),fe(r,async l=>{var c,u;await Ht(),l?(c=s.value.contentEl)==null||c.focus({preventScroll:!0}):(u=s.value.activatorEl)==null||u.focus({preventScroll:!0})});const a=I(()=>Ke({"aria-haspopup":"dialog","aria-expanded":String(r.value)},t.activatorProps));return Ee(()=>{const[l]=M_.filterProps(t);return m(M_,Ke({ref:s,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},l,{modelValue:r.value,"onUpdate:modelValue":c=>r.value=c,"aria-modal":"true",activatorProps:a.value,role:"dialog"},i),{activator:n.activator,default:function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return m(Ot,{root:!0},{default:()=>{var h;return[(h=n.default)==null?void 0:h.call(n,...u)]}})}})}),mu({},s)}});const ds=ve()({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...Se(),...ft()},setup(t,e){let{slots:n}=e;return Ee(()=>m(t.tag,{class:["v-container",{"v-container--fluid":t.fluid},t.class],style:t.style},n)),{}}}),uC=(()=>Sf.reduce((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t),{}))(),dC=(()=>Sf.reduce((t,e)=>{const n="offset"+Ci(e);return t[n]={type:[String,Number],default:null},t},{}))(),hC=(()=>Sf.reduce((t,e)=>{const n="order"+Ci(e);return t[n]={type:[String,Number],default:null},t},{}))(),F_={col:Object.keys(uC),offset:Object.keys(dC),order:Object.keys(hC)};function sB(t,e,n){let r=t;if(!(n==null||n===!1)){if(e){const i=e.replace(t,"");r+=`-${i}`}return t==="col"&&(r="v-"+r),t==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const oB=["auto","start","end","center","baseline","stretch"],rt=ve()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...uC,offset:{type:[String,Number],default:null},...dC,order:{type:[String,Number],default:null},...hC,alignSelf:{type:String,default:null,validator:t=>oB.includes(t)},...Se(),...ft()},setup(t,e){let{slots:n}=e;const r=I(()=>{const i=[];let s;for(s in F_)F_[s].forEach(a=>{const l=t[a],c=sB(s,a,l);c&&i.push(c)});const o=i.some(a=>a.startsWith("v-col-"));return i.push({"v-col":!o||!t.cols,[`v-col-${t.cols}`]:t.cols,[`offset-${t.offset}`]:t.offset,[`order-${t.order}`]:t.order,[`align-self-${t.alignSelf}`]:t.alignSelf}),i});return()=>{var i;return Sr(t.tag,{class:[r.value,t.class],style:t.style},(i=n.default)==null?void 0:i.call(n))}}}),Ay=["start","end","center"],fC=["space-between","space-around","space-evenly"];function ky(t,e){return Sf.reduce((n,r)=>{const i=t+Ci(r);return n[i]=e(),n},{})}const aB=[...Ay,"baseline","stretch"],mC=t=>aB.includes(t),gC=ky("align",()=>({type:String,default:null,validator:mC})),lB=[...Ay,...fC],pC=t=>lB.includes(t),vC=ky("justify",()=>({type:String,default:null,validator:pC})),cB=[...Ay,...fC,"stretch"],yC=t=>cB.includes(t),wC=ky("alignContent",()=>({type:String,default:null,validator:yC})),V_={align:Object.keys(gC),justify:Object.keys(vC),alignContent:Object.keys(wC)},uB={align:"align",justify:"justify",alignContent:"align-content"};function dB(t,e,n){let r=uB[t];if(n!=null){if(e){const i=e.replace(t,"");r+=`-${i}`}return r+=`-${n}`,r.toLowerCase()}}const tr=ve()({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:mC},...gC,justify:{type:String,default:null,validator:pC},...vC,alignContent:{type:String,default:null,validator:yC},...wC,...Se(),...ft()},setup(t,e){let{slots:n}=e;const r=I(()=>{const i=[];let s;for(s in V_)V_[s].forEach(o=>{const a=t[o],l=dB(s,o,a);l&&i.push(l)});return i.push({"v-row--no-gutters":t.noGutters,"v-row--dense":t.dense,[`align-${t.align}`]:t.align,[`justify-${t.justify}`]:t.justify,[`align-content-${t.alignContent}`]:t.alignContent}),i});return()=>{var i;return Sr(t.tag,{class:["v-row",r.value,t.class],style:t.style},(i=n.default)==null?void 0:i.call(n))}}}),bC=Do("flex-grow-1","div","VSpacer");function hB(t){let{rootEl:e,isSticky:n,layoutItemStyles:r}=t;const i=z(!1),s=z(0),o=I(()=>{const c=typeof i.value=="boolean"?"top":i.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[c]:de(s.value)}:{top:r.value.top}]});Yn(()=>{fe(n,c=>{c?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Fn(()=>{document.removeEventListener("scroll",l)});let a=0;function l(){const c=a>window.scrollY?"up":"down",u=e.value.getBoundingClientRect(),d=parseFloat(r.value.top??0),h=window.scrollY-Math.max(0,s.value-d),f=u.height+Math.max(s.value,d)-window.scrollY-window.innerHeight;u.height<window.innerHeight-d?(i.value="top",s.value=d):c==="up"&&i.value==="bottom"||c==="down"&&i.value==="top"?(s.value=window.scrollY+u.top,i.value=!0):c==="down"&&f<=0?(s.value=0,i.value="bottom"):c==="up"&&h<=0&&(s.value=u.top+h,i.value="top"),a=window.scrollY}return{isStuck:i,stickyStyles:o}}const fB=100,mB=20;function B_(t){const e=1.41421356237;return(t<0?-1:1)*Math.sqrt(Math.abs(t))*e}function U_(t){if(t.length<2)return 0;if(t.length===2)return t[1].t===t[0].t?0:(t[1].d-t[0].d)/(t[1].t-t[0].t);let e=0;for(let n=t.length-1;n>0;n--){if(t[n].t===t[n-1].t)continue;const r=B_(e),i=(t[n].d-t[n-1].d)/(t[n].t-t[n-1].t);e+=(i-r)*Math.abs(i),n===t.length-1&&(e*=.5)}return B_(e)*1e3}function gB(){const t={};function e(i){Array.from(i.changedTouches).forEach(s=>{(t[s.identifier]??(t[s.identifier]=new SO(mB))).push([i.timeStamp,s])})}function n(i){Array.from(i.changedTouches).forEach(s=>{delete t[s.identifier]})}function r(i){var c;const s=(c=t[i])==null?void 0:c.values().reverse();if(!s)throw new Error(`No samples for touch id ${i}`);const o=s[0],a=[],l=[];for(const u of s){if(o[0]-u[0]>fB)break;a.push({t:u[0],d:u[1].clientX}),l.push({t:u[0],d:u[1].clientY})}return{x:U_(a),y:U_(l),get direction(){const{x:u,y:d}=this,[h,f]=[Math.abs(u),Math.abs(d)];return h>f&&u>=0?"right":h>f&&u<=0?"left":f>h&&d>=0?"down":f>h&&d<=0?"up":pB()}}}return{addMovement:e,endTouch:n,getVelocity:r}}function pB(){throw new Error}function vB(t){let{isActive:e,isTemporary:n,width:r,touchless:i,position:s}=t;Yn(()=>{window.addEventListener("touchstart",y,{passive:!0}),window.addEventListener("touchmove",b,{passive:!1}),window.addEventListener("touchend",v,{passive:!0})}),Fn(()=>{window.removeEventListener("touchstart",y),window.removeEventListener("touchmove",b),window.removeEventListener("touchend",v)});const o=I(()=>["left","right"].includes(s.value)),{addMovement:a,endTouch:l,getVelocity:c}=gB();let u=!1;const d=z(!1),h=z(0),f=z(0);let g;function p(S,A){return(s.value==="left"?S:s.value==="right"?document.documentElement.clientWidth-S:s.value==="top"?S:s.value==="bottom"?document.documentElement.clientHeight-S:Qo())-(A?r.value:0)}function w(S){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const C=s.value==="left"?(S-f.value)/r.value:s.value==="right"?(document.documentElement.clientWidth-S-f.value)/r.value:s.value==="top"?(S-f.value)/r.value:s.value==="bottom"?(document.documentElement.clientHeight-S-f.value)/r.value:Qo();return A?Math.max(0,Math.min(1,C)):C}function y(S){if(i.value)return;const A=S.changedTouches[0].clientX,C=S.changedTouches[0].clientY,E=25,R=s.value==="left"?A<E:s.value==="right"?A>document.documentElement.clientWidth-E:s.value==="top"?C<E:s.value==="bottom"?C>document.documentElement.clientHeight-E:Qo(),O=e.value&&(s.value==="left"?A<r.value:s.value==="right"?A>document.documentElement.clientWidth-r.value:s.value==="top"?C<r.value:s.value==="bottom"?C>document.documentElement.clientHeight-r.value:Qo());(R||O||e.value&&n.value)&&(u=!0,g=[A,C],f.value=p(o.value?A:C,e.value),h.value=w(o.value?A:C),l(S),a(S))}function b(S){const A=S.changedTouches[0].clientX,C=S.changedTouches[0].clientY;if(u){if(!S.cancelable){u=!1;return}const R=Math.abs(A-g[0]),O=Math.abs(C-g[1]);(o.value?R>O&&R>3:O>R&&O>3)?(d.value=!0,u=!1):(o.value?O:R)>3&&(u=!1)}if(!d.value)return;S.preventDefault(),a(S);const E=w(o.value?A:C,!1);h.value=Math.max(0,Math.min(1,E)),E>1?f.value=p(o.value?A:C,!0):E<0&&(f.value=p(o.value?A:C,!1))}function v(S){if(u=!1,!d.value)return;a(S),d.value=!1;const A=c(S.changedTouches[0].identifier),C=Math.abs(A.x),E=Math.abs(A.y);(o.value?C>E&&C>400:E>C&&E>3)?e.value=A.direction===({left:"right",right:"left",top:"down",bottom:"up"}[s.value]||Qo()):e.value=h.value>.5}const T=I(()=>d.value?{transform:s.value==="left"?`translateX(calc(-100% + ${h.value*r.value}px))`:s.value==="right"?`translateX(calc(100% - ${h.value*r.value}px))`:s.value==="top"?`translateY(calc(-100% + ${h.value*r.value}px))`:s.value==="bottom"?`translateY(calc(100% - ${h.value*r.value}px))`:Qo(),transition:"none"}:void 0);return{isDragging:d,dragProgress:h,dragStyles:T}}function Qo(){throw new Error}const yB=["start","end","left","right","top","bottom"],Ry=ve()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:t=>yB.includes(t)},sticky:Boolean,...Ni(),...Se(),...Xn(),...A1(),...yn(),...ft({tag:"nav"}),...xt()},emits:{"update:modelValue":t=>!0,"update:rail":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const{isRtl:s}=Oo(),{themeClasses:o}=Mt(t),{borderClasses:a}=Di(t),{backgroundColorClasses:l,backgroundColorStyles:c}=Kn(_e(t,"color")),{elevationClasses:u}=dr(t),{mobile:d}=Cy(),{roundedClasses:h}=Cn(t),f=hT(),g=Lt(t,"modelValue",null,ie=>!!ie),{ssrBootStyles:p}=rf(),w=z(),y=z(!1),b=I(()=>t.rail&&t.expandOnHover&&y.value?Number(t.width):Number(t.rail?t.railWidth:t.width)),v=I(()=>Gg(t.location,s.value)),T=I(()=>!t.permanent&&(d.value||t.temporary)),S=I(()=>t.sticky&&!T.value&&v.value!=="bottom");t.expandOnHover&&t.rail!=null&&fe(y,ie=>r("update:rail",!ie)),t.disableResizeWatcher||fe(T,ie=>!t.permanent&&Ht(()=>g.value=!ie)),!t.disableRouteWatcher&&f&&fe(f.currentRoute,()=>T.value&&(g.value=!1)),fe(()=>t.permanent,ie=>{ie&&(g.value=!0)}),Yh(()=>{t.modelValue!=null||T.value||(g.value=t.permanent||!d.value)});const{isDragging:A,dragProgress:C,dragStyles:E}=vB({isActive:g,isTemporary:T,width:b,touchless:_e(t,"touchless"),position:v}),R=I(()=>{const ie=T.value?0:t.rail&&t.expandOnHover?Number(t.railWidth):b.value;return A.value?ie*C.value:ie}),{layoutItemStyles:O,layoutRect:F,layoutItemScrimStyles:P}=k1({id:t.name,order:I(()=>parseInt(t.order,10)),position:v,layoutSize:R,elementSize:b,active:I(()=>g.value||A.value),disableTransitions:I(()=>A.value),absolute:I(()=>t.absolute||S.value&&typeof V.value!="string")}),{isStuck:V,stickyStyles:W}=hB({rootEl:w,isSticky:S,layoutItemStyles:O}),ae=Kn(I(()=>typeof t.scrim=="string"?t.scrim:null)),X=I(()=>({...A.value?{opacity:C.value*.2,transition:"none"}:void 0,...F.value?{left:de(F.value.left),right:de(F.value.right),top:de(F.value.top),bottom:de(F.value.bottom)}:void 0,...P.value}));ei({VList:{bgColor:"transparent"}});function K(){y.value=!0}function Z(){y.value=!1}return Ee(()=>{const ie=i.image||t.image;return m(Me,null,[m(t.tag,Ke({ref:w,onMouseenter:K,onMouseleave:Z,class:["v-navigation-drawer",`v-navigation-drawer--${v.value}`,{"v-navigation-drawer--expand-on-hover":t.expandOnHover,"v-navigation-drawer--floating":t.floating,"v-navigation-drawer--is-hovering":y.value,"v-navigation-drawer--rail":t.rail,"v-navigation-drawer--temporary":T.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":S.value},o.value,l.value,a.value,u.value,h.value,t.class],style:[c.value,O.value,E.value,p.value,W.value,t.style]},n),{default:()=>{var re,ce,Ie,We;return[ie&&m("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?(re=i.image)==null?void 0:re.call(i,{image:t.image}):m("img",{src:t.image,alt:""},null)]),i.prepend&&m("div",{class:"v-navigation-drawer__prepend"},[(ce=i.prepend)==null?void 0:ce.call(i)]),m("div",{class:"v-navigation-drawer__content"},[(Ie=i.default)==null?void 0:Ie.call(i)]),i.append&&m("div",{class:"v-navigation-drawer__append"},[(We=i.append)==null?void 0:We.call(i)])]}}),m(Yr,{name:"fade-transition"},{default:()=>[T.value&&(A.value||g.value)&&!!t.scrim&&m("div",{class:["v-navigation-drawer__scrim",ae.backgroundColorClasses.value],style:[X.value,ae.backgroundColorStyles.value],onClick:()=>g.value=!1},null)]})])}),{isStuck:V}}});function _C(t){const{t:e}=nf();function n(r){let{name:i}=r;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[i],o=t[`onClick:${i}`],a=o&&s?e(`$vuetify.input.${s}`,t.label??""):void 0;return m(Vt,{icon:t[`${i}Icon`],"aria-label":a,onClick:o},null)}return{InputIcon:n}}const EC=ve()({name:"VLabel",props:{text:String,clickable:Boolean,...Se(),...xt()},setup(t,e){let{slots:n}=e;return Ee(()=>{var r;return m("label",{class:["v-label",{"v-label--clickable":t.clickable},t.class],style:t.style},[t.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),rd=ve()({name:"VFieldLabel",props:{floating:Boolean,...Se()},setup(t,e){let{slots:n}=e;return Ee(()=>m(EC,{class:["v-field-label",{"v-field-label--floating":t.floating},t.class],style:t.style,"aria-hidden":t.floating||void 0},n)),{}}}),xy=Ae({focused:Boolean,"onUpdate:focused":qr()},"focus");function gu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki();const n=Lt(t,"focused"),r=I(()=>({[`${e}--focused`]:n.value}));function i(){n.value=!0}function s(){n.value=!1}return{focusClasses:r,isFocused:n,focus:i,blur:s}}const wB=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Tf=Ae({appendInnerIcon:Qe,bgColor:String,clearable:Boolean,clearIcon:{type:Qe,default:"$clear"},active:Boolean,color:String,baseColor:String,dirty:Boolean,disabled:Boolean,error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Qe,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:t=>wB.includes(t)},"onClick:clear":qr(),"onClick:appendInner":qr(),"onClick:prependInner":qr(),...Se(),...Iy(),...yn(),...xt()},"v-field"),Cf=ve()({name:"VField",inheritAttrs:!1,props:{id:String,...xy(),...Tf()},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const{themeClasses:s}=Mt(t),{loaderClasses:o}=Sy(t),{focusClasses:a,isFocused:l,focus:c,blur:u}=gu(t),{InputIcon:d}=_C(t),{roundedClasses:h}=Cn(t),f=I(()=>t.dirty||t.active),g=I(()=>!t.singleLine&&!!(t.label||i.label)),p=Cs(),w=I(()=>t.id||`input-${p}`),y=I(()=>`${w.value}-messages`),b=z(),v=z(),T=z(),{backgroundColorClasses:S,backgroundColorStyles:A}=Kn(_e(t,"bgColor")),{textColorClasses:C,textColorStyles:E}=Qr(I(()=>t.error||t.disabled?void 0:f.value&&l.value?t.color:t.baseColor));fe(f,F=>{if(g.value){const P=b.value.$el,V=v.value.$el;requestAnimationFrame(()=>{const W=Gv(P),ae=V.getBoundingClientRect(),X=ae.x-W.x,K=ae.y-W.y-(W.height/2-ae.height/2),Z=ae.width/.75,ie=Math.abs(Z-W.width)>1?{maxWidth:de(Z)}:void 0,re=getComputedStyle(P),ce=getComputedStyle(V),Ie=parseFloat(re.transitionDuration)*1e3||150,We=parseFloat(ce.getPropertyValue("--v-field-label-scale")),nt=ce.getPropertyValue("color");P.style.visibility="visible",V.style.visibility="hidden",la(P,{transform:`translate(${X}px, ${K}px) scale(${We})`,color:nt,...ie},{duration:Ie,easing:Qd,direction:F?"normal":"reverse"}).finished.then(()=>{P.style.removeProperty("visibility"),V.style.removeProperty("visibility")})})}},{flush:"post"});const R=I(()=>({isActive:f,isFocused:l,controlRef:T,blur:u,focus:c}));function O(F){F.target!==document.activeElement&&F.preventDefault()}return Ee(()=>{var X,K,Z;const F=t.variant==="outlined",P=i["prepend-inner"]||t.prependInnerIcon,V=!!(t.clearable||i.clear),W=!!(i["append-inner"]||t.appendInnerIcon||V),ae=i.label?i.label({label:t.label,props:{for:w.value}}):t.label;return m("div",Ke({class:["v-field",{"v-field--active":f.value,"v-field--appended":W,"v-field--disabled":t.disabled,"v-field--dirty":t.dirty,"v-field--error":t.error,"v-field--flat":t.flat,"v-field--has-background":!!t.bgColor,"v-field--persistent-clear":t.persistentClear,"v-field--prepended":P,"v-field--reverse":t.reverse,"v-field--single-line":t.singleLine,"v-field--no-label":!ae,[`v-field--variant-${t.variant}`]:!0},s.value,S.value,a.value,o.value,h.value,t.class],style:[A.value,E.value,t.style],onClick:O},n),[m("div",{class:"v-field__overlay"},null),m(rC,{name:"v-field",active:!!t.loading,color:t.error?"error":t.color},{default:i.loader}),P&&m("div",{key:"prepend",class:"v-field__prepend-inner"},[t.prependInnerIcon&&m(d,{key:"prepend-icon",name:"prependInner"},null),(X=i["prepend-inner"])==null?void 0:X.call(i,R.value)]),m("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(t.variant)&&g.value&&m(rd,{key:"floating-label",ref:v,class:[C.value],floating:!0,for:w.value},{default:()=>[ae]}),m(rd,{ref:b,for:w.value},{default:()=>[ae]}),(K=i.default)==null?void 0:K.call(i,{...R.value,props:{id:w.value,class:"v-field__input","aria-describedby":y.value},focus:c,blur:u})]),V&&m(Q1,{key:"clear"},{default:()=>[sn(m("div",{class:"v-field__clearable",onMousedown:ie=>{ie.preventDefault(),ie.stopPropagation()}},[i.clear?i.clear():m(d,{name:"clear"},null)]),[[No,t.dirty]])]}),W&&m("div",{key:"append",class:"v-field__append-inner"},[(Z=i["append-inner"])==null?void 0:Z.call(i,R.value),t.appendInnerIcon&&m(d,{key:"append-icon",name:"appendInner"},null)]),m("div",{class:["v-field__outline",C.value]},[F&&m(Me,null,[m("div",{class:"v-field__outline__start"},null),g.value&&m("div",{class:"v-field__outline__notch"},[m(rd,{ref:v,floating:!0,for:w.value},{default:()=>[ae]})]),m("div",{class:"v-field__outline__end"},null)]),["plain","underlined"].includes(t.variant)&&g.value&&m(rd,{ref:v,floating:!0,for:w.value},{default:()=>[ae]})])])}),{controlRef:T}}});function Py(t){const e=Object.keys(Cf.props).filter(n=>!AO(n)&&n!=="class"&&n!=="style");return ef(t,e)}const bB=ve()({name:"VMessages",props:{active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Se(),...af({transition:{component:Y1,leaveAbsolute:!0,group:!0}})},setup(t,e){let{slots:n}=e;const r=I(()=>ga(t.messages)),{textColorClasses:i,textColorStyles:s}=Qr(I(()=>t.color));return Ee(()=>m(ts,{transition:t.transition,tag:"div",class:["v-messages",i.value,t.class],style:[s.value,t.style],role:"alert","aria-live":"polite"},{default:()=>[t.active&&r.value.map((o,a)=>m("div",{class:"v-messages__message",key:`${a}-${r.value}`},[n.message?n.message({message:o}):o]))]})),{}}}),IC=Symbol.for("vuetify:form"),_B=Ae({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function EB(t){const e=Lt(t,"modelValue"),n=I(()=>t.disabled),r=I(()=>t.readonly),i=z(!1),s=z([]),o=z([]);async function a(){const u=[];let d=!0;o.value=[],i.value=!0;for(const h of s.value){const f=await h.validate();if(f.length>0&&(d=!1,u.push({id:h.id,errorMessages:f})),!d&&t.fastFail)break}return o.value=u,i.value=!1,{valid:d,errors:o.value}}function l(){s.value.forEach(u=>u.reset()),e.value=null}function c(){s.value.forEach(u=>u.resetValidation()),o.value=[],e.value=null}return fe(s,()=>{let u=0,d=0;const h=[];for(const f of s.value)f.isValid===!1?(d++,h.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&u++;o.value=h,e.value=d>0?!1:u===s.value.length?!0:null},{deep:!0}),rn(IC,{register:u=>{let{id:d,validate:h,reset:f,resetValidation:g}=u;s.value.some(p=>p.id===d)&&ls(`Duplicate input name "${d}"`),s.value.push({id:d,validate:h,reset:f,resetValidation:g,isValid:null,errorMessages:[]})},unregister:u=>{s.value=s.value.filter(d=>d.id!==u)},update:(u,d,h)=>{const f=s.value.find(g=>g.id===u);f&&(f.isValid=d,f.errorMessages=h)},isDisabled:n,isReadonly:r,isValidating:i,items:s,validateOn:_e(t,"validateOn")}),{errors:o,isDisabled:n,isReadonly:r,isValidating:i,items:s,validate:a,reset:l,resetValidation:c}}function IB(){return tt(IC,null)}const SB=Ae({disabled:Boolean,error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:Boolean,rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...xy()},"validation");function TB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ki(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cs();const r=Lt(t,"modelValue"),i=I(()=>t.validationValue===void 0?r.value:t.validationValue),s=IB(),o=z([]),a=z(!0),l=I(()=>!!(ga(r.value===""?null:r.value).length||ga(i.value===""?null:i.value).length)),c=I(()=>!!(t.disabled||s!=null&&s.isDisabled.value)),u=I(()=>!!(t.readonly||s!=null&&s.isReadonly.value)),d=I(()=>t.errorMessages.length?ga(t.errorMessages).slice(0,Math.max(0,+t.maxErrors)):o.value),h=I(()=>t.error||d.value.length?!1:t.rules.length&&a.value?null:!0),f=z(!1),g=I(()=>({[`${e}--error`]:h.value===!1,[`${e}--dirty`]:l.value,[`${e}--disabled`]:c.value,[`${e}--readonly`]:u.value})),p=I(()=>t.name??qn(n));Yh(()=>{s==null||s.register({id:p.value,validate:v,reset:y,resetValidation:b})}),Fn(()=>{s==null||s.unregister(p.value)});const w=I(()=>t.validateOn||(s==null?void 0:s.validateOn.value)||"input");Yn(()=>s==null?void 0:s.update(p.value,h.value,d.value)),vo(()=>w.value==="input",()=>{fe(i,()=>{if(i.value!=null)v();else if(t.focused){const T=fe(()=>t.focused,S=>{S||v(),T()})}})}),vo(()=>w.value==="blur",()=>{fe(()=>t.focused,T=>{T||v()})}),fe(h,()=>{s==null||s.update(p.value,h.value,d.value)});function y(){b(),r.value=null}function b(){a.value=!0,o.value=[]}async function v(){const T=[];f.value=!0;for(const S of t.rules){if(T.length>=+(t.maxErrors??1))break;const C=await(typeof S=="function"?S:()=>S)(i.value);if(C!==!0){if(typeof C!="string"){console.warn(`${C} is not a valid value. Rule functions must return boolean true or a string.`);continue}T.push(C)}}return o.value=T,f.value=!1,a.value=!1,o.value}return{errorMessages:d,isDirty:l,isDisabled:c,isReadonly:u,isPristine:a,isValid:h,isValidating:f,reset:y,resetValidation:b,validate:v,validationClasses:g}}const pu=Ae({id:String,appendIcon:Qe,prependIcon:Qe,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:t=>["horizontal","vertical"].includes(t)},"onClick:prepend":qr(),"onClick:append":qr(),...Se(),...Cr(),...SB()},"v-input"),hs=ve()({name:"VInput",props:{...pu()},emits:{"update:modelValue":t=>!0},setup(t,e){let{attrs:n,slots:r,emit:i}=e;const{densityClasses:s}=ti(t),{InputIcon:o}=_C(t),a=Cs(),l=I(()=>t.id||`input-${a}`),c=I(()=>`${l.value}-messages`),{errorMessages:u,isDirty:d,isDisabled:h,isReadonly:f,isPristine:g,isValid:p,isValidating:w,reset:y,resetValidation:b,validate:v,validationClasses:T}=TB(t,"v-input",l),S=I(()=>({id:l,messagesId:c,isDirty:d,isDisabled:h,isReadonly:f,isPristine:g,isValid:p,isValidating:w,reset:y,resetValidation:b,validate:v})),A=I(()=>u.value.length>0?u.value:t.hint&&(t.persistentHint||t.focused)?t.hint:t.messages);return Ee(()=>{var F,P,V,W;const C=!!(r.prepend||t.prependIcon),E=!!(r.append||t.appendIcon),R=A.value.length>0,O=!t.hideDetails||t.hideDetails==="auto"&&(R||!!r.details);return m("div",{class:["v-input",`v-input--${t.direction}`,s.value,T.value,t.class],style:t.style},[C&&m("div",{key:"prepend",class:"v-input__prepend"},[(F=r.prepend)==null?void 0:F.call(r,S.value),t.prependIcon&&m(o,{key:"prepend-icon",name:"prepend"},null)]),r.default&&m("div",{class:"v-input__control"},[(P=r.default)==null?void 0:P.call(r,S.value)]),E&&m("div",{key:"append",class:"v-input__append"},[t.appendIcon&&m(o,{key:"append-icon",name:"append"},null),(V=r.append)==null?void 0:V.call(r,S.value)]),O&&m("div",{class:"v-input__details"},[m(bB,{id:c.value,active:R,messages:A.value},{message:r.message}),(W=r.details)==null?void 0:W.call(r,S.value)])])}),{reset:y,resetValidation:b,validate:v}}});const Ny=ve()({name:"VCounter",functional:!0,props:{active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Se(),...af({transition:{component:Y1}})},setup(t,e){let{slots:n}=e;const r=I(()=>t.max?`${t.value} / ${t.max}`:String(t.value));return Ee(()=>m(ts,{transition:t.transition},{default:()=>[sn(m("div",{class:["v-counter",t.class],style:t.style},[n.default?n.default({counter:r.value,max:t.max,value:t.value}):r.value]),[[No,t.active]])]})),{}}}),CB=["color","file","time","date","datetime-local","week","month"],AB=Ae({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,...pu(),...Tf()},"v-text-field"),Zt=ve()({name:"VTextField",directives:{Intersect:ny},inheritAttrs:!1,props:AB(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const s=Lt(t,"modelValue"),{isFocused:o,focus:a,blur:l}=gu(t),c=I(()=>typeof t.counterValue=="function"?t.counterValue(s.value):(s.value??"").toString().length),u=I(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function d(S,A){var C,E;!t.autofocus||!S||(E=(C=A[0].target)==null?void 0:C.focus)==null||E.call(C)}const h=z(),f=z(),g=z(),p=I(()=>CB.includes(t.type)||t.persistentPlaceholder||o.value);function w(){var S;g.value!==document.activeElement&&((S=g.value)==null||S.focus()),o.value||a()}function y(S){r("mousedown:control",S),S.target!==g.value&&(w(),S.preventDefault())}function b(S){w(),r("click:control",S)}function v(S){S.stopPropagation(),w(),Ht(()=>{s.value=null,Hv(t["onClick:clear"],S)})}function T(S){var C;const A=S.target;if(s.value=A.value,(C=t.modelModifiers)!=null&&C.trim&&["text","search","password","tel","url"].includes(t.type)){const E=[A.selectionStart,A.selectionEnd];Ht(()=>{A.selectionStart=E[0],A.selectionEnd=E[1]})}}return Ee(()=>{const S=!!(i.counter||t.counter||t.counterValue),A=!!(S||i.details),[C,E]=qv(n),[{modelValue:R,...O}]=hs.filterProps(t),[F]=Py(t);return m(hs,Ke({ref:h,modelValue:s.value,"onUpdate:modelValue":P=>s.value=P,class:["v-text-field",{"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)},t.class],style:t.style},C,O,{focused:o.value}),{...i,default:P=>{let{id:V,isDisabled:W,isDirty:ae,isReadonly:X,isValid:K}=P;return m(Cf,Ke({ref:f,onMousedown:y,onClick:b,"onClick:clear":v,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},F,{id:V.value,active:p.value||ae.value,dirty:ae.value||t.dirty,disabled:W.value,focused:o.value,error:K.value===!1}),{...i,default:Z=>{let{props:{class:ie,...re}}=Z;const ce=sn(m("input",Ke({ref:g,value:s.value,onInput:T,autofocus:t.autofocus,readonly:X.value,disabled:W.value,name:t.name,placeholder:t.placeholder,size:1,type:t.type,onFocus:w,onBlur:l},re,E),null),[[Wr("intersect"),{handler:d},null,{once:!0}]]);return m(Me,null,[t.prefix&&m("span",{class:"v-text-field__prefix"},[t.prefix]),i.default?m("div",{class:ie,"data-no-activator":""},[i.default(),ce]):wi(ce,{class:ie}),t.suffix&&m("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:A?P=>{var V;return m(Me,null,[(V=i.details)==null?void 0:V.call(i,P),S&&m(Me,null,[m("span",null,null),m(Ny,{active:t.persistentCounter||o.value,value:c.value,max:u.value},i.counter)])])}:void 0})}),mu({},h,f,g)}});const SC=ve()({name:"VTextarea",directives:{Intersect:ny},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...pu(),...Tf()},emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const s=Lt(t,"modelValue"),{isFocused:o,focus:a,blur:l}=gu(t),c=I(()=>typeof t.counterValue=="function"?t.counterValue(s.value):(s.value||"").toString().length),u=I(()=>{if(n.maxlength)return n.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function d(R,O){var F,P;!t.autofocus||!R||(P=(F=O[0].target)==null?void 0:F.focus)==null||P.call(F)}const h=z(),f=z(),g=z(""),p=z(),w=I(()=>o.value||t.persistentPlaceholder);function y(){var R;p.value!==document.activeElement&&((R=p.value)==null||R.focus()),o.value||a()}function b(R){y(),r("click:control",R)}function v(R){r("mousedown:control",R)}function T(R){R.stopPropagation(),y(),Ht(()=>{s.value="",Hv(t["onClick:clear"],R)})}function S(R){var F;const O=R.target;if(s.value=O.value,(F=t.modelModifiers)!=null&&F.trim){const P=[O.selectionStart,O.selectionEnd];Ht(()=>{O.selectionStart=P[0],O.selectionEnd=P[1]})}}const A=z();function C(){t.autoGrow&&Ht(()=>{if(!A.value||!f.value)return;const R=getComputedStyle(A.value),O=getComputedStyle(f.value.$el),F=parseFloat(R.getPropertyValue("--v-field-padding-top"))+parseFloat(R.getPropertyValue("--v-input-padding-top"))+parseFloat(R.getPropertyValue("--v-field-padding-bottom")),P=A.value.scrollHeight,V=parseFloat(R.lineHeight),W=Math.max(parseFloat(t.rows)*V+F,parseFloat(O.getPropertyValue("--v-input-control-height"))),ae=parseFloat(t.maxRows)*V+F||1/0;g.value=de(gr(P??0,W,ae))})}Yn(C),fe(s,C),fe(()=>t.rows,C),fe(()=>t.maxRows,C),fe(()=>t.density,C);let E;return fe(A,R=>{R?(E=new ResizeObserver(C),E.observe(A.value)):E==null||E.disconnect()}),Fn(()=>{E==null||E.disconnect()}),Ee(()=>{const R=!!(i.counter||t.counter||t.counterValue),O=!!(R||i.details),[F,P]=qv(n),[{modelValue:V,...W}]=hs.filterProps(t),[ae]=Py(t);return m(hs,Ke({ref:h,modelValue:s.value,"onUpdate:modelValue":X=>s.value=X,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(t.variant)},t.class],style:t.style},F,W,{focused:o.value}),{...i,default:X=>{let{isDisabled:K,isDirty:Z,isReadonly:ie,isValid:re}=X;return m(Cf,Ke({ref:f,style:{"--v-textarea-control-height":g.value},onClick:b,onMousedown:v,"onClick:clear":T,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"],role:"textbox"},ae,{active:w.value||Z.value,dirty:Z.value||t.dirty,disabled:K.value,focused:o.value,error:re.value===!1}),{...i,default:ce=>{let{props:{class:Ie,...We}}=ce;return m(Me,null,[t.prefix&&m("span",{class:"v-text-field__prefix"},[t.prefix]),sn(m("textarea",Ke({ref:p,class:Ie,value:s.value,onInput:S,autofocus:t.autofocus,readonly:ie.value,disabled:K.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:y,onBlur:l},We,P),null),[[Wr("intersect"),{handler:d},null,{once:!0}]]),t.autoGrow&&sn(m("textarea",{class:[Ie,"v-textarea__sizer"],"onUpdate:modelValue":nt=>s.value=nt,ref:A,readonly:!0,"aria-hidden":"true"},null),[[cO,s.value]]),t.suffix&&m("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:O?X=>{var K;return m(Me,null,[(K=i.details)==null?void 0:K.call(i,X),R&&m(Me,null,[m("span",null,null),m(Ny,{active:t.persistentCounter||o.value,value:c.value,max:u.value},i.counter)])])}:void 0})}),mu({},h,f,p)}});const kB=ve()({name:"VTimeline",props:{align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Se(),...Cr(),...ft(),...xt()},setup(t,e){let{slots:n}=e;const{themeClasses:r}=Mt(t),{densityClasses:i}=ti(t);ei({VTimelineDivider:{lineColor:_e(t,"lineColor")},VTimelineItem:{density:_e(t,"density"),lineInset:_e(t,"lineInset")}});const s=I(()=>{const a=t.side?t.side:t.density!=="default"?"end":null;return a&&`v-timeline--side-${a}`}),o=I(()=>{const a=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return a;case"start":return a[0];case"end":return a[1];default:return null}});return Ee(()=>m(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,o.value,{"v-timeline--inset-line":!!t.lineInset},r.value,i.value,s.value,t.class],style:[{"--v-timeline-line-thickness":de(t.lineThickness)},t.style]},n)),{}}}),RB=ve()({name:"VTimelineDivider",props:{dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:Qe,iconColor:String,lineColor:String,...Se(),...yn(),...Mo(),...Xn()},setup(t,e){let{slots:n}=e;const{sizeClasses:r,sizeStyles:i}=nl(t,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:o}=Kn(_e(t,"dotColor")),{roundedClasses:a}=Cn(t,"v-timeline-divider__dot"),{elevationClasses:l}=dr(t),{backgroundColorClasses:c,backgroundColorStyles:u}=Kn(_e(t,"lineColor"));return Ee(()=>m("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[m("div",{class:["v-timeline-divider__before",c.value],style:u.value},null),!t.hideDot&&m("div",{key:"dot",class:["v-timeline-divider__dot",l.value,a.value,r.value],style:i.value},[m("div",{class:["v-timeline-divider__inner-dot",o.value,a.value],style:s.value},[n.default?m(Ot,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},n.default):m(Vt,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),m("div",{class:["v-timeline-divider__after",c.value],style:u.value},null)])),{}}}),xB=ve()({name:"VTimelineItem",props:{density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:Qe,iconColor:String,lineInset:[Number,String],...Se(),...Ri(),...Xn(),...yn(),...Mo(),...ft()},setup(t,e){let{slots:n}=e;const{dimensionStyles:r}=xi(t),i=z(0),s=z();return fe(s,o=>{var a;o&&(i.value=((a=o.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)??0)},{flush:"post"}),Ee(()=>{var o,a;return m("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot},t.class],style:[{"--v-timeline-dot-size":de(i.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${de(t.lineInset)})`:de(0)},t.style]},[m("div",{class:"v-timeline-item__body",style:r.value},[(o=n.default)==null?void 0:o.call(n)]),m(RB,{ref:s,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:n.icon}),t.density!=="compact"&&m("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((a=n.opposite)==null?void 0:a.call(n))])])}),{}}}),PB={data:()=>({addEventDialog:!1,cards:["Today","Yesterday"],drawer:null,links:[["mdi-inbox-arrow-down","Inbox"],["mdi-send","Send"],["mdi-delete","Trash"],["mdi-alert-octagon","Spam"]],eventName:"",dateStart:new Date,dateEnd:new Date,location:"",url:"",description:"",events:null,dialog:!1,dialog_qr:!1}),components:{Navbar:ay,AddEvent:c2,VueQrcode:nF},mounted(){this.readEvents()},methods:{async readEvents(){const e=JSON.parse(sessionStorage.getItem("user")).uid;await jr.get(`event/${e}`).then(n=>{this.events=n.data})},async createEvent(){const e=JSON.parse(sessionStorage.getItem("user")).uid;await jr.post(`event/${e}`,{name:this.eventName,date_start:this.dateStart,date_end:this.dateEnd,location:this.location,url:this.url,description:this.description,category:""}).then(n=>{console.log(n.data),this.readEvents(),this.dialog=!1,this.addEventDialog=!0})}}},NB=Ce("h1",{style:{"text-align":"center","margin-top":"20px"}},"  ",-1),DB=Ce("h3",{style:{"text-align":"center","margin-top":"20px"}}," QR ",-1),OB=Ce("br",null,null,-1),LB=Ce("div",{class:"font-weight-bold ms-1 mb-2"},[Ce("h1",{class:"card-title"},"")],-1),MB=Ce("span",{class:"text-h5"},"",-1),FB=Ce("small",null,"*indicates required field",-1),VB=["textContent"],BB=["textContent"],UB=["textContent"],$B=["href"],zB=["textContent"],qB=["textContent"],jB=Ce("br",null,null,-1),HB=["textContent"],KB=Ce("br",null,null,-1),GB={class:"text-center"};function WB(t,e,n,r,i,s){const o=Fr("Navbar"),a=Fr("AddEvent"),l=Fr("v-space"),c=Fr("vue-qrcode");return Ge(),Bt(Lo,{id:"inspire"},{default:x(()=>[m(Ry,{modelValue:t.drawer,"onUpdate:modelValue":e[0]||(e[0]=u=>t.drawer=u)},{default:x(()=>[m(o)]),_:1},8,["modelValue"]),m(yy,null,{default:x(()=>[m(Ty,{onClick:e[1]||(e[1]=u=>t.drawer=!t.drawer)}),m(Ef,null,{default:x(()=>[ke("Event Passport")]),_:1})]),_:1}),m(va,{modelValue:t.addEventDialog,"onUpdate:modelValue":e[4]||(e[4]=u=>t.addEventDialog=u),width:"420px"},{default:x(()=>[m(xn,null,{default:x(()=>[NB,DB,OB,m(ds,null,{default:x(()=>[m(tr,null,{default:x(()=>[m(rt,{cols:"6",offset:"0"},{default:x(()=>[m(et,{color:"primary",block:"",onClick:e[2]||(e[2]=u=>t.addEventDialog=!1)},{default:x(()=>[ke("")]),_:1})]),_:1}),m(rt,{cols:"6",offset:"0"},{default:x(()=>[m(et,{color:"primary",block:"",onClick:e[3]||(e[3]=u=>t.addEventDialog=!1)},{default:x(()=>[ke("QR")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),m(ou,null,{default:x(()=>[m(xn,null,{default:x(()=>[m(_i,{height:"200",src:"https://cdn.pixabay.com/photo/2017/08/10/05/56/calendar-2618814_1280.jpg",cover:"",class:"text-white align-end",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"},{default:x(()=>[LB,m(tr,{class:"justify-end"},{default:x(()=>[m(va,{modelValue:t.dialog,"onUpdate:modelValue":e[12]||(e[12]=u=>t.dialog=u),persistent:"",width:"1024"},{activator:x(({props:u})=>[m(et,Ke({size:"x-large",color:"white",variant:"text",icon:"mdi-plus-thick",class:"add-btn"},u),null,16)]),default:x(()=>[m(xn,null,{default:x(()=>[m(Fo,null,{default:x(()=>[MB]),_:1}),m(If,null,{default:x(()=>[m(ds,null,{default:x(()=>[m(tr,null,{default:x(()=>[m(rt,{cols:"12"},{default:x(()=>[m(Zt,{modelValue:t.eventName,"onUpdate:modelValue":e[5]||(e[5]=u=>t.eventName=u),label:"*",required:""},null,8,["modelValue"])]),_:1}),m(rt,{cols:"12",sm:"6",md:"6"},{default:x(()=>[m(Zt,{modelValue:t.dateStart,"onUpdate:modelValue":e[6]||(e[6]=u=>t.dateStart=u),label:"*",required:"",type:"date"},null,8,["modelValue"])]),_:1}),m(rt,{cols:"12",sm:"6",md:"6"},{default:x(()=>[m(Zt,{modelValue:t.dateEnd,"onUpdate:modelValue":e[7]||(e[7]=u=>t.dateEnd=u),label:"*",hint:"1","persistent-hint":"",required:"",type:"date"},null,8,["modelValue"])]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(Zt,{modelValue:t.location,"onUpdate:modelValue":e[8]||(e[8]=u=>t.location=u),label:"*",required:""},null,8,["modelValue"])]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(Zt,{modelValue:t.url,"onUpdate:modelValue":e[9]||(e[9]=u=>t.url=u),label:"URL"},null,8,["modelValue"])]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(SC,{modelValue:t.description,"onUpdate:modelValue":e[10]||(e[10]=u=>t.description=u),label:"",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),FB]),_:1}),m(Fa,null,{default:x(()=>[m(bC),m(et,{color:"blue-darken-1",variant:"text",onClick:e[11]||(e[11]=u=>t.dialog=!1)},{default:x(()=>[ke(" Close ")]),_:1}),m(et,{color:"blue-darken-1",variant:"text",onClick:s.createEvent},{default:x(()=>[ke(" Save ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),m(a),m(kB,{align:"start",side:"end",class:"timelines"},{default:x(()=>[(Ge(!0),wr(Me,null,_c(t.events,(u,d)=>(Ge(),Bt(xB,{key:d,"dot-color":u.color,size:"small"},{opposite:x(()=>[Ce("div",{class:ai(`pt-1 headline font-weight-bold text-${u.color}`),textContent:dn(u.date_start)},null,10,VB),Ce("div",{class:ai(`pt-1 headline font-weight-bold text-${u.color} text-center`)}," | ",2),Ce("div",{class:ai(`pt-1 headline font-weight-bold text-${u.color}`),textContent:dn(u.date_end)},null,10,BB)]),default:x(()=>[Ce("div",null,[Ce("h2",{class:ai(`mt-n1 headline font-weight-light mb-4 text-${u.color}`)},[Ce("div",{class:ai(`pt-1 headline font-weight-bold text-${u.color}`),textContent:dn(u.name)},null,10,UB)],2),Ce("a",{href:u.url},[Ce("div",{textContent:dn(u.url)},null,8,zB)],8,$B),Ce("div",{textContent:dn(u.description)},null,8,qB),jB,m(tr,null,{default:x(()=>[m(l),m(Vt,null,{default:x(()=>[ke("mdi-map-marker")]),_:1}),Ce("div",{textContent:dn(u.location)},null,8,HB)]),_:2},1024),KB,Ce("div",GB,[m(va,{modelValue:t.dialog_qr,"onUpdate:modelValue":e[14]||(e[14]=h=>t.dialog_qr=h),width:"auto"},{activator:x(({props:h})=>[m(et,Ke({color:"primary"},h),{default:x(()=>[ke("QR")]),_:2},1040)]),default:x(()=>[m(xn,null,{default:x(()=>[m(c,{value:"http://localhost:5173/myevent",tag:"img"}),m(Fa,null,{default:x(()=>[m(et,{color:"primary",block:"",onClick:e[13]||(e[13]=h=>t.dialog_qr=!1)},{default:x(()=>[ke("")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:2},1032,["dot-color"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})}const YB=Vn(PB,[["render",WB]]),QB={data(){return{dialog:!1}}},XB={class:"text-center"},JB={class:"d-flex flex-no-wrap justify-space-between"},ZB=Ce("br",null,null,-1);function eU(t,e,n,r,i,s){return Ge(),wr("div",XB,[m(et,{color:"primary",onClick:e[0]||(e[0]=o=>i.dialog=!0)},{default:x(()=>[ke(" Open Dialog ")]),_:1}),m(va,{modelValue:i.dialog,"onUpdate:modelValue":e[3]||(e[3]=o=>i.dialog=o),width:"auto"},{default:x(()=>[m(xn,null,{default:x(()=>[m(xn,{color:"#952175",theme:"dark",class:"profile-card",width:"425px",height:"260px"},{default:x(()=>[m(ty,{"aspect-ratio":5/3},{default:x(()=>[m(Fo,{class:"text-h5",style:{"margin-top":"10px"}},{default:x(()=>[ke("   ")]),_:1}),m(fu,{style:{"margin-top":"-10px","margin-left":"5px","margin-bottom":"5px"}},{default:x(()=>[ke("SDGs")]),_:1}),m(_i,{src:"https://cdn.vuetifyjs.com/images/cards/sunshine.jpg","aspect-ratio":"16/9",cover:""},{default:x(()=>[Ce("div",JB,[Ce("div",null,[m(Fa,null,{default:x(()=>[m(Ln,{class:"mb-4 profile-avatar",color:"grey-darken-1",size:"140"})]),_:1})]),m(Ln,{class:"mb-4 profile-qr",color:"grey-darken-1",size:"140",rounded:"0"})])]),_:1})]),_:1})]),_:1}),m(If,null,{default:x(()=>[ke("   "),ZB,ke(" ")]),_:1}),m(ds,null,{default:x(()=>[m(tr,null,{default:x(()=>[m(rt,{cols:"3",offset:"3"},{default:x(()=>[m(et,{color:"primary",block:"",onClick:e[1]||(e[1]=o=>i.dialog=!1)},{default:x(()=>[ke("")]),_:1})]),_:1}),m(rt,{cols:"3"},{default:x(()=>[m(et,{color:"primary",block:"",onClick:e[2]||(e[2]=o=>i.dialog=!1)},{default:x(()=>[ke("")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const tU=Vn(QB,[["render",eU]]),nU={data(){return{dialog:!0}}},rU={class:"text-center"},iU=Ce("h1",{style:{"text-align":"center","margin-top":"20px"}},"",-1);function sU(t,e,n,r,i,s){return Ge(),wr("div",rU,[m(et,{color:"primary",onClick:e[0]||(e[0]=o=>i.dialog=!0)},{default:x(()=>[ke(" Open Dialog ")]),_:1}),m(va,{modelValue:i.dialog,"onUpdate:modelValue":e[2]||(e[2]=o=>i.dialog=o),width:"auto"},{default:x(()=>[m(xn,null,{default:x(()=>[iU,m(ds,null,{default:x(()=>[m(tr,null,{default:x(()=>[m(rt,{cols:"3",offset:"0"},{default:x(()=>[m(Ln,{class:"mb-4 profile-avatar",color:"grey-darken-1",size:"140"})]),_:1}),m(rt,{cols:"3",offset:"2"},{default:x(()=>[m(Ln,{class:"mb-4 profile-avatar",color:"grey-darken-1",size:"140"})]),_:1})]),_:1})]),_:1}),m(ds,null,{default:x(()=>[m(tr,null,{default:x(()=>[m(rt,{cols:"8",offset:"2"},{default:x(()=>[m(et,{color:"primary",block:"",onClick:e[1]||(e[1]=o=>i.dialog=!1)},{default:x(()=>[ke("")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const oU=Vn(nU,[["render",sU]]);const aU={data:()=>({cards:["Event1","Event2","Event3","Event4"],drawer:null,links:[["mdi-inbox-arrow-down","Inbox"],["mdi-send","Send"],["mdi-delete","Trash"],["mdi-alert-octagon","Spam"]],events:null,particlpants:null,friends:null,outer_friends:[],inner_friends:[],dialog:!1}),components:{Navbar:ay,MakeFriend:tU,MadeFriend:oU},mounted(){this.readEvents(),this.readFriends(),this.readParticlpants()},methods:{async readParticlpants(){this.outer_friends=[],this.events||await this.readEvents();for await(const t of this.events)this.inner_friends=[],await jr.get(`particlpant/users/${t.id}`).then(e=>{console.log("users",e.data);for(const n of e.data){const r=this.friends.find(i=>i.uid===n.uid);r&&this.inner_friends.push(r)}}),this.outer_friends.push(this.inner_friends);console.log("outer",this.outer_friends)},async readEvents(){const e=JSON.parse(sessionStorage.getItem("user")).uid;await jr.get(`particlpant/events/${e}`).then(n=>{this.events=n.data,console.log("events",n.data)})},async readFriends(){const e=JSON.parse(sessionStorage.getItem("user")).uid;await jr.get(`friends/${e}`).then(n=>{this.friends=n.data,console.log("friends",n.data)})}}},lU=Ce("div",{class:"font-weight-bold ms-1 mb-2"},[Ce("h1",{class:"card-title"},"")],-1);function cU(t,e,n,r,i,s){const o=Fr("Navbar"),a=Fr("MadeFriend");return Ge(),Bt(Lo,{id:"inspire"},{default:x(()=>[m(Ry,{modelValue:t.drawer,"onUpdate:modelValue":e[0]||(e[0]=l=>t.drawer=l)},{default:x(()=>[m(o)]),_:1},8,["modelValue"]),m(yy,null,{default:x(()=>[m(Ty,{onClick:e[1]||(e[1]=l=>t.drawer=!t.drawer)}),m(Ef,null,{default:x(()=>[ke("Sync Meets")]),_:1})]),_:1}),m(ou,null,{default:x(()=>[m(xn,null,{default:x(()=>[m(_i,{height:"200",src:"https://cdn.pixabay.com/photo/2018/01/19/07/57/shaking-hands-3091906_1280.jpg",cover:"",class:"text-white align-end",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"},{default:x(()=>[lU,m(tr,{class:"justify-end"},{default:x(()=>[m(et,{size:"x-large",color:"white",variant:"text",icon:"mdi-qrcode-scan",class:"add-btn qr-btn"})]),_:1}),m(a)]),_:1}),m(ds,{class:"py-8 px-6",fluid:""},{default:x(()=>[m(tr,null,{default:x(()=>[(Ge(!0),wr(Me,null,_c(t.events,(l,c)=>(Ge(),Bt(rt,{key:l,cols:"12"},{default:x(()=>[m(xn,null,{default:x(()=>[m(pT,{lines:"two"},{default:x(()=>[m(fT,null,{default:x(()=>[ke(dn(l.name),1)]),_:2},1024),(Ge(!0),wr(Me,null,_c(t.outer_friends[c],u=>(Ge(),wr(Me,{key:u},[m(rh,null,{prepend:x(()=>[m(Ln,{color:"grey-darken-1"})]),default:x(()=>[m(oy,null,{default:x(()=>[ke(dn(u.username),1)]),_:2},1024),m(rT,null,{default:x(()=>[ke(dn(),1)]),_:1})]),_:2},1024),t.n!==6?(Ge(),Bt(ry,{key:`divider-${t.n}`,inset:""})):ka("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const uU=Vn(aU,[["render",cU]]);function $_(t){const n=Math.abs(t);return Math.sign(t)*(n/((1/.501-2)*(1-n)+1))}function z_(t){let{selectedElement:e,containerSize:n,contentSize:r,isRtl:i,currentScrollOffset:s,isHorizontal:o}=t;const a=o?e.clientWidth:e.clientHeight,l=o?e.offsetLeft:e.offsetTop,c=i&&o?r-l-a:l,u=n+s,d=a+c,h=a*.4;return c<=s?s=Math.max(c-h,0):u<=d&&(s=Math.min(s-(u-d-h),r-n)),s}function dU(t){let{selectedElement:e,containerSize:n,contentSize:r,isRtl:i,isHorizontal:s}=t;const o=s?e.clientWidth:e.clientHeight,a=s?e.offsetLeft:e.offsetTop,l=i&&s?r-a-o/2-n/2:a+o/2-n/2;return Math.min(r-n,Math.max(0,l))}const TC=Symbol.for("vuetify:v-slide-group"),hU=Ae({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:TC},nextIcon:{type:Qe,default:"$next"},prevIcon:{type:Qe,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["always","desktop","mobile"].includes(t)},...Se(),...ft(),...wy({selectedClass:"v-slide-group-item--active"})},"v-slide-group"),fU=ve()({name:"VSlideGroup",props:hU(),emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{isRtl:r}=Oo(),{mobile:i}=Cy(),s=Ey(t,t.symbol),o=z(!1),a=z(0),l=z(0),c=z(0),u=I(()=>t.direction==="horizontal"),{resizeRef:d,contentRect:h}=Sc(),{resizeRef:f,contentRect:g}=Sc(),p=I(()=>s.selected.value.length?s.items.value.findIndex(re=>re.id===s.selected.value[0]):-1),w=I(()=>s.selected.value.length?s.items.value.findIndex(re=>re.id===s.selected.value[s.selected.value.length-1]):-1);if(kt){let re=-1;fe(()=>[s.selected.value,h.value,g.value,u.value],()=>{cancelAnimationFrame(re),re=requestAnimationFrame(()=>{if(h.value&&g.value){const ce=u.value?"width":"height";l.value=h.value[ce],c.value=g.value[ce],o.value=l.value+1<c.value}if(p.value>=0&&f.value){const ce=f.value.children[w.value];p.value===0||!o.value?a.value=0:t.centerActive?a.value=dU({selectedElement:ce,containerSize:l.value,contentSize:c.value,isRtl:r.value,isHorizontal:u.value}):o.value&&(a.value=z_({selectedElement:ce,containerSize:l.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:a.value,isHorizontal:u.value}))}})})}const y=z(!1);let b=0,v=0;function T(re){const ce=u.value?"clientX":"clientY";v=(r.value&&u.value?-1:1)*a.value,b=re.touches[0][ce],y.value=!0}function S(re){if(!o.value)return;const ce=u.value?"clientX":"clientY",Ie=r.value&&u.value?-1:1;a.value=Ie*(v+b-re.touches[0][ce])}function A(re){const ce=c.value-l.value;a.value<0||!o.value?a.value=0:a.value>=ce&&(a.value=ce),y.value=!1}function C(){d.value&&(d.value[u.value?"scrollLeft":"scrollTop"]=0)}const E=z(!1);function R(re){if(E.value=!0,!(!o.value||!f.value)){for(const ce of re.composedPath())for(const Ie of f.value.children)if(Ie===ce){a.value=z_({selectedElement:Ie,containerSize:l.value,contentSize:c.value,isRtl:r.value,currentScrollOffset:a.value,isHorizontal:u.value});return}}}function O(re){E.value=!1}function F(re){var ce;!E.value&&!(re.relatedTarget&&((ce=f.value)!=null&&ce.contains(re.relatedTarget)))&&V()}function P(re){f.value&&(u.value?re.key==="ArrowRight"?V(r.value?"prev":"next"):re.key==="ArrowLeft"&&V(r.value?"next":"prev"):re.key==="ArrowDown"?V("next"):re.key==="ArrowUp"&&V("prev"),re.key==="Home"?V("first"):re.key==="End"&&V("last"))}function V(re){var ce,Ie,We,nt,B;if(f.value)if(!re)(ce=Kv(f.value)[0])==null||ce.focus();else if(re==="next"){const D=(Ie=f.value.querySelector(":focus"))==null?void 0:Ie.nextElementSibling;D?D.focus():V("first")}else if(re==="prev"){const D=(We=f.value.querySelector(":focus"))==null?void 0:We.previousElementSibling;D?D.focus():V("last")}else re==="first"?(nt=f.value.firstElementChild)==null||nt.focus():re==="last"&&((B=f.value.lastElementChild)==null||B.focus())}function W(re){const ce=a.value+(re==="prev"?-1:1)*l.value;a.value=gr(ce,0,c.value-l.value)}const ae=I(()=>{let re=a.value>c.value-l.value?-(c.value-l.value)+$_(c.value-l.value-a.value):-a.value;a.value<=0&&(re=$_(-a.value));const ce=r.value&&u.value?-1:1;return{transform:`translate${u.value?"X":"Y"}(${ce*re}px)`,transition:y.value?"none":"",willChange:y.value?"transform":""}}),X=I(()=>({next:s.next,prev:s.prev,select:s.select,isSelected:s.isSelected})),K=I(()=>{switch(t.showArrows){case"always":return!0;case"desktop":return!i.value;case!0:return o.value||Math.abs(a.value)>0;case"mobile":return i.value||o.value||Math.abs(a.value)>0;default:return!i.value&&(o.value||Math.abs(a.value)>0)}}),Z=I(()=>Math.abs(a.value)>0),ie=I(()=>c.value>Math.abs(a.value)+l.value);return Ee(()=>m(t.tag,{class:["v-slide-group",{"v-slide-group--vertical":!u.value,"v-slide-group--has-affixes":K.value,"v-slide-group--is-overflowing":o.value},t.class],style:t.style,tabindex:E.value||s.selected.value.length?-1:0,onFocus:F},{default:()=>{var re,ce,Ie;return[K.value&&m("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Z.value}],onClick:()=>W("prev")},[((re=n.prev)==null?void 0:re.call(n,X.value))??m(o_,null,{default:()=>[m(Vt,{icon:r.value?t.nextIcon:t.prevIcon},null)]})]),m("div",{key:"container",ref:d,class:"v-slide-group__container",onScroll:C},[m("div",{ref:f,class:"v-slide-group__content",style:ae.value,onTouchstartPassive:T,onTouchmovePassive:S,onTouchendPassive:A,onFocusin:R,onFocusout:O,onKeydown:P},[(ce=n.default)==null?void 0:ce.call(n,X.value)])]),K.value&&m("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!ie.value}],onClick:()=>W("next")},[((Ie=n.next)==null?void 0:Ie.call(n,X.value))??m(o_,null,{default:()=>[m(Vt,{icon:r.value?t.prevIcon:t.nextIcon},null)]})])]}})),{selected:s.selected,scrollTo:W,scrollOffset:a,focus:V}}}),mU=ve()({name:"VSlideGroupItem",props:{...by()},emits:{"group:selected":t=>!0},setup(t,e){let{slots:n}=e;const r=_y(t,TC);return()=>{var i;return(i=n.default)==null?void 0:i.call(n,{isSelected:r.isSelected.value,select:r.select,toggle:r.toggle,selectedClass:r.selectedClass.value})}}}),gU={data:()=>({model:null})},pU={class:"d-flex fill-height align-center justify-center"},vU={class:"d-flex fill-height align-center justify-center"},yU={class:"text-h6"};function wU(t,e,n,r,i,s){return Ge(),Bt(xc,{class:"mx-auto",elevation:"8","max-width":"800"},{default:x(()=>[m(fU,{modelValue:t.model,"onUpdate:modelValue":e[0]||(e[0]=o=>t.model=o),class:"pa-4","selected-class":"bg-primary","show-arrows":""},{default:x(()=>[(Ge(),wr(Me,null,_c(15,o=>m(mU,{key:o},{default:x(({isSelected:a,toggle:l,selectedClass:c})=>[m(_i,{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMSDxUREBIVFRUVFQ0VFxgYDw8TFRUVFRUWFhUVFxUYHSggGholHRUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OFxAQGi0mICUtLS0tLSstLS0tLS0tLS0rLS0tKy0tLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLf/AABEIAKgBLAMBIgACEQEDEQH/xAAaAAEBAQEBAQEAAAAAAAAAAAAAAgMBBAUH/8QAKRAAAgEDAwQBBQEBAQAAAAAAAAECAyExEUFREjJhoYEEE3GRsdEiQv/EABgBAQEBAQEAAAAAAAAAAAAAAAABAwIE/8QAHhEBAAIDAQEBAQEAAAAAAAAAAAERAiFRMXFBAxL/2gAMAwEAAhEDEQA/AP1kAHsZgAAAAAEwAPbGt1IHkpz0Z7owtq3Yxyj/AC6jaUX0aZOdemCCbVbnxYg6kX0JZ/Q1AhLXBfSlm/g458WIGxUp6knYx1wXolm7HgmMGytUvL9Eym2SShUpN5JKjDU46iXbfyX4jvRzZEuol2r53M5SbycSLXUsbOxi3g0VNLufxuclV2VkL4lO9Kjm74JnVb8Lgg0jS3dkNR6M0jVU0ryfxuHUS7V87mTY3I0lV2VkZhI1VJK8n8bl1B6zjFvBp0KPdd8HJVdlZGZNyLnUb8LghGkaW7sjrqJdq+dxfD6KlpeT08bj72mEtDJspU28IV0vjygA2AAAAAAAAA2oVNn8GIJMWPaWoc2Io1tVZX3OtmM27U58WIBoocjUCEi+lLP6OOfFiBsXKfwiDqWuC+lLN/A8Exi2VZeX6JlP9GMpCplJmlVKjZBcKTd8LkrrS7c8st1qHP1yNLeVl7OurpaK087mcpa5Owg3gV0+JbLhTb/HJWkY+X6InUbyLvwX1KOLvkzlJvJwuFJvwuS6g9QaRpbuy9netR7bvkzlJvJNyNHV0tFfO5k2VCDeC9Ix8v0NQJhTb/HJXUo4u+SJ1G8nIx1wK6EpN5Owg3gvoS7rvhEzqt2wuBfD6r/mPl+iXVfJA0LRbzgA1AAAAAAAAAAAVTnoz2wjqtdbHgNqFTZ/BxnFrEvX16Y/ZDZwtQ5sZ6h0lIvo0z+jjnxYgm5FufFiGzqWuA0lm742LpEKLlgrWMfL9EzqN/jggtdc2qc28nEtcFqlvJ6f066u0bf0Xw+n20u79ImdVuysvBB2MdcFrpbhUIN4L6Eu674RM6rdsLgl34Ur/mPl+iJzbySaqlpeT0/o1AzS1wadCXd+kcdXaNl7MxuRc6rdsLghI0jS3dkddRLtXzuL4fRUtLyenjc5KrtGy9mbYRa6WHUtcGipaXk9PG5x1do2XsXwp3oS7n8Iffe2iRkaRot7EqP0+PGADYAAAAAAAAAAAAAHsoVrYvuU2eKEtHqe6EdVrrYyyinUOJFOKXd+jkqumDBs5iJkmWk6zwrIzKhTbwXrGOLv0XUeOXIUm7uyO/cS7f2yJzbySWr9Ldb1ycSNI0t3ZHXUStFfO4vhQqWl5PTxuclV2jZezNsuFNv/AEldPiDSNLd2R3qUcXfOxnKTeRuRo6iXavkzbOwg3gvSMfL9DUCYU2/xyV1KOLvkidRvJIq/R2Um8nC4U2/C5K6lHF3yW+FORpbuyOuol2r53M5SbydhBvBK6fEtlwpt+FyV/wAx8v0ROo3kXfgvrUe275M5SbyzhoqDGoPXjABsAAAAAAAAAAAAAAdp/UKL6Xv6MK9bSyz/AA8bZ3GFxtzOVePtxi27GnSo5u+Dy/R/VuUenDWfPk1MJxm6l1EwudRv8cEFQg3gv/mPl+iXEagTCm3+OSupRxd8kTqN5OJa4JXQlJvJ2MG8F/bS7n8I5Kq8KyF8PrukY5u/RM6jZBqqWl5PTxuNR6M0tcGnQl3Z4RyVXaNl7MxuRc6rdsLgg7GLeDToUe674RdQeohBvBf/ADHy/RM6rdsLggm59FTqN5ORWuDRUtLyen9OSq7RsvYvh9d6Eu7PCJnVbthcEFQg3gV+yJLhSbvhclaxj5foic28i5kX1pdv7Zm3rk4aKgxqDcvGADYAAAAAAAAAAAPPXr6WX7OV6+0f2eY0xw/ZcZZcAAas1U5uL1R9qi4uKlrrrt/p8M9H0dbpejw/TMv64f6i4dY5U+rOq3bC4INI0nl2R37iXavlnlvjX64qW8np/Trq7RWn9M29clQpt/jkV0+INI0t3ZHepRxd87GcpN5G5GjqJdq+dzJsGkaW8rL2XUHrNI1VJLufxuHV0tFaedzJsm5GkquysjMuFNsrWMcXfOw1Hg5Gk8uyO/cS7V8mcpN5OIV0vjreuRGLeDRUtLyenjc5KrtGy9i+Fdd6FHuu+ETOo34XBBUIN4LX7IkuFJu+FyV/zHy/RE5t5Jcz4L60u39szb1ycNY0GNQevEADYAAAAAAA42B08levrZY/pyvW1ssf0xNccP2WeWXAAGjgAAAAAfS+k+ocl0t3X8PVCDeD4tObTTWx9mH1PVHVWXB5f64VOmuM3600jHN36InUbySVCm3gzqty6SXCk3fC5K1jHy/RE5t5Jcz4L60u275ZnKTeTiRr9tLufwNQes4xbwadKjm742OSq7KyMxuRc6jf+EFwpt/6V1KOLvnYXEagcjS3dkddRLtXzuZyk3k4K6WNnYrXBoqWl5PT+nJVdorRexfCuu9CXdd8ImdVu2FwQVCDeC1+yJLhSbvhclf8x8v0RObeSXM+C+tLt/Zm3rk4aRoMuoPXjABqAAAAEzmktWB2UtFqzx1qvV+CatRyZBtjjXrLLKwAHbkAAAAAAAAN/pK3TK+Hnx5MASYuKImn3+mKzd8LBM6jf44PD9DW1XS8rH4PdCk3fC5PHlj/AJnbeJvxBpGlvKy9netLtu+WZylrk53I0dXS0Vp53MmEjX7aXc/gag9Zxi3g00jHN3xsclV2VkZjci51GyCoU28F6xj5fot1qByFJu7sjv3Eu39sic28kkq/S3W9chLXBcaW8rL2ddXS0Vp/RfCjoS7v0TOq3bC4IOwg3gtdHC4U2/C5K0jHN36InUbyS5nwX1qPbd8mcpa5OBItFvOADUACKtVRQHalRJas8VSo29WcnNt6sk2xxplllYADtyAAAAAAAAAAAAAKhJpprKPrU/qOta+uGfHNvpa3TK+Hn/TP+mFxbrGafUNI0t5WXs71pdt/P+Gcpa5PLuWrR1dLRWnncyCNVS0vJ6eNxqD1nGLeDToUe674OSq7RsvZmTci51G/C4IKhBvBekY+X6LcQJhTb8LkrrS7bvlkTqN5JJV+luylrk4kaRpbuyOuppaK087lvhQqaXd+jkquysjNsCulh1LXBcaW8rL2ddXS0Vp53F8KPtpd36Qdd7WRkBXS3nAMa1bSyz/DaItJmlVqvT+TxSlq9WGzhtjjTKcrAAdIAAAAAAAAAAAAAAAAAAD3fQ1v/L+P8PoRpbuyPhRlo9VlXPrUvqOtavO/g839cJjcNMJeh1Eu1fO5k2DSNLeVl7MtQ79ZpGv20u79IOrpaK087mRNyNJ1dbKyMzsYt4NOlRzd8F1B6mFNv/SupRxd87EzqN/4QSr9HZSbycOxi3g06VHN3xsW6Ewpt/jkrqUcXfJE6jZJKv0dlJvJxGkaW7sjv3Eu1fIvhQqWl5PTxuPvaYS0MmwK6W8FevpZZ/h5AD24xUMcpuQAHSAAAAAAAAAAAAAAAAAAAAAAa/TVemWu2/4AJMXFD7SnFdt/P+GcpN5APHVS3txGqp6Xk9PG5wHMzuiCVXZWRmAWIoEjVU0ryfxuASZ3RDkquysjMAsRQqFNvBeqji79AE9lfGcpt5OAHTkNVQfhHAcZZTDqIf/Z",class:ai(["ma-4",c]),height:"100",width:"200",onClick:l,cover:""},{default:x(()=>[Ce("div",pU,[m(W1,null,{default:x(()=>[a?(Ge(),Bt(Vt,{key:0,color:"white",size:"48",icon:"mdi-close-circle-outline"})):ka("",!0)]),_:2},1024)])]),_:2},1032,["class","onClick"])]),_:2},1024)),64))]),_:1},8,["modelValue"]),m(iy,null,{default:x(()=>[t.model!=null?(Ge(),Bt(xc,{key:0,height:"200"},{default:x(()=>[Ce("div",vU,[Ce("h3",yU," Selected "+dn(t.model),1)])]),_:1})):ka("",!0)]),_:1})]),_:1})}const bU=Vn(gU,[["render",wU]]);const _U=Tr({name:"VColorPickerCanvas",props:{color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Se()},emits:{"update:color":t=>!0,"update:position":t=>!0},setup(t,e){let{emit:n}=e;const r=z(!1),i=z(!1),s=z({x:0,y:0}),o=I(()=>{const{x:y,y:b}=s.value,v=parseInt(t.dotSize,10)/2;return{width:de(t.dotSize),height:de(t.dotSize),transform:`translate(${de(y-v)}, ${de(b-v)})`}}),a=z(),l=z(parseFloat(t.width)),c=z(parseFloat(t.height)),{resizeRef:u}=Sc(y=>{var T;if(!((T=u.value)!=null&&T.offsetParent))return;const{width:b,height:v}=y[0].contentRect;l.value=b,c.value=v});function d(y,b,v){const{left:T,top:S,width:A,height:C}=v;s.value={x:gr(y-T,0,A),y:gr(b-S,0,C)}}function h(y){t.disabled||!a.value||d(y.clientX,y.clientY,a.value.getBoundingClientRect())}function f(y){y.preventDefault(),!t.disabled&&(r.value=!0,window.addEventListener("mousemove",g),window.addEventListener("mouseup",p),window.addEventListener("touchmove",g),window.addEventListener("touchend",p))}function g(y){if(t.disabled||!a.value)return;r.value=!0;const b=TO(y);d(b.clientX,b.clientY,a.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",g),window.removeEventListener("touchend",p)}fe(s,()=>{var v,T;if(i.value){i.value=!1;return}if(!a.value)return;const{x:y,y:b}=s.value;n("update:color",{h:((v=t.color)==null?void 0:v.h)??0,s:gr(y,0,l.value)/l.value,v:1-gr(b,0,c.value)/c.value,a:((T=t.color)==null?void 0:T.a)??1})});function w(){var S;if(!a.value)return;const y=a.value,b=y.getContext("2d");if(!b)return;const v=b.createLinearGradient(0,0,y.width,0);v.addColorStop(0,"hsla(0, 0%, 100%, 1)"),v.addColorStop(1,`hsla(${((S=t.color)==null?void 0:S.h)??0}, 100%, 50%, 1)`),b.fillStyle=v,b.fillRect(0,0,y.width,y.height);const T=b.createLinearGradient(0,0,0,y.height);T.addColorStop(0,"hsla(0, 0%, 100%, 0)"),T.addColorStop(1,"hsla(0, 0%, 0%, 1)"),b.fillStyle=T,b.fillRect(0,0,y.width,y.height)}return fe(()=>{var y;return(y=t.color)==null?void 0:y.h},w,{immediate:!0}),fe(()=>[l.value,c.value],(y,b)=>{w(),s.value={x:s.value.x*y[0]/b[0],y:s.value.y*y[1]/b[1]}},{flush:"post"}),fe(()=>t.color,()=>{if(r.value){r.value=!1;return}i.value=!0,s.value=t.color?{x:t.color.s*l.value,y:(1-t.color.v)*c.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Yn(()=>w()),Ee(()=>m("div",{ref:u,class:["v-color-picker-canvas",t.class],style:t.style,onClick:h,onMousedown:f,onTouchstart:f},[m("canvas",{ref:a,width:l.value,height:c.value},null),t.color&&m("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":t.disabled}],style:o.value},null)])),{}}});function to(t,e){return e.every(n=>t.hasOwnProperty(n))}function CC(t){if(!t)return null;let e=null;if(typeof t=="string"){const n=I1(t);e=_1(n)}return typeof t=="object"&&(to(t,["r","g","b"])?e=Yv(t):to(t,["h","s","l"])?e=v1(t):to(t,["h","s","v"])&&(e=t)),e}function EU(t,e){if(e){const{a:n,...r}=t;return r}return t}function IU(t,e){if(e==null||typeof e=="string"){const n=E1(t);return t.a===1?n.slice(0,7):n}if(typeof e=="object"){let n;return to(e,["r","g","b"])?n=tf(t):to(e,["h","s","l"])?n=p1(t):to(e,["h","s","v"])&&(n=t),EU(n,!to(e,["a"])&&t.a===1)}return t}const rc={h:0,s:0,v:1,a:1},gp={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:t=>Math.round(t.r),getColor:(t,e)=>({...t,r:Number(e)})},{label:"G",max:255,step:1,getValue:t=>Math.round(t.g),getColor:(t,e)=>({...t,g:Number(e)})},{label:"B",max:255,step:1,getValue:t=>Math.round(t.b),getColor:(t,e)=>({...t,b:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:tf,from:Yv};var nS;const SU={...gp,inputs:(nS=gp.inputs)==null?void 0:nS.slice(0,3)},pp={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:t=>Math.round(t.h),getColor:(t,e)=>({...t,h:Number(e)})},{label:"S",max:1,step:.01,getValue:t=>Math.round(t.s*100)/100,getColor:(t,e)=>({...t,s:Number(e)})},{label:"L",max:1,step:.01,getValue:t=>Math.round(t.l*100)/100,getColor:(t,e)=>({...t,l:Number(e)})},{label:"A",max:1,step:.01,getValue:t=>{let{a:e}=t;return e?Math.round(e*100)/100:1},getColor:(t,e)=>({...t,a:Number(e)})}],to:p1,from:v1},TU={...pp,inputs:pp.inputs.slice(0,3)},AC={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:t=>t,getColor:(t,e)=>e}],to:E1,from:_1},CU={...AC,inputs:[{label:"HEX",getValue:t=>t.slice(0,7),getColor:(t,e)=>e}]},no={rgb:SU,rgba:gp,hsl:TU,hsla:pp,hex:CU,hexa:AC},AU=t=>{let{label:e,...n}=t;return m("div",{class:"v-color-picker-edit__input"},[m("input",n,null),m("span",null,[e])])},kU=Tr({name:"VColorPickerEdit",props:{color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(no).includes(t)},modes:{type:Array,default:()=>Object.keys(no),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(no).includes(e))},...Se()},emits:{"update:color":t=>!0,"update:mode":t=>!0},setup(t,e){let{emit:n}=e;const r=I(()=>t.modes.map(s=>({...no[s],name:s}))),i=I(()=>{var a;const s=r.value.find(l=>l.name===t.mode);if(!s)return[];const o=t.color?s.to(t.color):null;return(a=s.inputs)==null?void 0:a.map(l=>{let{getValue:c,getColor:u,...d}=l;return{...s.inputProps,...d,disabled:t.disabled,value:o&&c(o),onChange:h=>{const f=h.target;f&&n("update:color",s.from(u(o??rc,f.value)))}}})});return Ee(()=>{var s;return m("div",{class:["v-color-picker-edit",t.class],style:t.style},[(s=i.value)==null?void 0:s.map(o=>m(AU,o,null)),r.value.length>1&&m(et,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const o=r.value.findIndex(a=>a.name===t.mode);n("update:mode",r.value[(o+1)%r.value.length].name)}},null)])}),{}}});const Dy=Symbol.for("vuetify:v-slider");function RU(t,e,n){const r=n==="vertical",i=e.getBoundingClientRect(),s="touches"in t?t.touches[0]:t;return r?s.clientY-(i.top+i.height/2):s.clientX-(i.left+i.width/2)}function xU(t,e){return"touches"in t&&t.touches.length?t.touches[0][e]:"changedTouches"in t&&t.changedTouches.length?t.changedTouches[0][e]:t[e]}const PU=Ae({disabled:Boolean,error:Boolean,readonly:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:t=>typeof t=="boolean"||t==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:t=>typeof t=="boolean"||t==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:t=>["vertical","horizontal"].includes(t)},reverse:Boolean,...yn(),...Xn({elevation:2})},"slider"),NU=t=>{const e=I(()=>parseFloat(t.min)),n=I(()=>parseFloat(t.max)),r=I(()=>+t.step>0?parseFloat(t.step):0),i=I(()=>Math.max(_0(r.value),_0(e.value)));function s(o){if(r.value<=0)return o;const a=gr(o,e.value,n.value),l=e.value%r.value,c=Math.round((a-l)/r.value)*r.value+l;return parseFloat(Math.min(c,n.value).toFixed(i.value))}return{min:e,max:n,step:r,decimals:i,roundValue:s}},DU=t=>{let{props:e,steps:n,onSliderStart:r,onSliderMove:i,onSliderEnd:s,getActiveThumb:o}=t;const{isRtl:a}=Oo(),l=_e(e,"reverse"),c=I(()=>{let D=a.value?"rtl":"ltr";return e.reverse&&(D=D==="rtl"?"ltr":"rtl"),D}),{min:u,max:d,step:h,decimals:f,roundValue:g}=n,p=I(()=>parseInt(e.thumbSize,10)),w=I(()=>parseInt(e.tickSize,10)),y=I(()=>parseInt(e.trackSize,10)),b=I(()=>(d.value-u.value)/h.value),v=_e(e,"disabled"),T=I(()=>e.direction==="vertical"),S=I(()=>e.error||e.disabled?void 0:e.thumbColor??e.color),A=I(()=>e.error||e.disabled?void 0:e.trackColor??e.color),C=I(()=>e.error||e.disabled?void 0:e.trackFillColor??e.color),E=z(!1),R=z(0),O=z(),F=z();function P(D){var U;const G=e.direction==="vertical",ye=G?"top":"left",Be=G?"height":"width",ot=G?"clientY":"clientX",{[ye]:Le,[Be]:_}=(U=O.value)==null?void 0:U.$el.getBoundingClientRect(),k=xU(D,ot);let M=Math.min(Math.max((k-Le-R.value)/_,0),1)||0;return(G||c.value==="rtl")&&(M=1-M),g(u.value+M*(d.value-u.value))}const V=D=>{s({value:P(D)}),E.value=!1,R.value=0},W=D=>{F.value=o(D),F.value&&(F.value.focus(),E.value=!0,F.value.contains(D.target)?R.value=RU(D,F.value,e.direction):(R.value=0,i({value:P(D)})),r({value:P(D)}))},ae={passive:!0,capture:!0};function X(D){i({value:P(D)})}function K(D){D.stopPropagation(),D.preventDefault(),V(D),window.removeEventListener("mousemove",X,ae),window.removeEventListener("mouseup",K)}function Z(D){var G;V(D),window.removeEventListener("touchmove",X,ae),(G=D.target)==null||G.removeEventListener("touchend",Z)}function ie(D){var G;W(D),window.addEventListener("touchmove",X,ae),(G=D.target)==null||G.addEventListener("touchend",Z,{passive:!1})}function re(D){D.preventDefault(),W(D),window.addEventListener("mousemove",X,ae),window.addEventListener("mouseup",K,{passive:!1})}const ce=D=>{const G=(D-u.value)/(d.value-u.value)*100;return gr(isNaN(G)?0:G,0,100)},Ie=_e(e,"showTicks"),We=I(()=>Ie.value?e.ticks?Array.isArray(e.ticks)?e.ticks.map(D=>({value:D,position:ce(D),label:D.toString()})):Object.keys(e.ticks).map(D=>({value:parseFloat(D),position:ce(parseFloat(D)),label:e.ticks[D]})):b.value!==1/0?zv(b.value+1).map(D=>{const G=u.value+D*h.value;return{value:G,position:ce(G)}}):[]:[]),nt=I(()=>We.value.some(D=>{let{label:G}=D;return!!G})),B={activeThumbRef:F,color:_e(e,"color"),decimals:f,disabled:v,direction:_e(e,"direction"),elevation:_e(e,"elevation"),hasLabels:nt,horizontalDirection:c,isReversed:l,min:u,max:d,mousePressed:E,numTicks:b,onSliderMousedown:re,onSliderTouchstart:ie,parsedTicks:We,parseMouseMove:P,position:ce,readonly:_e(e,"readonly"),rounded:_e(e,"rounded"),roundValue:g,showTicks:Ie,startOffset:R,step:h,thumbSize:p,thumbColor:S,thumbLabel:_e(e,"thumbLabel"),ticks:_e(e,"ticks"),tickSize:w,trackColor:A,trackContainerRef:O,trackFillColor:C,trackSize:y,vertical:T};return rn(Dy,B),B},OU=ve()({name:"VSliderThumb",directives:{Ripple:au},props:{focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:Boolean,default:!0},...Se()},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n,emit:r}=e;const i=tt(Dy);if(!i)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:s,step:o,vertical:a,disabled:l,thumbSize:c,thumbLabel:u,direction:d,readonly:h,elevation:f,isReversed:g,horizontalDirection:p,mousePressed:w,decimals:y}=i,{textColorClasses:b,textColorStyles:v}=Qr(s),{pageup:T,pagedown:S,end:A,home:C,left:E,right:R,down:O,up:F}=_O,P=[T,S,A,C,E,R,O,F],V=I(()=>o.value?[1,2,3]:[1,5,10]);function W(X,K){if(!P.includes(X.key))return;X.preventDefault();const Z=o.value||.1,ie=(t.max-t.min)/Z;if([E,R,O,F].includes(X.key)){const ce=(p.value==="rtl"?[E,F]:[R,F]).includes(X.key)?1:-1,Ie=X.shiftKey?2:X.ctrlKey?1:0;K=K+ce*Z*V.value[Ie]}else if(X.key===C)K=t.min;else if(X.key===A)K=t.max;else{const re=X.key===S?1:-1;K=K-re*Z*(ie>100?ie/10:10)}return Math.max(t.min,Math.min(t.max,K))}function ae(X){const K=W(X,t.modelValue);K!=null&&r("update:modelValue",K)}return Ee(()=>{const X=de(a.value||g.value?100-t.position:t.position,"%"),{elevationClasses:K}=dr(I(()=>l.value?void 0:f.value));return m("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":t.focused,"v-slider-thumb--pressed":t.focused&&w.value},t.class],style:[{"--v-slider-thumb-position":X,"--v-slider-thumb-size":de(c.value)},t.style],role:"slider",tabindex:l.value?-1:0,"aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.modelValue,"aria-readonly":h.value,"aria-orientation":d.value,onKeydown:h.value?void 0:ae},[m("div",{class:["v-slider-thumb__surface",b.value,K.value],style:{...v.value}},null),sn(m("div",{class:["v-slider-thumb__ripple",b.value],style:v.value},null),[[Wr("ripple"),t.ripple,null,{circle:!0,center:!0}]]),m(W1,{origin:"bottom center"},{default:()=>{var Z;return[sn(m("div",{class:"v-slider-thumb__label-container"},[m("div",{class:["v-slider-thumb__label"]},[m("div",null,[((Z=n["thumb-label"])==null?void 0:Z.call(n,{modelValue:t.modelValue}))??t.modelValue.toFixed(o.value?y.value:1)])])]),[[No,u.value&&t.focused||u.value==="always"]])]}})])}),{}}});const LU=ve()({name:"VSliderTrack",props:{start:{type:Number,required:!0},stop:{type:Number,required:!0},...Se()},emits:{},setup(t,e){let{slots:n}=e;const r=tt(Dy);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:i,horizontalDirection:s,parsedTicks:o,rounded:a,showTicks:l,tickSize:c,trackColor:u,trackFillColor:d,trackSize:h,vertical:f,min:g,max:p}=r,{roundedClasses:w}=Cn(a),{backgroundColorClasses:y,backgroundColorStyles:b}=Kn(d),{backgroundColorClasses:v,backgroundColorStyles:T}=Kn(u),S=I(()=>`inset-${f.value?"block-end":"inline-start"}`),A=I(()=>f.value?"height":"width"),C=I(()=>({[S.value]:"0%",[A.value]:"100%"})),E=I(()=>t.stop-t.start),R=I(()=>({[S.value]:de(t.start,"%"),[A.value]:de(E.value,"%")})),O=I(()=>l.value?(f.value?o.value.slice().reverse():o.value).map((P,V)=>{var X;const W=f.value?"bottom":"margin-inline-start",ae=P.value!==g.value&&P.value!==p.value?de(P.position,"%"):void 0;return m("div",{key:P.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":P.position>=t.start&&P.position<=t.stop,"v-slider-track__tick--first":P.value===g.value,"v-slider-track__tick--last":P.value===p.value}],style:{[W]:ae}},[(P.label||n["tick-label"])&&m("div",{class:"v-slider-track__tick-label"},[((X=n["tick-label"])==null?void 0:X.call(n,{tick:P,index:V}))??P.label])])}):[]);return Ee(()=>m("div",{class:["v-slider-track",w.value,t.class],style:[{"--v-slider-track-size":de(h.value),"--v-slider-tick-size":de(c.value),direction:f.value?void 0:s.value},t.style]},[m("div",{class:["v-slider-track__background",v.value,{"v-slider-track__background--opacity":!!i.value||!d.value}],style:{...C.value,...T.value}},null),m("div",{class:["v-slider-track__fill",y.value],style:{...R.value,...b.value}},null),l.value&&m("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":l.value==="always"}]},[O.value])])),{}}}),q_=ve()({name:"VSlider",props:{...xy(),...PU(),...pu(),modelValue:{type:[Number,String],default:0}},emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,start:t=>!0,end:t=>!0},setup(t,e){let{slots:n,emit:r}=e;const i=z(),s=NU(t),o=Lt(t,"modelValue",void 0,S=>{const A=typeof S=="string"?parseFloat(S):S??s.min.value;return s.roundValue(A)}),{min:a,max:l,mousePressed:c,roundValue:u,onSliderMousedown:d,onSliderTouchstart:h,trackContainerRef:f,position:g,hasLabels:p,readonly:w}=DU({props:t,steps:s,onSliderStart:()=>{r("start",o.value)},onSliderEnd:S=>{let{value:A}=S;const C=u(A);o.value=C,r("end",C)},onSliderMove:S=>{let{value:A}=S;return o.value=u(A)},getActiveThumb:()=>{var S;return(S=i.value)==null?void 0:S.$el}}),{isFocused:y,focus:b,blur:v}=gu(t),T=I(()=>g(o.value));return Ee(()=>{const[S,A]=hs.filterProps(t),C=!!(t.label||n.label||n.prepend);return m(hs,Ke({class:["v-slider",{"v-slider--has-labels":!!n["tick-label"]||p.value,"v-slider--focused":y.value,"v-slider--pressed":c.value,"v-slider--disabled":t.disabled},t.class],style:t.style},S,{focused:y.value}),{...n,prepend:C?E=>{var R,O;return m(Me,null,[((R=n.label)==null?void 0:R.call(n,E))??t.label?m(EC,{id:E.id.value,class:"v-slider__label",text:t.label},null):void 0,(O=n.prepend)==null?void 0:O.call(n,E)])}:void 0,default:E=>{let{id:R,messagesId:O}=E;return m("div",{class:"v-slider__container",onMousedown:w.value?void 0:d,onTouchstartPassive:w.value?void 0:h},[m("input",{id:R.value,name:t.name||R.value,disabled:t.disabled,readonly:t.readonly,tabindex:"-1",value:o.value},null),m(LU,{ref:f,start:0,stop:T.value},{"tick-label":n["tick-label"]}),m(OU,{ref:i,"aria-describedby":O.value,focused:y.value,min:a.value,max:l.value,modelValue:o.value,"onUpdate:modelValue":F=>o.value=F,position:T.value,elevation:t.elevation,onFocus:b,onBlur:v},{"thumb-label":n["thumb-label"]})])}})}),{}}}),MU=Tr({name:"VColorPickerPreview",props:{color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Se()},emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return Ee(()=>{var r,i;return m("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":t.hideAlpha},t.class],style:t.style},[m("div",{class:"v-color-picker-preview__dot"},[m("div",{style:{background:y1(t.color??rc)}},null)]),m("div",{class:"v-color-picker-preview__sliders"},[m(q_,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(r=t.color)==null?void 0:r.h,"onUpdate:modelValue":s=>n("update:color",{...t.color??rc,h:s}),step:0,min:0,max:360,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!t.hideAlpha&&m(q_,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((i=t.color)==null?void 0:i.a)??1,"onUpdate:modelValue":s=>n("update:color",{...t.color??rc,a:s}),step:1/256,min:0,max:1,disabled:t.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}});const FU=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),VU=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),BU=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),UU=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),$U=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),zU=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),qU=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),jU=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),HU=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),KU=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),GU=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),WU=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),YU=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),QU=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),XU=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),JU=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),ZU=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),e$=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),t$=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),n$=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),r$=Object.freeze({red:FU,pink:VU,purple:BU,deepPurple:UU,indigo:$U,blue:zU,lightBlue:qU,cyan:jU,teal:HU,green:KU,lightGreen:GU,lime:WU,yellow:YU,amber:QU,orange:XU,deepOrange:JU,brown:ZU,blueGrey:e$,grey:t$,shades:n$});function i$(t){return Object.keys(t).map(e=>{const n=t[e];return n.base?[n.base,n.darken4,n.darken3,n.darken2,n.darken1,n.lighten1,n.lighten2,n.lighten3,n.lighten4,n.lighten5]:[n.black,n.white,n.transparent]})}const s$=Tr({name:"VColorPickerSwatches",props:{swatches:{type:Array,default:()=>i$(r$)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Se()},emits:{"update:color":t=>!0},setup(t,e){let{emit:n}=e;return Ee(()=>m("div",{class:["v-color-picker-swatches",t.class],style:[{maxHeight:de(t.maxHeight)},t.style]},[m("div",null,[t.swatches.map(r=>m("div",{class:"v-color-picker-swatches__swatch"},[r.map(i=>{const s=CC(i);return m("div",{class:"v-color-picker-swatches__color",onClick:()=>s&&n("update:color",s)},[m("div",{style:{background:i}},[t.color&&Zh(t.color,s)?m(Vt,{size:"x-small",icon:"$success",color:$O(i,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),o$=Tr({name:"VColorPicker",props:{canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:t=>Object.keys(no).includes(t)},modes:{type:Array,default:()=>Object.keys(no),validator:t=>Array.isArray(t)&&t.every(e=>Object.keys(no).includes(e))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...EO(vT({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},emits:{"update:modelValue":t=>!0,"update:mode":t=>!0},setup(t){const e=Lt(t,"mode"),n=z(null),r=Lt(t,"modelValue",void 0,s=>{let o=CC(s);return o?(n.value&&(o={...o,h:n.value.h},n.value=null),o):null},s=>s?IU(s,t.modelValue):null),i=s=>{r.value=s,n.value=s};return Yn(()=>{t.modes.includes(e.value)||(e.value=t.modes[0])}),ei({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Ee(()=>{const[s]=xc.filterProps(t);return m(xc,Ke({rounded:t.rounded,elevation:t.elevation,theme:t.theme,class:["v-color-picker",t.class],style:[{"--v-color-picker-color-hsv":y1({...r.value??rc,a:1})},t.style]},s,{maxWidth:t.width}),{default:()=>[!t.hideCanvas&&m(_U,{key:"canvas",color:r.value,"onUpdate:color":i,disabled:t.disabled,dotSize:t.dotSize,width:t.width,height:t.canvasHeight},null),(!t.hideSliders||!t.hideInputs)&&m("div",{key:"controls",class:"v-color-picker__controls"},[!t.hideSliders&&m(MU,{key:"preview",color:r.value,"onUpdate:color":i,hideAlpha:!e.value.endsWith("a"),disabled:t.disabled},null),!t.hideInputs&&m(kU,{key:"edit",modes:t.modes,mode:e.value,"onUpdate:mode":o=>e.value=o,color:r.value,"onUpdate:color":i,disabled:t.disabled},null)]),t.showSwatches&&m(s$,{key:"swatches",color:r.value,"onUpdate:color":i,maxHeight:t.swatchesMaxHeight,swatches:t.swatches,disabled:t.disabled},null)]})}),{}}});const kC=Symbol.for("vuetify:v-chip-group");ve()({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Zh},...Se(),...wy({selectedClass:"v-chip--selected"}),...ft(),...xt(),...Pi({variant:"tonal"})},emits:{"update:modelValue":t=>!0},setup(t,e){let{slots:n}=e;const{themeClasses:r}=Mt(t),{isSelected:i,select:s,next:o,prev:a,selected:l}=Ey(t,kC);return ei({VChip:{color:_e(t,"color"),disabled:_e(t,"disabled"),filter:_e(t,"filter"),variant:_e(t,"variant")}}),Ee(()=>m(t.tag,{class:["v-chip-group",{"v-chip-group--column":t.column},r.value,t.class],style:t.style},{default:()=>{var c;return[(c=n.default)==null?void 0:c.call(n,{isSelected:i,select:s,next:o,prev:a,selected:l.value})]}})),{}}});const a$=ve()({name:"VChip",directives:{Ripple:au},props:{activeClass:String,appendAvatar:String,appendIcon:Qe,closable:Boolean,closeIcon:{type:Qe,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Qe,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:qr(),onClickOnce:qr(),...Ni(),...Se(),...Cr(),...Xn(),...by(),...yn(),...cf(),...Mo(),...ft({tag:"span"}),...xt(),...Pi({variant:"tonal"})},emits:{"click:close":t=>!0,"update:modelValue":t=>!0,"group:selected":t=>!0,click:t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const{t:s}=nf(),{borderClasses:o}=Di(t),{colorClasses:a,colorStyles:l,variantClasses:c}=il(t),{densityClasses:u}=ti(t),{elevationClasses:d}=dr(t),{roundedClasses:h}=Cn(t),{sizeClasses:f}=nl(t),{themeClasses:g}=Mt(t),p=Lt(t,"modelValue"),w=_y(t,kC,!1),y=lf(t,n),b=I(()=>t.link!==!1&&y.isLink.value),v=I(()=>!t.disabled&&t.link!==!1&&(!!w||t.link||y.isClickable.value)),T=I(()=>({"aria-label":s(t.closeLabel),onClick(C){p.value=!1,r("click:close",C)}}));function S(C){var E;r("click",C),v.value&&((E=y.navigate)==null||E.call(y,C),w==null||w.toggle())}function A(C){(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),S(C))}return()=>{const C=y.isLink.value?"a":t.tag,E=!!(t.appendIcon||t.appendAvatar),R=!!(E||i.append),O=!!(i.close||t.closable),F=!!(i.filter||t.filter)&&w,P=!!(t.prependIcon||t.prependAvatar),V=!!(P||i.prepend),W=!w||w.isSelected.value;return p.value&&sn(m(C,{class:["v-chip",{"v-chip--disabled":t.disabled,"v-chip--label":t.label,"v-chip--link":v.value,"v-chip--filter":F,"v-chip--pill":t.pill},g.value,o.value,W?a.value:void 0,u.value,d.value,h.value,f.value,c.value,w==null?void 0:w.selectedClass.value,t.class],style:[W?l.value:void 0,t.style],disabled:t.disabled||void 0,draggable:t.draggable,href:y.href.value,tabindex:v.value?0:void 0,onClick:S,onKeydown:v.value&&!b.value&&A},{default:()=>{var ae;return[rl(v.value,"v-chip"),F&&m(Q1,{key:"filter"},{default:()=>[sn(m("div",{class:"v-chip__filter"},[i.filter?sn(m(Ot,{key:"filter-defaults",disabled:!t.filterIcon,defaults:{VIcon:{icon:t.filterIcon}}},null),[[Wr("slot"),i.filter,"default"]]):m(Vt,{key:"filter-icon",icon:t.filterIcon},null)]),[[No,w.isSelected.value]])]}),V&&m("div",{key:"prepend",class:"v-chip__prepend"},[i.prepend?m(Ot,{key:"prepend-defaults",disabled:!P,defaults:{VAvatar:{image:t.prependAvatar,start:!0},VIcon:{icon:t.prependIcon,start:!0}}},i.prepend):m(Me,null,[t.prependIcon&&m(Vt,{key:"prepend-icon",icon:t.prependIcon,start:!0},null),t.prependAvatar&&m(Ln,{key:"prepend-avatar",image:t.prependAvatar,start:!0},null)])]),((ae=i.default)==null?void 0:ae.call(i,{isSelected:w==null?void 0:w.isSelected.value,selectedClass:w==null?void 0:w.selectedClass.value,select:w==null?void 0:w.select,toggle:w==null?void 0:w.toggle,value:w==null?void 0:w.value.value,disabled:t.disabled}))??t.text,R&&m("div",{key:"append",class:"v-chip__append"},[i.append?m(Ot,{key:"append-defaults",disabled:!E,defaults:{VAvatar:{end:!0,image:t.appendAvatar},VIcon:{end:!0,icon:t.appendIcon}}},i.append):m(Me,null,[t.appendIcon&&m(Vt,{key:"append-icon",end:!0,icon:t.appendIcon},null),t.appendAvatar&&m(Ln,{key:"append-avatar",end:!0,image:t.appendAvatar},null)])]),O&&m("div",Ke({key:"close",class:"v-chip__close"},T.value),[i.close?m(Ot,{key:"close-defaults",defaults:{VIcon:{icon:t.closeIcon,size:"x-small"}}},i.close):m(Vt,{key:"close-icon",icon:t.closeIcon,size:"x-small"},null)])]}}),[[Wr("ripple"),v.value&&t.ripple,null]])}}}),l$=ve()({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:t=>typeof t=="boolean"||[1e3,1024].includes(t)},...pu({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:t=>ga(t).every(e=>e!=null&&typeof e=="object")},...Tf({clearable:!0})},emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{attrs:n,emit:r,slots:i}=e;const{t:s}=nf(),o=Lt(t,"modelValue"),{isFocused:a,focus:l,blur:c}=gu(t),u=I(()=>typeof t.showSize!="boolean"?t.showSize:void 0),d=I(()=>(o.value??[]).reduce((C,E)=>{let{size:R=0}=E;return C+R},0)),h=I(()=>I0(d.value,u.value)),f=I(()=>(o.value??[]).map(C=>{const{name:E="",size:R=0}=C;return t.showSize?`${E} (${I0(R,u.value)})`:E})),g=I(()=>{var E;const C=((E=o.value)==null?void 0:E.length)??0;return t.showSize?s(t.counterSizeString,C,h.value):s(t.counterString,C)}),p=z(),w=z(),y=z();function b(){var C;y.value!==document.activeElement&&((C=y.value)==null||C.focus()),a.value||l()}function v(C){S(C)}function T(C){r("mousedown:control",C)}function S(C){var E;(E=y.value)==null||E.click(),r("click:control",C)}function A(C){C.stopPropagation(),b(),Ht(()=>{o.value=[],Hv(t["onClick:clear"],C)})}return fe(o,C=>{(!Array.isArray(C)||!C.length)&&y.value&&(y.value.value="")}),Ee(()=>{const C=!!(i.counter||t.counter),E=!!(C||i.details),[R,O]=qv(n),[{modelValue:F,...P}]=hs.filterProps(t),[V]=Py(t);return m(hs,Ke({ref:p,modelValue:o.value,"onUpdate:modelValue":W=>o.value=W,class:["v-file-input",t.class],style:t.style,"onClick:prepend":v},R,P,{focused:a.value}),{...i,default:W=>{let{id:ae,isDisabled:X,isDirty:K,isReadonly:Z,isValid:ie}=W;return m(Cf,Ke({ref:w,"prepend-icon":t.prependIcon,onMousedown:T,onClick:S,"onClick:clear":A,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},V,{id:ae.value,active:K.value||a.value,dirty:K.value,disabled:X.value,focused:a.value,error:ie.value===!1}),{...i,default:re=>{var We;let{props:{class:ce,...Ie}}=re;return m(Me,null,[m("input",Ke({ref:y,type:"file",readonly:Z.value,disabled:X.value,multiple:t.multiple,name:t.name,onClick:nt=>{nt.stopPropagation(),b()},onChange:nt=>{if(!nt.target)return;const B=nt.target;o.value=[...B.files??[]]},onFocus:b,onBlur:c},Ie,O),null),m("div",{class:ce},[!!((We=o.value)!=null&&We.length)&&(i.selection?i.selection({fileNames:f.value,totalBytes:d.value,totalBytesReadable:h.value}):t.chips?f.value.map(nt=>m(a$,{key:nt,size:"small",color:t.color},{default:()=>[nt]})):f.value.join(", "))])])}})},details:E?W=>{var ae,X;return m(Me,null,[(ae=i.details)==null?void 0:ae.call(i,W),C&&m(Me,null,[m("span",null,null),m(Ny,{active:!!((X=o.value)!=null&&X.length),value:g.value},i.counter)])])}:void 0})}),mu({},p,w,y)}}),c$={data:()=>({dialog:!0}),components:{Background:bU}},u$=Ce("span",{class:"text-h5"},"",-1),d$=Ce("h3",null,"",-1),h$=Ce("small",null,"*indicates required field",-1);function f$(t,e,n,r,i,s){const o=Fr("Background");return Ge(),Bt(va,{modelValue:t.dialog,"onUpdate:modelValue":e[4]||(e[4]=a=>t.dialog=a),persistent:"",width:"1024"},{activator:x(({props:a})=>[m(et,{color:"primary",onClick:e[0]||(e[0]=l=>t.dialog=!1)},{default:x(()=>[ke("")]),_:1})]),default:x(()=>[m(xn,null,{default:x(()=>[m(Fo,null,{default:x(()=>[u$]),_:1}),m(If,null,{default:x(()=>[m(ds,null,{default:x(()=>[m(tr,null,{default:x(()=>[m(rt,{cols:"12"},{default:x(()=>[m(Zt,{label:"*",required:""})]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(Zt,{label:"",required:""})]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(Zt,{label:"",required:""})]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(SC,{label:""})]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(l$,{label:"",variant:"filled","prepend-icon":"mdi-image"})]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(Zt,{label:"Twitter",required:""})]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(Zt,{label:"Github",required:""})]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(Zt,{label:"Qiita",required:""})]),_:1}),m(rt,{cols:"12"},{default:x(()=>[m(Zt,{label:"URL",required:""})]),_:1}),m(rt,{cols:"4"},{default:x(()=>[d$,m(o$,{modelValue:t.c2,"onUpdate:modelValue":e[1]||(e[1]=a=>t.c2=a),"hide-inputs":"","show-swatches":""},null,8,["modelValue"])]),_:1}),m(rt,{cols:"8"},{default:x(()=>[m(o)]),_:1})]),_:1})]),_:1}),h$]),_:1}),m(Fa,null,{default:x(()=>[m(bC),m(et,{color:"blue-darken-1",variant:"text",onClick:e[2]||(e[2]=a=>t.dialog=!1)},{default:x(()=>[ke(" Close ")]),_:1}),m(et,{color:"blue-darken-1",variant:"text",onClick:e[3]||(e[3]=a=>t.dialog=!1)},{default:x(()=>[ke(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}const m$=Vn(c$,[["render",f$]]);const g$={data:()=>({cards:["Event1","Event2","Event3","Event4"],drawer:null,links:[["mdi-inbox-arrow-down","Inbox"],["mdi-send","Send"],["mdi-delete","Trash"],["mdi-alert-octagon","Spam"]],event_data:[{color:"cyan",startdate:"2023/4/29",enddate:"2023/4/29",eventname:"",text:"",loc:""},{color:"green",startdate:"2023/4/29",enddate:"2023/4/29",eventname:" vol4",text:"",loc:""},{color:"pink",startdate:"2023/4/29",enddate:"2023/4/29",eventname:" vol3",text:"",loc:""},{color:"amber",startdate:"2023/4/29",enddate:"2023/4/29",eventname:" vol2",text:"",loc:""},{color:"orange",startdate:"2023/4/29",enddate:"2023/4/29",eventname:" vol1",text:"",loc:""}],dialog:!1}),components:{Navbar:ay,EditProfile:m$}},p$=Ce("div",{class:"font-weight-bold ms-1 mb-2"},[Ce("h1",{class:"card-title"},"")],-1),v$={class:"d-flex flex-no-wrap justify-space-between"};function y$(t,e,n,r,i,s){const o=Fr("Navbar"),a=Fr("EditProfile");return Ge(),Bt(Lo,{id:"inspire"},{default:x(()=>[m(Ry,{modelValue:t.drawer,"onUpdate:modelValue":e[0]||(e[0]=l=>t.drawer=l)},{default:x(()=>[m(o)]),_:1},8,["modelValue"]),m(yy,null,{default:x(()=>[m(Ty,{onClick:e[1]||(e[1]=l=>t.drawer=!t.drawer)}),m(Ef,null,{default:x(()=>[ke("Event Passport")]),_:1})]),_:1}),m(ou,null,{default:x(()=>[m(xn,null,{default:x(()=>[m(_i,{height:"200",src:"https://cdn.pixabay.com/photo/2018/03/20/20/15/laptop-3244483_1280.jpg",cover:"",class:"text-white align-end",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)"},{default:x(()=>[p$,m(tr,{class:"justify-end"},{default:x(()=>[m(et,{size:"x-large",color:"white",variant:"text",icon:"mdi-qrcode-scan",class:"add-btn qr-btn"})]),_:1})]),_:1}),m(xn,{color:"#952175",theme:"dark",class:"profile-card",width:"425px",height:"260px"},{default:x(()=>[m(ty,{"aspect-ratio":5/3},{default:x(()=>[m(Fo,{class:"text-h5",style:{"margin-top":"10px"}},{default:x(()=>[ke("   ")]),_:1}),m(fu,{style:{"margin-top":"-10px","margin-left":"5px","margin-bottom":"5px"}},{default:x(()=>[ke("SDGs")]),_:1}),m(_i,{src:"https://cdn.vuetifyjs.com/images/cards/sunshine.jpg","aspect-ratio":"16/9",cover:""},{default:x(()=>[Ce("div",v$,[Ce("div",null,[m(Fa,null,{default:x(()=>[m(Ln,{class:"mb-4 profile-avatar",color:"grey-darken-1",size:"140"})]),_:1})]),m(Ln,{class:"mb-4 profile-qr",color:"grey-darken-1",size:"140",rounded:"0"})])]),_:1})]),_:1})]),_:1}),m(a)]),_:1})]),_:1})]),_:1})}const w$=Vn(g$,[["render",y$]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},b$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new _$;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E$=function(t){const e=RC(t);return xC.encodeByteArray(e,!0)},lh=function(t){return E$(t).replace(/\./g,"")},PC=function(t){try{return xC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ch(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!I$(n)||(t[n]=ch(t[n],e[n]));return t}function I$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=()=>S$().__FIREBASE_DEFAULTS__,C$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PC(t[1]);return e&&JSON.parse(e)},Oy=()=>{try{return T$()||C$()||A$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k$=()=>{var t;return(t=Oy())===null||t===void 0?void 0:t.config},R$=t=>{var e;return(e=Oy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[lh(JSON.stringify(n)),lh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function Af(){var t;const e=(t=Oy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N$(){return typeof self=="object"&&self.self===self}function DC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ly(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OC(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function D$(){return!Af()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dc(){try{return typeof indexedDB=="object"}catch{return!1}}function O$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="FirebaseError";class mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L$,Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?M$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mn(i,a,r)}}function M$(t,e){return t.replace(F$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const F$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function V$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(H_(s)&&H_(o)){if(!vp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function H_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ql(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function LC(t,e){const n=new B$(t,e);return n.subscribe.bind(n)}class B${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");U$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eg),i.error===void 0&&(i.error=eg),i.complete===void 0&&(i.complete=eg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t){return t&&t._delegate?t._delegate:t}class cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q$(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z$(t){return t===qs?void 0:t}function q$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=[];var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const MC={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},H$=$e.INFO,K$={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},G$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=K$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kf{constructor(e){this.name=e,this._logLevel=H$,this._logHandler=G$,this._userLogHandler=null,My.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}function W$(t){My.forEach(e=>{e.setLogLevel(t)})}function Y$(t,e){for(const n of My){let r=null;e&&e.level&&(r=MC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:$e[s].toLowerCase(),message:a,args:o,type:i.name})}}}const Q$=(t,e)=>e.some(n=>t instanceof n);let K_,G_;function X$(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J$(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FC=new WeakMap,yp=new WeakMap,VC=new WeakMap,tg=new WeakMap,Fy=new WeakMap;function Z$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FC.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function e4(t){if(yp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yp.set(t,e)}let wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t4(t){wp=t(wp)}function n4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return VC.set(r,e.sort?e.sort():[e]),cs(r)}:J$().includes(t)?function(...e){return t.apply(ng(this),e),cs(FC.get(this))}:function(...e){return cs(t.apply(ng(this),e))}}function r4(t){return typeof t=="function"?n4(t):(t instanceof IDBTransaction&&e4(t),Q$(t,X$())?new Proxy(t,wp):t)}function cs(t){if(t instanceof IDBRequest)return Z$(t);if(tg.has(t))return tg.get(t);const e=r4(t);return e!==t&&(tg.set(t,e),Fy.set(e,t)),e}const ng=t=>Fy.get(t);function i4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(cs(o.result),l.oldVersion,l.newVersion,cs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const s4=["get","getKey","getAll","getAllKeys","count"],o4=["put","add","delete","clear"],rg=new Map;function W_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=o4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return rg.set(e,s),s}t4(t=>({...t,get:(e,n,r)=>W_(e,n)||t.get(e,n,r),has:(e,n)=>!!W_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(l4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function l4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bp="@firebase/app",Y_="0.9.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new kf("@firebase/app"),c4="@firebase/app-compat",u4="@firebase/analytics-compat",d4="@firebase/analytics",h4="@firebase/app-check-compat",f4="@firebase/app-check",m4="@firebase/auth",g4="@firebase/auth-compat",p4="@firebase/database",v4="@firebase/database-compat",y4="@firebase/functions",w4="@firebase/functions-compat",b4="@firebase/installations",_4="@firebase/installations-compat",E4="@firebase/messaging",I4="@firebase/messaging-compat",S4="@firebase/performance",T4="@firebase/performance-compat",C4="@firebase/remote-config",A4="@firebase/remote-config-compat",k4="@firebase/storage",R4="@firebase/storage-compat",x4="@firebase/firestore",P4="@firebase/firestore-compat",N4="firebase",D4="9.21.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]",O4={[bp]:"fire-core",[c4]:"fire-core-compat",[d4]:"fire-analytics",[u4]:"fire-analytics-compat",[f4]:"fire-app-check",[h4]:"fire-app-check-compat",[m4]:"fire-auth",[g4]:"fire-auth-compat",[p4]:"fire-rtdb",[v4]:"fire-rtdb-compat",[y4]:"fire-fn",[w4]:"fire-fn-compat",[b4]:"fire-iid",[_4]:"fire-iid-compat",[E4]:"fire-fcm",[I4]:"fire-fcm-compat",[S4]:"fire-perf",[T4]:"fire-perf-compat",[C4]:"fire-rc",[A4]:"fire-rc-compat",[k4]:"fire-gcs",[R4]:"fire-gcs-compat",[x4]:"fire-fst",[P4]:"fire-fst-compat","fire-js":"fire-js",[N4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Map,Oc=new Map;function uh(t,e){try{t.container.addComponent(e)}catch(n){yo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function BC(t,e){t.container.addOrOverwriteComponent(e)}function Ei(t){const e=t.name;if(Oc.has(e))return yo.debug(`There were multiple attempts to register component ${e}.`),!1;Oc.set(e,t);for(const n of ms.values())uh(n,t);return!0}function UC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function L4(t,e,n=fs){UC(t,e).clearInstance(n)}function M4(){Oc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gi=new Vo("app","Firebase",F4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V4=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=D4;function Vy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=k$()),!n)throw gi.create("no-options");const s=ms.get(i);if(s){if(vp(n,s.options)&&vp(r,s.config))return s;throw gi.create("duplicate-app",{appName:i})}const o=new j$(i);for(const l of Oc.values())o.addComponent(l);const a=new V4(n,r,o);return ms.set(i,a),a}function B4(t=fs){const e=ms.get(t);if(!e&&t===fs)return Vy();if(!e)throw gi.create("no-app",{appName:t});return e}function U4(){return Array.from(ms.values())}async function $C(t){const e=t.name;ms.has(e)&&(ms.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function or(t,e,n){var r;let i=(r=O4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yo.warn(a.join(" "));return}Ei(new cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function zC(t,e){if(t!==null&&typeof t!="function")throw gi.create("invalid-log-argument");Y$(t,e)}function qC(t){W$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="firebase-heartbeat-database",z4=1,Lc="firebase-heartbeat-store";let ig=null;function jC(){return ig||(ig=i4($4,z4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lc)}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),ig}async function q4(t){try{return(await jC()).transaction(Lc).objectStore(Lc).get(HC(t))}catch(e){if(e instanceof mn)yo.warn(e.message);else{const n=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yo.warn(n.message)}}}async function Q_(t,e){try{const r=(await jC()).transaction(Lc,"readwrite");return await r.objectStore(Lc).put(e,HC(t)),r.done}catch(n){if(n instanceof mn)yo.warn(n.message);else{const r=gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yo.warn(r.message)}}}function HC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=1024,H4=30*24*60*60*1e3;class K4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=X_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=H4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=X_(),{heartbeatsToSend:n,unsentEntries:r}=G4(this._heartbeatsCache.heartbeats),i=lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function X_(){return new Date().toISOString().substring(0,10)}function G4(t,e=j4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),J_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dc()?O$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await q4(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J_(t){return lh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){Ei(new cr("platform-logger",e=>new a4(e),"PRIVATE")),Ei(new cr("heartbeat",e=>new K4(e),"PRIVATE")),or(bp,Y_,t),or(bp,Y_,"esm2017"),or("fire-js","")}Y4("");const Q4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:mn,SDK_VERSION:Oi,_DEFAULT_ENTRY_NAME:fs,_addComponent:uh,_addOrOverwriteComponent:BC,_apps:ms,_clearComponents:M4,_components:Oc,_getProvider:UC,_registerComponent:Ei,_removeServiceInstance:L4,deleteApp:$C,getApp:B4,getApps:U4,initializeApp:Vy,onLog:zC,registerVersion:or,setLogLevel:qC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this._delegate=e,this.firebase=n,uh(e,new cr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$C(this._delegate)))}_getService(e,n=fs){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=fs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){uh(this._delegate,e)}_addOrOverwriteComponent(e){BC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},Z_=new Vo("app-compat","Firebase",J4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:or,setLogLevel:qC,onLog:zC,apps:null,SDK_VERSION:Oi,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:Q4}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||fs,!j_(e,c))throw Z_.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const d=Vy(c,u);if(j_(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(Ei(c)&&c.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw Z_.create("invalid-app-argument",{appName:u});return f[d]()};c.serviceProps!==void 0&&ch(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,u).apply(this,c.multipleInstances?f:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){const t=Z4(X4);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:KC,extendNamespace:e,createSubscribe:LC,ErrorFactory:Vo,deepExtend:ch});function e(n){ch(t,n)}return t}const ez=KC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new kf("@firebase/app-compat"),tz="@firebase/app-compat",nz="0.2.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){or(tz,nz,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(N$()&&self.firebase!==void 0){eE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&eE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Li=ez;rz();var iz="firebase",sz="9.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li.registerVersion(iz,sz,"app-compat");var oz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oe,By=By||{},Re=oz||self;function dh(){}function Rf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function vu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function az(t){return Object.prototype.hasOwnProperty.call(t,sg)&&t[sg]||(t[sg]=++lz)}var sg="closure_uid_"+(1e9*Math.random()>>>0),lz=0;function cz(t,e,n){return t.call.apply(t.bind,arguments)}function uz(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function gn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gn=cz:gn=uz,gn.apply(null,arguments)}function id(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Yt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ks(){this.s=this.s,this.o=this.o}var dz=0;ks.prototype.s=!1;ks.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),dz!=0)&&az(this)};ks.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const GC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Uy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Rf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}pn.prototype.h=function(){this.defaultPrevented=!0};var hz=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Re.addEventListener("test",dh,e),Re.removeEventListener("test",dh,e)}catch{}return t}();function hh(t){return/^[\s\xa0]*$/.test(t)}var nE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function og(t,e){return t<e?-1:t>e?1:0}function xf(){var t=Re.navigator;return t&&(t=t.userAgent)?t:""}function Pr(t){return xf().indexOf(t)!=-1}function $y(t){return $y[" "](t),t}$y[" "]=dh;function WC(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var fz=Pr("Opera"),Va=Pr("Trident")||Pr("MSIE"),YC=Pr("Edge"),_p=YC||Va,QC=Pr("Gecko")&&!(xf().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),mz=xf().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge");function XC(){var t=Re.document;return t?t.documentMode:void 0}var fh;e:{var ag="",lg=function(){var t=xf();if(QC)return/rv:([^\);]+)(\)|;)/.exec(t);if(YC)return/Edge\/([\d\.]+)/.exec(t);if(Va)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mz)return/WebKit\/(\S+)/.exec(t);if(fz)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(lg&&(ag=lg?lg[1]:""),Va){var cg=XC();if(cg!=null&&cg>parseFloat(ag)){fh=String(cg);break e}}fh=ag}var gz={};function pz(){return WC(gz,9,function(){let t=0;const e=nE(String(fh)).split("."),n=nE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=og(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||og(i[2].length==0,s[2].length==0)||og(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Ep;if(Re.document&&Va){var rE=XC();Ep=rE||parseInt(fh,10)||void 0}else Ep=void 0;var vz=Ep;function Mc(t,e){if(pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(QC){e:{try{$y(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yz[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mc.$.h.call(this)}}Yt(Mc,pn);var yz={2:"touch",3:"pen",4:"mouse"};Mc.prototype.h=function(){Mc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yu="closure_listenable_"+(1e6*Math.random()|0),wz=0;function bz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++wz,this.fa=this.ia=!1}function Pf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function zy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function JC(t){const e={};for(const n in t)e[n]=t[n];return e}const iE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<iE.length;s++)n=iE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nf(t){this.src=t,this.g={},this.h=0}Nf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Sp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new bz(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ip(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=GC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Pf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Sp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var qy="closure_lm_"+(1e6*Math.random()|0),ug={};function eA(t,e,n,r,i){if(r&&r.once)return nA(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eA(t,e[s],n,r,i);return null}return n=Ky(n),t&&t[yu]?t.O(e,n,vu(r)?!!r.capture:!!r,i):tA(t,e,n,!1,r,i)}function tA(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=vu(i)?!!i.capture:!!i,a=Hy(t);if(a||(t[qy]=a=new Nf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=_z(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hz||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iA(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _z(){function t(n){return e.call(t.src,t.listener,n)}const e=Ez;return t}function nA(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nA(t,e[s],n,r,i);return null}return n=Ky(n),t&&t[yu]?t.P(e,n,vu(r)?!!r.capture:!!r,i):tA(t,e,n,!0,r,i)}function rA(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rA(t,e[s],n,r,i);else r=vu(r)?!!r.capture:!!r,n=Ky(n),t&&t[yu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Sp(s,n,r,i),-1<n&&(Pf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Sp(e,n,r,i)),(n=-1<t?e[t]:null)&&jy(n))}function jy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[yu])Ip(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iA(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hy(e))?(Ip(n,t),n.h==0&&(n.src=null,e[qy]=null)):Pf(t)}}}function iA(t){return t in ug?ug[t]:ug[t]="on"+t}function Ez(t,e){if(t.fa)t=!0;else{e=new Mc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&jy(t),t=n.call(r,e)}return t}function Hy(t){return t=t[qy],t instanceof Nf?t:null}var dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ky(t){return typeof t=="function"?t:(t[dg]||(t[dg]=function(e){return t.handleEvent(e)}),t[dg])}function Wt(){ks.call(this),this.i=new Nf(this),this.S=this,this.J=null}Yt(Wt,ks);Wt.prototype[yu]=!0;Wt.prototype.removeEventListener=function(t,e,n,r){rA(this,t,e,n,r)};function on(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new pn(e,t);else if(e instanceof pn)e.target=e.target||t;else{var i=e;e=new pn(r,t),ZC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=sd(o,r,!0,e)&&i}if(o=e.g=t,i=sd(o,r,!0,e)&&i,i=sd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=sd(o,r,!1,e)&&i}Wt.prototype.N=function(){if(Wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pf(n[r]);delete t.g[e],t.h--}}this.J=null};Wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function sd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ip(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Gy=Re.JSON.stringify;function Iz(){var t=aA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Sz{constructor(){this.h=this.g=null}add(e,n){const r=sA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var sA=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Tz,t=>t.reset());class Tz{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Cz(t){Re.setTimeout(()=>{throw t},0)}function oA(t,e){Tp||Az(),Cp||(Tp(),Cp=!0),aA.add(t,e)}var Tp;function Az(){var t=Re.Promise.resolve(void 0);Tp=function(){t.then(kz)}}var Cp=!1,aA=new Sz;function kz(){for(var t;t=Iz();){try{t.h.call(t.g)}catch(n){Cz(n)}var e=sA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cp=!1}function Df(t,e){Wt.call(this),this.h=t||1,this.g=e||Re,this.j=gn(this.qb,this),this.l=Date.now()}Yt(Df,Wt);oe=Df.prototype;oe.ga=!1;oe.T=null;oe.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),on(this,"tick"),this.ga&&(Wy(this),this.start()))}};oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}oe.N=function(){Df.$.N.call(this),Wy(this),delete this.g};function Yy(t,e,n){if(typeof t=="function")n&&(t=gn(t,n));else if(t&&typeof t.handleEvent=="function")t=gn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Re.setTimeout(t,e||0)}function lA(t){t.g=Yy(()=>{t.g=null,t.i&&(t.i=!1,lA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Rz extends ks{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lA(this)}N(){super.N(),this.g&&(Re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fc(t){ks.call(this),this.h=t,this.g={}}Yt(Fc,ks);var sE=[];function cA(t,e,n,r){Array.isArray(n)||(n&&(sE[0]=n.toString()),n=sE);for(var i=0;i<n.length;i++){var s=eA(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function uA(t){zy(t.g,function(e,n){this.g.hasOwnProperty(n)&&jy(e)},t),t.g={}}Fc.prototype.N=function(){Fc.$.N.call(this),uA(this)};Fc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Of(){this.g=!0}Of.prototype.Ea=function(){this.g=!1};function xz(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function Pz(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ua(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Dz(t,n)+(r?" "+r:"")})}function Nz(t,e){t.info(function(){return"TIMEOUT: "+e})}Of.prototype.info=function(){};function Dz(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Gy(n)}catch{return e}}var Bo={},oE=null;function Lf(){return oE=oE||new Wt}Bo.Ta="serverreachability";function dA(t){pn.call(this,Bo.Ta,t)}Yt(dA,pn);function Vc(t){const e=Lf();on(e,new dA(e))}Bo.STAT_EVENT="statevent";function hA(t,e){pn.call(this,Bo.STAT_EVENT,t),this.stat=e}Yt(hA,pn);function Sn(t){const e=Lf();on(e,new hA(e,t))}Bo.Ua="timingevent";function fA(t,e){pn.call(this,Bo.Ua,t),this.size=e}Yt(fA,pn);function wu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){t()},e)}var Mf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qy(){}Qy.prototype.h=null;function aE(t){return t.h||(t.h=t.i())}function gA(){}var bu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xy(){pn.call(this,"d")}Yt(Xy,pn);function Jy(){pn.call(this,"c")}Yt(Jy,pn);var Ap;function Ff(){}Yt(Ff,Qy);Ff.prototype.g=function(){return new XMLHttpRequest};Ff.prototype.i=function(){return{}};Ap=new Ff;function _u(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Fc(this),this.P=Oz,t=_p?125:void 0,this.V=new Df(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new pA}function pA(){this.i=null,this.g="",this.h=!1}var Oz=45e3,kp={},mh={};oe=_u.prototype;oe.setTimeout=function(t){this.P=t};function Rp(t,e,n){t.L=1,t.v=Bf(Ii(e)),t.s=n,t.S=!0,vA(t,null)}function vA(t,e){t.G=Date.now(),Eu(t),t.A=Ii(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),TA(n.i,"t",r),t.C=0,n=t.l.I,t.h=new pA,t.g=KA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Rz(gn(t.Pa,t,t.g),t.O)),cA(t.U,t.g,"readystatechange",t.nb),e=t.I?JC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Vc(),xz(t.j,t.u,t.A,t.m,t.W,t.s)}oe.nb=function(t){t=t.target;const e=this.M;e&&ci(t)==3?e.l():this.Pa(t)};oe.Pa=function(t){try{if(t==this.g)e:{const u=ci(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||_p||this.g&&(this.h.h||this.g.ja()||dE(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Vc(3):Vc(2)),Vf(this);var n=this.g.da();this.aa=n;t:if(yA(this)){var r=dE(this.g);t="";var i=r.length,s=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ro(this),ic(this);var o="";break t}this.h.i=new Re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Pz(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hh(a)){var c=a;break t}}c=null}if(n=c)ua(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xp(this,n);else{this.i=!1,this.o=3,Sn(12),ro(this),ic(this);break e}}this.S?(wA(this,u,o),_p&&this.i&&u==3&&(cA(this.U,this.V,"tick",this.mb),this.V.start())):(ua(this.j,this.m,o,null),xp(this,o)),u==4&&ro(this),this.i&&!this.J&&(u==4?zA(this.l,this):(this.i=!1,Eu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Sn(12)):(this.o=0,Sn(13)),ro(this),ic(this)}}}catch{}finally{}};function yA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function wA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Lz(t,n),i==mh){e==4&&(t.o=4,Sn(14),r=!1),ua(t.j,t.m,null,"[Incomplete Response]");break}else if(i==kp){t.o=4,Sn(15),ua(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ua(t.j,t.m,i,null),xp(t,i);yA(t)&&i!=mh&&i!=kp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),sw(e),e.L=!0,Sn(11))):(ua(t.j,t.m,n,"[Invalid Chunked Response]"),ro(t),ic(t))}oe.mb=function(){if(this.g){var t=ci(this.g),e=this.g.ja();this.C<e.length&&(Vf(this),wA(this,t,e),this.i&&t!=4&&Eu(this))}};function Lz(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?mh:(n=Number(e.substring(n,r)),isNaN(n)?kp:(r+=1,r+n>e.length?mh:(e=e.substr(r,n),t.C=r+n,e)))}oe.cancel=function(){this.J=!0,ro(this)};function Eu(t){t.Y=Date.now()+t.P,bA(t,t.P)}function bA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=wu(gn(t.lb,t),e)}function Vf(t){t.B&&(Re.clearTimeout(t.B),t.B=null)}oe.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Nz(this.j,this.A),this.L!=2&&(Vc(),Sn(17)),ro(this),this.o=2,ic(this)):bA(this,this.Y-t)};function ic(t){t.l.H==0||t.J||zA(t.l,t)}function ro(t){Vf(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,Wy(t.V),uA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function xp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pp(n.h,t))){if(!t.K&&Pp(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vh(n),zf(n);else break e;iw(n),Sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=wu(gn(n.ib,n),6e3));if(1>=kA(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else io(n,11)}else if((t.K||n.g==t)&&vh(n),!hh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.J=c[1],n.oa=c[2];const u=c[3];u!=null&&(n.qa=u,n.j.info("VER="+n.qa));const d=c[4];d!=null&&(n.Ga=d,n.j.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.h;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Zy(s,s.h),s.h=null))}if(r.F){const p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,mt(r.G,r.F,p))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=HA(r,r.I?r.oa:null,r.Y),o.K){RA(r.h,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Vf(a),Eu(a)),r.g=o}else UA(r);0<n.i.length&&qf(n)}else c[0]!="stop"&&c[0]!="close"||io(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?io(n,7):rw(n):c[0]!="noop"&&n.l&&n.l.Aa(c),n.A=0)}}Vc(4)}catch{}}function Mz(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Rf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Fz(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Rf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function _A(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Rf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Fz(t),r=Mz(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var EA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function uo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof uo){this.h=e!==void 0?e:t.h,gh(this,t.j),this.s=t.s,this.g=t.g,ph(this,t.m),this.l=t.l,e=t.i;var n=new Bc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),lE(this,n),this.o=t.o}else t&&(n=String(t).match(EA))?(this.h=!!e,gh(this,n[1]||"",!0),this.s=jl(n[2]||""),this.g=jl(n[3]||"",!0),ph(this,n[4]),this.l=jl(n[5]||"",!0),lE(this,n[6]||"",!0),this.o=jl(n[7]||"")):(this.h=!!e,this.i=new Bc(null,this.h))}uo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hl(e,cE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Hl(e,cE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Hl(n,n.charAt(0)=="/"?$z:Uz,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hl(n,qz)),t.join("")};function Ii(t){return new uo(t)}function gh(t,e,n){t.j=n?jl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ph(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function lE(t,e,n){e instanceof Bc?(t.i=e,jz(t.i,t.h)):(n||(e=Hl(e,zz)),t.i=new Bc(e,t.h))}function mt(t,e,n){t.i.set(e,n)}function Bf(t){return mt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function jl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Bz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bz(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var cE=/[#\/\?@]/g,Uz=/[#\?:]/g,$z=/[#\?]/g,zz=/[#\?@]/g,qz=/#/g;function Bc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Rs(t){t.g||(t.g=new Map,t.h=0,t.i&&Vz(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}oe=Bc.prototype;oe.add=function(t,e){Rs(this),this.i=null,t=al(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function IA(t,e){Rs(t),e=al(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function SA(t,e){return Rs(t),e=al(t,e),t.g.has(e)}oe.forEach=function(t,e){Rs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};oe.sa=function(){Rs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};oe.Z=function(t){Rs(this);let e=[];if(typeof t=="string")SA(this,t)&&(e=e.concat(this.g.get(al(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};oe.set=function(t,e){return Rs(this),this.i=null,t=al(this,t),SA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};oe.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function TA(t,e,n){IA(t,e),0<n.length&&(t.i=null,t.g.set(al(t,e),Uy(n)),t.h+=n.length)}oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function al(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jz(t,e){e&&!t.j&&(Rs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(IA(this,r),TA(this,i,n))},t)),t.j=e}var Hz=class{constructor(t,e){this.h=t,this.g=e}};function CA(t){this.l=t||Kz,Re.PerformanceNavigationTiming?(t=Re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Re.g&&Re.g.Ka&&Re.g.Ka()&&Re.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kz=10;function AA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kA(t){return t.h?1:t.g?t.g.size:0}function Pp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zy(t,e){t.g?t.g.add(e):t.h=e}function RA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}CA.prototype.cancel=function(){if(this.i=xA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function xA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Uy(t.i)}function ew(){}ew.prototype.stringify=function(t){return Re.JSON.stringify(t,void 0)};ew.prototype.parse=function(t){return Re.JSON.parse(t,void 0)};function Gz(){this.g=new ew}function Wz(t,e,n){const r=n||"";try{_A(t,function(i,s){let o=i;vu(i)&&(o=Gy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yz(t,e){const n=new Of;if(Re.Image){const r=new Image;r.onload=id(od,n,r,"TestLoadImage: loaded",!0,e),r.onerror=id(od,n,r,"TestLoadImage: error",!1,e),r.onabort=id(od,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=id(od,n,r,"TestLoadImage: timeout",!1,e),Re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function od(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Iu(t){this.l=t.fc||null,this.j=t.ob||!1}Yt(Iu,Qy);Iu.prototype.g=function(){return new Uf(this.l,this.j)};Iu.prototype.i=function(t){return function(){return t}}({});function Uf(t,e){Wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yt(Uf,Wt);var tw=0;oe=Uf.prototype;oe.open=function(t,e){if(this.readyState!=tw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Uc(this)};oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Su(this)),this.readyState=tw};oe.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Uc(this)),this.g&&(this.readyState=3,Uc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;PA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function PA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}oe.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Su(this):Uc(this),this.readyState==3&&PA(this)}};oe.Za=function(t){this.g&&(this.response=this.responseText=t,Su(this))};oe.Ya=function(t){this.g&&(this.response=t,Su(this))};oe.ka=function(){this.g&&Su(this)};function Su(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Uc(t)}oe.setRequestHeader=function(t,e){this.v.append(t,e)};oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Uc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Uf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Qz=Re.JSON.parse;function Et(t){Wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=NA,this.L=this.M=!1}Yt(Et,Wt);var NA="",Xz=/^https?$/i,Jz=["POST","PUT"];oe=Et.prototype;oe.Oa=function(t){this.M=t};oe.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ap.g(),this.C=this.u?aE(this.u):aE(Ap),this.g.onreadystatechange=gn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){uE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Re.FormData&&t instanceof Re.FormData,!(0<=GC(Jz,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{LA(this),0<this.B&&((this.L=Zz(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.ua,this)):this.A=Yy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){uE(this,s)}};function Zz(t){return Va&&pz()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}oe.ua=function(){typeof By<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))};function uE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,DA(t),$f(t)}function DA(t){t.F||(t.F=!0,on(t,"complete"),on(t,"error"))}oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,on(this,"complete"),on(this,"abort"),$f(this))};oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$f(this,!0)),Et.$.N.call(this)};oe.La=function(){this.s||(this.G||this.v||this.l?OA(this):this.kb())};oe.kb=function(){OA(this)};function OA(t){if(t.h&&typeof By<"u"&&(!t.C[1]||ci(t)!=4||t.da()!=2)){if(t.v&&ci(t)==4)Yy(t.La,0,t);else if(on(t,"readystatechange"),ci(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(EA)[1]||null;if(!i&&Re.self&&Re.self.location){var s=Re.self.location.protocol;i=s.substr(0,s.length-1)}r=!Xz.test(i?i.toLowerCase():"")}n=r}if(n)on(t,"complete"),on(t,"success");else{t.m=6;try{var o=2<ci(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",DA(t)}}finally{$f(t)}}}}function $f(t,e){if(t.g){LA(t);const n=t.g,r=t.C[0]?dh:null;t.g=null,t.C=null,e||on(t,"ready");try{n.onreadystatechange=r}catch{}}}function LA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Re.clearTimeout(t.A),t.A=null)}function ci(t){return t.g?t.g.readyState:0}oe.da=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}};oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};oe.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Qz(e)}};function dE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case NA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}oe.Ia=function(){return this.m};oe.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function MA(t){let e="";return zy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function nw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=MA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):mt(t,e,n))}function xl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function FA(t){this.Ga=0,this.i=[],this.j=new Of,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xl("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xl("baseRetryDelayMs",5e3,t),this.hb=xl("retryDelaySeedMs",1e4,t),this.eb=xl("forwardChannelMaxRetries",2,t),this.xa=xl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new CA(t&&t.concurrentRequestLimit),this.Ja=new Gz,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}oe=FA.prototype;oe.qa=8;oe.H=1;function rw(t){if(VA(t),t.H==3){var e=t.W++,n=Ii(t.G);mt(n,"SID",t.J),mt(n,"RID",e),mt(n,"TYPE","terminate"),Tu(t,n),e=new _u(t,t.j,e,void 0),e.L=2,e.v=Bf(Ii(n)),n=!1,Re.navigator&&Re.navigator.sendBeacon&&(n=Re.navigator.sendBeacon(e.v.toString(),"")),!n&&Re.Image&&(new Image().src=e.v,n=!0),n||(e.g=KA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Eu(e)}jA(t)}function zf(t){t.g&&(sw(t),t.g.cancel(),t.g=null)}function VA(t){zf(t),t.u&&(Re.clearTimeout(t.u),t.u=null),vh(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Re.clearTimeout(t.m),t.m=null)}function qf(t){AA(t.h)||t.m||(t.m=!0,oA(t.Na,t),t.C=0)}function e5(t,e){return kA(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=wu(gn(t.Na,t,e),qA(t,t.C)),t.C++,!0)}oe.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new _u(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=JC(s),ZC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=BA(this,i,e),n=Ii(this.G),mt(n,"RID",t),mt(n,"CVER",22),this.F&&mt(n,"X-HTTP-Session-Id",this.F),Tu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(MA(s)))+"&"+e:this.o&&nw(n,this.o,s)),Zy(this.h,i),this.bb&&mt(n,"TYPE","init"),this.P?(mt(n,"$req",e),mt(n,"SID","null"),i.ba=!0,Rp(i,n,null)):Rp(i,n,e),this.H=2}}else this.H==3&&(t?hE(this,t):this.i.length==0||AA(this.h)||hE(this))};function hE(t,e){var n;e?n=e.m:n=t.W++;const r=Ii(t.G);mt(r,"SID",t.J),mt(r,"RID",n),mt(r,"AID",t.V),Tu(t,r),t.o&&t.s&&nw(r,t.o,t.s),n=new _u(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=BA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Zy(t.h,n),Rp(n,r,e)}function Tu(t,e){t.ma&&zy(t.ma,function(n,r){mt(e,r,n)}),t.l&&_A({},function(n,r){mt(e,r,n)})}function BA(t,e,n){n=Math.min(t.i.length,n);var r=t.l?gn(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{Wz(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function UA(t){t.g||t.u||(t.ba=1,oA(t.Ma,t),t.A=0)}function iw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=wu(gn(t.Ma,t),qA(t,t.A)),t.A++,!0)}oe.Ma=function(){if(this.u=null,$A(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=wu(gn(this.jb,this),t)}};oe.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Sn(10),zf(this),$A(this))};function sw(t){t.B!=null&&(Re.clearTimeout(t.B),t.B=null)}function $A(t){t.g=new _u(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ii(t.wa);mt(e,"RID","rpc"),mt(e,"SID",t.J),mt(e,"CI",t.M?"0":"1"),mt(e,"AID",t.V),mt(e,"TYPE","xmlhttp"),Tu(t,e),t.o&&t.s&&nw(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Bf(Ii(e)),n.s=null,n.S=!0,vA(n,t)}oe.ib=function(){this.v!=null&&(this.v=null,zf(this),iw(this),Sn(19))};function vh(t){t.v!=null&&(Re.clearTimeout(t.v),t.v=null)}function zA(t,e){var n=null;if(t.g==e){vh(t),sw(t),t.g=null;var r=2}else if(Pp(t.h,e))n=e.F,RA(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Lf(),on(r,new fA(r,n)),qf(t)}else UA(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&e5(t,e)||r==2&&iw(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:io(t,5);break;case 4:io(t,10);break;case 3:io(t,6);break;default:io(t,2)}}}function qA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function io(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=gn(t.pb,t);n||(n=new uo("//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||gh(n,"https"),Bf(n)),Yz(n.toString(),r)}else Sn(2);t.H=0,t.l&&t.l.za(e),jA(t),VA(t)}oe.pb=function(t){t?(this.j.info("Successfully pinged google.com"),Sn(2)):(this.j.info("Failed to ping google.com"),Sn(1))};function jA(t){if(t.H=0,t.pa=[],t.l){const e=xA(t.h);(e.length!=0||t.i.length!=0)&&(tE(t.pa,e),tE(t.pa,t.i),t.h.i.length=0,Uy(t.i),t.i.length=0),t.l.ya()}}function HA(t,e,n){var r=n instanceof uo?Ii(n):new uo(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),ph(r,r.m);else{var i=Re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new uo(null,void 0);r&&gh(s,r),e&&(s.g=e),i&&ph(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&mt(r,n,e),mt(r,"VER",t.qa),Tu(t,r),r}function KA(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Et(new Iu({ob:!0})):new Et(t.va),e.Oa(t.I),e}function GA(){}oe=GA.prototype;oe.Ba=function(){};oe.Aa=function(){};oe.za=function(){};oe.ya=function(){};oe.Va=function(){};function yh(){if(Va&&!(10<=Number(vz)))throw Error("Environmental error: no available transport.")}yh.prototype.g=function(t,e){return new Gn(t,e)};function Gn(t,e){Wt.call(this),this.g=new FA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!hh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ll(this)}Yt(Gn,Wt);Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;Sn(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=HA(t,null,t.Y),qf(t)};Gn.prototype.close=function(){rw(this.g)};Gn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gy(t),t=n);e.i.push(new Hz(e.fb++,t)),e.H==3&&qf(e)};Gn.prototype.N=function(){this.g.l=null,delete this.j,rw(this.g),delete this.g,Gn.$.N.call(this)};function WA(t){Xy.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Yt(WA,Xy);function YA(){Jy.call(this),this.status=1}Yt(YA,Jy);function ll(t){this.g=t}Yt(ll,GA);ll.prototype.Ba=function(){on(this.g,"a")};ll.prototype.Aa=function(t){on(this.g,new WA(t))};ll.prototype.za=function(t){on(this.g,new YA)};ll.prototype.ya=function(){on(this.g,"b")};function t5(){this.blockSize=-1}function _r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Yt(_r,t5);_r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}_r.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)hg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hg(this,r),i=0;break}}this.h=i,this.i+=e};_r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Je(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var n5={};function ow(t){return-128<=t&&128>t?WC(n5,t,function(e){return new Je([e|0],0>e?-1:0)}):new Je([t|0],0>t?-1:0)}function Br(t){if(isNaN(t)||!isFinite(t))return ya;if(0>t)return en(Br(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Np;return new Je(e,0)}function QA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return en(QA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Br(Math.pow(e,8)),r=ya,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Br(Math.pow(e,s)),r=r.R(s).add(Br(o))):(r=r.R(n),r=r.add(Br(o)))}return r}var Np=4294967296,ya=ow(0),Dp=ow(1),fE=ow(16777216);oe=Je.prototype;oe.ea=function(){if(er(this))return-en(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Np+r)*e,e*=Np}return t};oe.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ui(this))return"0";if(er(this))return"-"+en(this).toString(t);for(var e=Br(Math.pow(t,6)),n=this,r="";;){var i=bh(n,e).g;n=wh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ui(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};oe.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ui(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function er(t){return t.h==-1}oe.X=function(t){return t=wh(this,t),er(t)?-1:ui(t)?0:1};function en(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Je(n,~t.h).add(Dp)}oe.abs=function(){return er(this)?en(this):this};oe.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Je(n,n[n.length-1]&-2147483648?-1:0)};function wh(t,e){return t.add(en(e))}oe.R=function(t){if(ui(this)||ui(t))return ya;if(er(this))return er(t)?en(this).R(en(t)):en(en(this).R(t));if(er(t))return en(this.R(en(t)));if(0>this.X(fE)&&0>t.X(fE))return Br(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,ad(n,2*r+2*i),n[2*r+2*i+1]+=s*l,ad(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ad(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ad(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Je(n,0)};function ad(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Pl(t,e){this.g=t,this.h=e}function bh(t,e){if(ui(e))throw Error("division by zero");if(ui(t))return new Pl(ya,ya);if(er(t))return e=bh(en(t),e),new Pl(en(e.g),en(e.h));if(er(e))return e=bh(t,en(e)),new Pl(en(e.g),e.h);if(30<t.g.length){if(er(t)||er(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dp,r=e;0>=r.X(t);)n=mE(n),r=mE(r);var i=Xo(n,1),s=Xo(r,1);for(r=Xo(r,2),n=Xo(n,2);!ui(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Xo(r,1),n=Xo(n,1)}return e=wh(t,i.R(e)),new Pl(i,e)}for(i=ya;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Br(n),o=s.R(e);er(o)||0<o.X(t);)n-=r,s=Br(n),o=s.R(e);ui(s)&&(s=Dp),i=i.add(s),t=wh(t,o)}return new Pl(i,t)}oe.gb=function(t){return bh(this,t).h};oe.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Je(n,this.h&t.h)};oe.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Je(n,this.h|t.h)};oe.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Je(n,this.h^t.h)};function mE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Je(n,t.h)}function Xo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Je(i,t.h)}yh.prototype.createWebChannel=yh.prototype.g;Gn.prototype.send=Gn.prototype.u;Gn.prototype.open=Gn.prototype.m;Gn.prototype.close=Gn.prototype.close;Mf.NO_ERROR=0;Mf.TIMEOUT=8;Mf.HTTP_ERROR=6;mA.COMPLETE="complete";gA.EventType=bu;bu.OPEN="a";bu.CLOSE="b";bu.ERROR="c";bu.MESSAGE="d";Wt.prototype.listen=Wt.prototype.O;Et.prototype.listenOnce=Et.prototype.P;Et.prototype.getLastError=Et.prototype.Sa;Et.prototype.getLastErrorCode=Et.prototype.Ia;Et.prototype.getStatus=Et.prototype.da;Et.prototype.getResponseJson=Et.prototype.Wa;Et.prototype.getResponseText=Et.prototype.ja;Et.prototype.send=Et.prototype.ha;Et.prototype.setWithCredentials=Et.prototype.Oa;_r.prototype.digest=_r.prototype.l;_r.prototype.reset=_r.prototype.reset;_r.prototype.update=_r.prototype.j;Je.prototype.add=Je.prototype.add;Je.prototype.multiply=Je.prototype.R;Je.prototype.modulo=Je.prototype.gb;Je.prototype.compare=Je.prototype.X;Je.prototype.toNumber=Je.prototype.ea;Je.prototype.toString=Je.prototype.toString;Je.prototype.getBits=Je.prototype.D;Je.fromNumber=Br;Je.fromString=QA;var r5=function(){return new yh},i5=function(){return Lf()},fg=Mf,s5=mA,o5=Bo,gE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},a5=Iu,ld=gA,l5=Et,c5=_r,wa=Je;const pE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="9.21.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new kf("@firebase/firestore");function Op(){return gs.logLevel}function u5(t){gs.setLogLevel(t)}function H(t,...e){if(gs.logLevel<=$e.DEBUG){const n=e.map(aw);gs.debug(`Firestore (${cl}): ${t}`,...n)}}function Tt(t,...e){if(gs.logLevel<=$e.ERROR){const n=e.map(aw);gs.error(`Firestore (${cl}): ${t}`,...n)}}function Er(t,...e){if(gs.logLevel<=$e.WARN){const n=e.map(aw);gs.warn(`Firestore (${cl}): ${t}`,...n)}}function aw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: `+t;throw Tt(e),new Error(e)}function pe(t,e){t||ue()}function d5(t,e){t||ue()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class f5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m5{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new XA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new jt(e)}}class g5{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class p5{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new g5(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pe(typeof n.token=="string"),this.T=n.token,new v5(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=w5(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function Ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function ZA(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new pt(0,0))}static max(){return new ge(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $c.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $c?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends $c{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const b5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends $c{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return b5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(ze.fromString(e))}static fromName(e){return new te(ze.fromString(e).popFirst(5))}static empty(){return new te(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Lp(t){return t.fields.find(e=>e.kind===2)}function js(t){return t.fields.filter(e=>e.kind!==2)}ek.UNKNOWN_ID=-1;class _5{constructor(e,n){this.fieldPath=e,this.kind=n}}class _h{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new _h(0,Wn.min())}}function tk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Wn(i,te.empty(),e)}function nk(t){return new Wn(t.readTime,t.key,-1)}class Wn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wn(ge.min(),te.empty(),-1)}static max(){return new Wn(ge.max(),te.empty(),-1)}}function lw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xs(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==rk)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new N((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):N.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):N.reject(n)}static resolve(e){return new N((n,r)=>{n(e)})}static reject(e){return new N((n,r)=>{r(e)})}static waitFor(e){return new N((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=N.resolve(!1);for(const r of e)n=n.next(i=>i?N.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new N((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new N((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.R=new Kt,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{n.error?this.R.reject(new sc(e,n.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=cw(r.target.error);this.R.reject(new sc(e,i))}}static open(e,n,r,i){try{return new jf(n,e.transaction(i,r))}catch(s){throw new sc(n,s)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(H("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new I5(n)}}class pr{constructor(e,n,r){this.name=e,this.version=n,this.V=r,pr.S(yt())===12.2&&Tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return H("SimpleDb","Removing database:",e),Ws(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Dc())return!1;if(pr.C())return!0;const e=yt(),n=pr.S(e),r=0<n&&n<10,i=pr.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(H("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new sc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new q(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new q(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new sc(e,o))},i.onupgradeneeded=s=>{H("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.$(o,i.transaction,s.oldVersion,this.version).next(()=>{H("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=jf.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.P(),c)).catch(c=>(a.abort(c),N.reject(c))).toPromise();return l.catch(()=>{}),await a.v,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(H("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class E5{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ws(this.L.delete())}}class sc extends q{constructor(e,n){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ps(t){return t.name==="IndexedDbTransactionError"}class I5{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(H("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(H("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ws(r)}add(e){return H("SimpleDb","ADD",this.store.name,e,e),Ws(this.store.add(e))}get(e){return Ws(this.store.get(e)).next(n=>(n===void 0&&(n=null),H("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return H("SimpleDb","DELETE",this.store.name,e),Ws(this.store.delete(e))}count(){return H("SimpleDb","COUNT",this.store.name),Ws(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new N((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new N((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){H("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new N((r,i)=>{n.onerror=s=>{const o=cw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new N((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new E5(a),c=n(a.primaryKey,a.value,l);if(c instanceof N){const u=c.catch(d=>(l.done(),N.reject(d)));r.push(u)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>N.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ws(t){return new N((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=cw(r.target.error);n(i)}})}let vE=!1;function cw(t){const e=pr.S(yt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vE||(vE=!0,setTimeout(()=>{throw r},0)),r}}return t}class S5{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){H("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{H("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){Ps(n)?H("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await xs(n)}await this.et(6e4)})}}class T5{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return N.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return H("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(H("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=nk(s);lw(o,r)>0&&(r=o)}),new Wn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Pn.ct=-1;function Cu(t){return t==null}function zc(t){return t===0&&1/t==-1/0}function sk(t){return typeof t=="number"&&Number.isInteger(t)&&!zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yE(e)),e=C5(t.get(n),e);return yE(e)}function C5(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function yE(t){return t+""}function Ur(t){const e=t.length;if(pe(e>=2),e===2)return pe(t.charAt(0)===""&&t.charAt(1)===""),ze.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&ue(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ue()}s=o+2}return new ze(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t,e){return[t,Tn(e)]}function ok(t,e,n){return[t,Tn(e),n]}const A5={},k5=["prefixPath","collectionGroup","readTime","documentId"],R5=["prefixPath","collectionGroup","documentId"],x5=["collectionGroup","readTime","prefixPath","documentId"],P5=["canonicalId","targetId"],N5=["targetId","path"],D5=["path","targetId"],O5=["collectionId","parent"],L5=["indexId","uid"],M5=["uid","sequenceNumber"],F5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],V5=["indexId","uid","orderedDocumentKey"],B5=["userId","collectionPath","documentId"],U5=["userId","collectionPath","largestBatchId"],$5=["userId","collectionGroup","largestBatchId"],ak=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],z5=[...ak,"documentOverlays"],lk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ck=lk,q5=[...ck,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends ik{constructor(e,n){super(),this.at=e,this.currentSequenceNumber=n}}function Qt(t,e){const n=se(t);return pr.M(n.at,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cd(this.root,e,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cd(this.root,e,this.comparator,!0)}}class cd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=s??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Jt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new ct(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new dk("Invalid base64 string: "+i):i}}(e);return new $t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const H5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(pe(!!t),typeof t=="string"){let e=0;const n=H5.exec(t);if(pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uw(t){const e=t.mapValue.fields.__previous_value__;return Hf(e)?uw(e):e}function qc(t){const e=ps(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ys{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ys("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ys&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nd={nullValue:"NULL_VALUE"};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hf(t)?4:hk(t)?9007199254740991:10:ue()}function Xr(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ps(r.timestampValue),o=ps(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return vs(r.bytesValue).isEqual(vs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=bt(r.doubleValue),o=bt(i.doubleValue);return s===o?zc(s)===zc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ba(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(bE(s)!==bE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Xr(s[a],o[a])))return!1;return!0}(t,e);default:return ue()}}function jc(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function ws(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=bt(i.integerValue||i.doubleValue),a=bt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return EE(t.timestampValue,e.timestampValue);case 4:return EE(qc(t),qc(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=vs(i),a=vs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Pe(o[l],a[l]);if(c!==0)return c}return Pe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Pe(bt(i.latitude),bt(s.latitude));return o!==0?o:Pe(bt(i.longitude),bt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=ws(o[l],a[l]);if(c)return c}return Pe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===rs.mapValue&&s===rs.mapValue)return 0;if(i===rs.mapValue)return 1;if(s===rs.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=Pe(a[u],c[u]);if(d!==0)return d;const h=ws(o[a[u]],l[c[u]]);if(h!==0)return h}return Pe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw ue()}}function EE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=ps(t),r=ps(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function Ua(t){return Fp(t)}function Fp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ps(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,te.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Fp(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Fp(r.fields[a])}`;return s+"}"}(t.mapValue):ue();var e,n}function bo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vp(t){return!!t&&"integerValue"in t}function Hc(t){return!!t&&"arrayValue"in t}function IE(t){return!!t&&"nullValue"in t}function SE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dd(t){return!!t&&"mapValue"in t}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function G5(t){return"nullValue"in t?Nd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?bo(ys.empty(),te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:ue()}function W5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?bo(ys.empty(),te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?rs:ue()}function TE(t,e){const n=ws(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function CE(t,e){const n=ws(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=oc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Uo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(oc(this.value))}}function fk(t){const e=[];return Uo(t.fields,(n,r)=>{const i=new Ct([n]);if(Dd(r)){const s=fk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new lt(e,0,ge.min(),ge.min(),ge.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new lt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new lt(e,2,n,ge.min(),ge.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new lt(e,3,n,ge.min(),ge.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.position=e,this.inclusive=n}}function AE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=ws(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function kE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{}class Ve extends mk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Q5(e,n,r):n==="array-contains"?new Z5(e,r):n==="in"?new bk(e,r):n==="not-in"?new eq(e,r):n==="array-contains-any"?new tq(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X5(e,r):new J5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ws(n,this.value)):n!==null&&wo(this.value)===wo(n)&&this.matchesComparison(ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xe extends mk{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Xe(e,n)}matches(e){return $a(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function $a(t){return t.op==="and"}function Bp(t){return t.op==="or"}function dw(t){return gk(t)&&$a(t)}function gk(t){for(const e of t.filters)if(e instanceof Xe)return!1;return!0}function Up(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Ua(t.value);if(dw(t))return t.filters.map(e=>Up(e)).join(",");{const e=t.filters.map(n=>Up(n)).join(",");return`${t.op}(${e})`}}function pk(t,e){return t instanceof Ve?function(n,r){return r instanceof Ve&&n.op===r.op&&n.field.isEqual(r.field)&&Xr(n.value,r.value)}(t,e):t instanceof Xe?function(n,r){return r instanceof Xe&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&pk(s,r.filters[o]),!0):!1}(t,e):void ue()}function vk(t,e){const n=t.filters.concat(e);return Xe.create(n,t.op)}function yk(t){return t instanceof Ve?function(e){return`${e.field.canonicalString()} ${e.op} ${Ua(e.value)}`}(t):t instanceof Xe?function(e){return e.op.toString()+" {"+e.getFilters().map(yk).join(" ,")+"}"}(t):"Filter"}class Q5 extends Ve{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class X5 extends Ve{constructor(e,n){super(e,"in",n),this.keys=wk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class J5 extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=wk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class Z5 extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hc(n)&&jc(n.arrayValue,this.value)}}class bk extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jc(this.value.arrayValue,n)}}class eq extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jc(this.value.arrayValue,n)}}class tq extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function $p(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nq(t,e,n,r,i,s,o)}function _o(t){const e=se(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Up(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Cu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ua(r)).join(",")),e.ft=n}return e.ft}function Au(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kE(t.startAt,e.startAt)&&kE(t.endAt,e.endAt)}function Eh(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ih(t,e){return t.filters.filter(n=>n instanceof Ve&&n.field.isEqual(e))}function RE(t,e,n){let r=Nd,i=!0;for(const s of Ih(t,e)){let o=Nd,a=!0;switch(s.op){case"<":case"<=":o=G5(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Nd}TE({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];TE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function xE(t,e,n){let r=rs,i=!0;for(const s of Ih(t,e)){let o=rs,a=!0;switch(s.op){case">=":case">":o=W5(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=rs}CE({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];CE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function _k(t,e,n,r,i,s,o,a){return new Mi(t,e,n,r,i,s,o,a)}function ul(t){return new Mi(t)}function PE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Kf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function fw(t){return t.collectionGroup!==null}function ho(t){const e=se(t);if(e.dt===null){e.dt=[];const n=Kf(e),r=hw(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new ba(n)),e.dt.push(new ba(Ct.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ba(Ct.keyField(),s))}}}return e.dt}function Mn(t){const e=se(t);if(!e._t)if(e.limitType==="F")e._t=$p(e.path,e.collectionGroup,ho(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ho(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ba(s.field,o))}const r=e.endAt?new bs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bs(e.startAt.position,e.startAt.inclusive):null;e._t=$p(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function zp(t,e){e.getFirstInequalityField(),Kf(t);const n=t.filters.concat([e]);return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sh(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ku(t,e){return Au(Mn(t),Mn(e))&&t.limitType===e.limitType}function Ek(t){return`${_o(Mn(t))}|lt:${t.limitType}`}function qp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>yk(r)).join(", ")}]`),Cu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ua(r)).join(",")),`Target(${n})`}(Mn(t))}; limitType=${t.limitType})`}function Ru(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):te.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ho(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=AE(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ho(n),r)||n.endAt&&!function(i,s,o){const a=AE(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ho(n),r))}(t,e)}function Ik(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Sk(t){return(e,n)=>{let r=!1;for(const i of ho(t)){const s=rq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function rq(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ws(a,l):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=new st(te.comparator);function Dn(){return iq}const Tk=new st(te.comparator);function Kl(...t){let e=Tk;for(const n of t)e=e.insert(n.key,n);return e}function Ck(t){let e=Tk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $r(){return ac()}function Ak(){return ac()}function ac(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const sq=new st(te.comparator),oq=new ct(te.comparator);function Ne(...t){let e=oq;for(const n of t)e=e.add(n);return e}const aq=new ct(Pe);function mw(){return aq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function Rk(t){return{integerValue:""+t}}function xk(t,e){return sk(e)?Rk(e):kk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function lq(t,e,n){return t instanceof za?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Hf(i)&&(i=uw(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Eo?Nk(t,e):t instanceof Io?Dk(t,e):function(r,i){const s=Pk(r,i),o=NE(s)+NE(r.wt);return Vp(s)&&Vp(r.wt)?Rk(o):kk(r.serializer,o)}(t,e)}function cq(t,e,n){return t instanceof Eo?Nk(t,e):t instanceof Io?Dk(t,e):n}function Pk(t,e){return t instanceof qa?Vp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class za extends Gf{}class Eo extends Gf{constructor(e){super(),this.elements=e}}function Nk(t,e){const n=Ok(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Io extends Gf{constructor(e){super(),this.elements=e}}function Dk(t,e){let n=Ok(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class qa extends Gf{constructor(e,n){super(),this.serializer=e,this.wt=n}}function NE(t){return bt(t.integerValue||t.doubleValue)}function Ok(t){return Hc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.field=e,this.transform=n}}function uq(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Eo&&r instanceof Eo||n instanceof Io&&r instanceof Io?Ba(n.elements,r.elements,Xr):n instanceof qa&&r instanceof qa?Xr(n.wt,r.wt):n instanceof za&&r instanceof za}(t.transform,e.transform)}class dq{constructor(e,n){this.version=e,this.transformResults=n}}class gt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gt}static exists(e){return new gt(void 0,e)}static updateTime(e){return new gt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wf{}function Lk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hl(t.key,gt.none()):new dl(t.key,t.data,gt.none());{const n=t.data,r=nn.empty();let i=new ct(Ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fi(t.key,r,new Nn(i.toArray()),gt.none())}}function hq(t,e,n){t instanceof dl?function(r,i,s){const o=r.value.clone(),a=OE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Fi?function(r,i,s){if(!Od(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=OE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Mk(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function lc(t,e,n,r){return t instanceof dl?function(i,s,o,a){if(!Od(i.precondition,s))return o;const l=i.value.clone(),c=LE(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fi?function(i,s,o,a){if(!Od(i.precondition,s))return o;const l=LE(i.fieldTransforms,a,s),c=s.data;return c.setAll(Mk(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,s,o){return Od(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function fq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Pk(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function DE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ba(n,r,(i,s)=>uq(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dl extends Wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fi extends Wf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Mk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OE(t,e,n){const r=new Map;pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cq(o,a,n[i]))}return r}function LE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,lq(s,o,e))}return r}class hl extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gw extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&hq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ak();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Lk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Ba(this.mutations,e.mutations,(n,r)=>DE(n,r))&&Ba(this.baseMutations,e.baseMutations,(n,r)=>DE(n,r))}}class vw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){pe(e.mutations.length===r.length);let i=sq;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Ue;function Fk(t){switch(t){default:return ue();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function Vk(t){if(t===void 0)return Tt("GRPC error has no .code"),L.UNKNOWN;switch(t){case Nt.OK:return L.OK;case Nt.CANCELLED:return L.CANCELLED;case Nt.UNKNOWN:return L.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return L.INTERNAL;case Nt.UNAVAILABLE:return L.UNAVAILABLE;case Nt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Nt.NOT_FOUND:return L.NOT_FOUND;case Nt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Nt.ABORTED:return L.ABORTED;case Nt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Nt.DATA_LOSS:return L.DATA_LOSS;default:return ue()}}(Ue=Nt||(Nt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ud}static getOrCreateInstance(){return ud===null&&(ud=new ww),ud}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let ud=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=new wa([4294967295,4294967295],0);function ME(t){const e=Bk().encode(t),n=new c5;return n.update(e),new Uint8Array(n.digest())}function FE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wa([n,r],0),new wa([i,s],0)]}class bw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(r<0)throw new Gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.yt=8*e.length-n,this.It=wa.fromNumber(this.yt)}Tt(e,n,r){let i=e.add(n.multiply(wa.fromNumber(r)));return i.compare(gq)===1&&(i=new wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}At(e){if(this.yt===0)return!1;const n=ME(e),[r,i]=FE(n);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);if(!this.Et(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.yt===0)return;const n=ME(e),[r,i]=FE(n);for(let s=0;s<this.hashCount;s++){const o=this.Tt(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pu(ge.min(),i,new st(Pe),Dn(),Ne())}}class Nu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i){this.vt=e,this.removedTargetIds=n,this.key=r,this.Pt=i}}class Uk{constructor(e,n){this.targetId=e,this.bt=n}}class $k{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VE{constructor(){this.Vt=0,this.St=UE(),this.Dt=$t.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return this.Vt!==0}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=Ne(),n=Ne(),r=Ne();return this.St.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Nu(this.Dt,this.Ct,e,n,r)}$t(){this.xt=!1,this.St=UE()}Ft(e,n){this.xt=!0,this.St=this.St.insert(e,n)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class pq{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Dn(),this.jt=BE(),this.zt=new st(Pe)}Wt(e){for(const n of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(n,e.Pt):this.Jt(n,e.key,e.Pt);for(const n of e.removedTargetIds)this.Jt(n,e.key,e.Pt)}Yt(e){this.forEachTarget(e,n=>{const r=this.Xt(n);switch(e.state){case 0:this.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(n);break;case 3:this.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(n)&&(this.te(n),r.Mt(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Gt.forEach((r,i)=>{this.Zt(i)&&n(i)})}ee(e){var n;const r=e.targetId,i=e.bt.count,s=this.ne(r);if(s){const o=s.target;if(Eh(o))if(i===0){const a=new te(o.path);this.Jt(r,a,lt.newNoDocument(a,ge.min()))}else pe(i===1);else{const a=this.se(r);if(a!==i){const l=this.ie(e,a);if(l!==0){this.te(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(r,c)}(n=ww.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,g,p,w,y;const b={localCacheCount:u,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(b.bloomFilter={applied:c===0,hashCount:(h=v==null?void 0:v.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(p=(g=(f=v==null?void 0:v.bits)===null||f===void 0?void 0:f.bitmap)===null||g===void 0?void 0:g.length)!==null&&p!==void 0?p:0,padding:(y=(w=v==null?void 0:v.bits)===null||w===void 0?void 0:w.padding)!==null&&y!==void 0?y:0}),b}(l,a,e.bt))}}}}ie(e,n){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=vs(s).toUint8Array()}catch(u){if(u instanceof dk)return Er("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new bw(l,o,a)}catch(u){return Er(u instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.yt===0?1:i!==n-this.re(e.targetId,c)?2:0}re(e,n){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Kt.oe(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.At(a)||(this.Jt(e,s,null),i++)}),i}ue(e){const n=new Map;this.Gt.forEach((s,o)=>{const a=this.ne(o);if(a){if(s.current&&Eh(a.target)){const l=new te(a.target.path);this.Qt.get(l)!==null||this.ce(o,l)||this.Jt(o,l,lt.newNoDocument(l,e))}s.kt&&(n.set(o,s.Ot()),s.$t())}});let r=Ne();this.jt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ne(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qt.forEach((s,o)=>o.setReadTime(e));const i=new Pu(e,n,this.zt,this.Qt,r);return this.Qt=Dn(),this.jt=BE(),this.zt=new st(Pe),i}Ht(e,n){if(!this.Zt(e))return;const r=this.ce(e,n.key)?2:0;this.Xt(e).Ft(n.key,r),this.Qt=this.Qt.insert(n.key,n),this.jt=this.jt.insert(n.key,this.ae(n.key).add(e))}Jt(e,n,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,n)?i.Ft(n,1):i.Bt(n),this.jt=this.jt.insert(n,this.ae(n).delete(e)),r&&(this.Qt=this.Qt.insert(n,r))}removeTarget(e){this.Gt.delete(e)}se(e){const n=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let n=this.Gt.get(e);return n||(n=new VE,this.Gt.set(e,n)),n}ae(e){let n=this.jt.get(e);return n||(n=new ct(Pe),this.jt=this.jt.insert(e,n)),n}Zt(e){const n=this.ne(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ne(e){const n=this.Gt.get(e);return n&&n.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new VE),this.Kt.getRemoteKeysForTarget(e).forEach(n=>{this.Jt(e,n,null)})}ce(e,n){return this.Kt.getRemoteKeysForTarget(e).has(n)}}function BE(){return new st(te.comparator)}function UE(){return new st(te.comparator)}const vq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),yq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),wq=(()=>({and:"AND",or:"OR"}))();class bq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jp(t,e){return t.useProto3Json||Cu(e)?e:{value:e}}function ja(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _q(t,e){return ja(t,e.toTimestamp())}function At(t){return pe(!!t),ge.fromTimestamp(function(e){const n=ps(e);return new pt(n.seconds,n.nanos)}(t))}function _w(t,e){return function(n){return new ze(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function qk(t){const e=ze.fromString(t);return pe(Jk(e)),e}function Kc(t,e){return _w(t.databaseId,e.path)}function Hr(t,e){const n=qk(e);if(n.get(1)!==t.databaseId.projectId)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(Hk(n))}function Hp(t,e){return _w(t.databaseId,e)}function jk(t){const e=qk(t);return e.length===4?ze.emptyPath():Hk(e)}function Gc(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hk(t){return pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $E(t,e,n){return{name:Kc(t,e),fields:n.value.mapValue.fields}}function Kk(t,e,n){const r=Hr(t,e.name),i=At(e.updateTime),s=e.createTime?At(e.createTime):ge.min(),o=new nn({mapValue:{fields:e.fields}}),a=lt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Eq(t,e){return"found"in e?function(n,r){pe(!!r.found),r.found.name,r.found.updateTime;const i=Hr(n,r.found.name),s=At(r.found.updateTime),o=r.found.createTime?At(r.found.createTime):ge.min(),a=new nn({mapValue:{fields:r.found.fields}});return lt.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){pe(!!r.missing),pe(!!r.readTime);const i=Hr(n,r.missing),s=At(r.readTime);return lt.newNoDocument(i,s)}(t,e):ue()}function Iq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(pe(c===void 0||typeof c=="string"),$t.fromBase64String(c||"")):(pe(c===void 0||c instanceof Uint8Array),$t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?L.UNKNOWN:Vk(l.code);return new q(c,l.message||"")}(o);n=new $k(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hr(t,r.document.name),s=At(r.document.updateTime),o=r.document.createTime?At(r.document.createTime):ge.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=lt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ld(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hr(t,r.document),s=r.readTime?At(r.readTime):ge.min(),o=lt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ld([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hr(t,r.document),s=r.removedTargetIds||[];n=new Ld([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mq(i,s),a=r.targetId;n=new Uk(a,o)}}return n}function Wc(t,e){let n;if(e instanceof dl)n={update:$E(t,e.key,e.value)};else if(e instanceof hl)n={delete:Kc(t,e.key)};else if(e instanceof Fi)n={update:$E(t,e.key,e.data),updateMask:Rq(e.fieldMask)};else{if(!(e instanceof gw))return ue();n={verify:Kc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof za)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Io)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof qa)return{fieldPath:s.field.canonicalString(),increment:o.wt};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:_q(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue()}(t,e.precondition)),n}function Kp(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?gt.updateTime(At(i.updateTime)):i.exists!==void 0?gt.exists(i.exists):gt.none()}(e.currentDocument):gt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)pe(o.setToServerValue==="REQUEST_TIME"),a=new za;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];a=new Eo(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];a=new Io(c)}else"increment"in o?a=new qa(s,o.increment):ue();const l=Ct.fromServerFormat(o.fieldPath);return new xu(l,a)}(t,i)):[];if(e.update){e.update.name;const i=Hr(t,e.update.name),s=new nn({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new Nn(l.map(c=>Ct.fromServerFormat(c)))}(e.updateMask);return new Fi(i,s,o,n,r)}return new dl(i,s,n,r)}if(e.delete){const i=Hr(t,e.delete);return new hl(i,n)}if(e.verify){const i=Hr(t,e.verify);return new gw(i,n)}return ue()}function Sq(t,e){return t&&t.length>0?(pe(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?At(r.updateTime):At(i);return s.isEqual(ge.min())&&(s=At(i)),new dq(s,r.transformResults||[])}(n,e))):[]}function Gk(t,e){return{documents:[Hp(t,e.path)]}}function Wk(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Hp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Hp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Xk(Xe.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:sa(u.field),direction:Cq(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=jp(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Yk(t){let e=jk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pe(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const d=Qk(u);return d instanceof Xe&&dw(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new ba(oa(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,Cu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,h=u.values||[];return new bs(h,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,h=u.values||[];return new bs(h,d)}(n.endAt)),_k(e,i,o,s,a,"F",l,c)}function Tq(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qk(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=oa(e.unaryFilter.field);return Ve.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=oa(e.unaryFilter.field);return Ve.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oa(e.unaryFilter.field);return Ve.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=oa(e.unaryFilter.field);return Ve.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(e){return Ve.create(oa(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Xe.create(e.compositeFilter.filters.map(n=>Qk(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ue()}}(e.compositeFilter.op))}(t):ue()}function Cq(t){return vq[t]}function Aq(t){return yq[t]}function kq(t){return wq[t]}function sa(t){return{fieldPath:t.canonicalString()}}function oa(t){return Ct.fromServerFormat(t.fieldPath)}function Xk(t){return t instanceof Ve?function(e){if(e.op==="=="){if(SE(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NAN"}};if(IE(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(SE(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NOT_NAN"}};if(IE(e.value))return{unaryFilter:{field:sa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(e.field),op:Aq(e.op),value:e.value}}}(t):t instanceof Xe?function(e){const n=e.getFilters().map(r=>Xk(r));return n.length===1?n[0]:{compositeFilter:{op:kq(e.op),filters:n}}}(t):ue()}function Rq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=$t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.le=e}}function xq(t,e){let n;if(e.document)n=Kk(t.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),i=To(e.noDocument.readTime);n=lt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ue();{const r=te.fromSegments(e.unknownDocument.path),i=To(e.unknownDocument.version);n=lt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new pt(r[0],r[1]);return ge.fromTimestamp(i)}(e.readTime)),n}function zE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Th(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:Kc(i,s.key),fields:s.data.value.mapValue.fields,updateTime:ja(i,s.version.toTimestamp()),createTime:ja(i,s.createTime.toTimestamp())}}(t.le,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:So(e.version)};else{if(!e.isUnknownDocument())return ue();r.unknownDocument={path:n.path.toArray(),version:So(e.version)}}return r}function Th(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function So(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function To(t){const e=new pt(t.seconds,t.nanoseconds);return ge.fromTimestamp(e)}function Ys(t,e){const n=(e.baseMutations||[]).map(s=>Kp(t.le,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Kp(t.le,s)),i=pt.fromMillis(e.localWriteTimeMs);return new pw(e.batchId,i,n,r)}function Wl(t){const e=To(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?To(t.lastLimboFreeSnapshotVersion):ge.min();let r;var i;return t.query.documents!==void 0?(pe((i=t.query).documents.length===1),r=Mn(ul(jk(i.documents[0])))):r=function(s){return Mn(Yk(s))}(t.query),new di(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,$t.fromBase64String(t.resumeToken))}function eR(t,e){const n=So(e.snapshotVersion),r=So(e.lastLimboFreeSnapshotVersion);let i;i=Eh(e.target)?Gk(t.le,e.target):Wk(t.le,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_o(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ew(t){const e=Yk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sh(e,e.limit,"L"):e}function mg(t,e){return new yw(e.largestBatchId,Kp(t.le,e.overlayMutation))}function qE(t,e){const n=e.path.lastSegment();return[t,Tn(e.path.popLast()),n]}function jE(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:So(r.readTime),documentKey:Tn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{getBundleMetadata(e,n){return HE(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:To(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return HE(e).put({bundleId:(r=n).id,createTime:So(At(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return KE(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Ew(i.bundledQuery),readTime:To(i.readTime)};var i})}saveNamedQuery(e,n){return KE(e).put(function(r){return{name:r.name,readTime:So(At(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function HE(t){return Qt(t,"bundles")}function KE(t){return Qt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n){this.serializer=e,this.userId=n}static fe(e,n){const r=n.uid||"";return new Yf(e,r)}getOverlay(e,n){return Nl(e).get(qE(this.userId,n)).next(r=>r?mg(this.serializer,r):null)}getOverlays(e,n){const r=$r();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new yw(n,o);i.push(this.de(e,a))}),N.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Tn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Nl(e).J("collectionPathOverlayIndex",a))}),N.waitFor(s)}getOverlaysForCollection(e,n,r){const i=$r(),s=Tn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Nl(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=mg(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=$r();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Nl(e).X({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=mg(this.serializer,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}de(e,n){return Nl(e).put(function(r,i,s){const[o,a,l]=qE(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Wc(r.le,s.mutation)}}(this.serializer,this.userId,n))}}function Nl(t){return Qt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){}_e(e,n){this.we(e,n),n.me()}we(e,n){if("nullValue"in e)this.ge(n,5);else if("booleanValue"in e)this.ge(n,10),n.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(n,15),n.ye(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.ge(n,13):(this.ge(n,15),zc(r)?n.ye(0):n.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(n,20),typeof r=="string"?n.pe(r):(n.pe(`${r.seconds||""}`),n.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,n),this.Te(n);else if("bytesValue"in e)this.ge(n,30),n.Ee(vs(e.bytesValue)),this.Te(n);else if("referenceValue"in e)this.Ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(n,45),n.ye(r.latitude||0),n.ye(r.longitude||0)}else"mapValue"in e?hk(e)?this.ge(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Te(n)):"arrayValue"in e?(this.ve(e.arrayValue,n),this.Te(n)):ue()}Ie(e,n){this.ge(n,25),this.Pe(e,n)}Pe(e,n){n.pe(e)}Re(e,n){const r=e.fields||{};this.ge(n,55);for(const i of Object.keys(r))this.Ie(i,n),this.we(r[i],n)}ve(e,n){const r=e.values||[];this.ge(n,50);for(const i of r)this.we(i,n)}Ae(e,n){this.ge(n,37),te.fromName(e).path.forEach(r=>{this.ge(n,60),this.Pe(r,n)})}ge(e,n){e.ye(n)}Te(e){e.ye(2)}}Qs.be=new Qs;function Nq(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function GE(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=Nq(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class Dq{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Se(r.value),r=n.next();this.De()}Ce(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.xe(r.value),r=n.next();this.Ne()}ke(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=n.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=n.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const n=this.$e(e),r=GE(n);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Be(e){const n=this.$e(e),r=GE(n);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Se(e){const n=255&e;n===0?(this.qe(0),this.qe(255)):n===255?(this.qe(255),this.qe(0)):this.qe(n)}xe(e){const n=255&e;n===0?(this.Ke(0),this.Ke(255)):n===255?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Oq{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class Lq{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class Dl{constructor(){this.Qe=new Dq,this.je=new Oq(this.Qe),this.ze=new Lq(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return e===0?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Xs(this.indexId,this.documentKey,this.arrayValue,r)}}function Ki(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=WE(t.arrayValue,e.arrayValue),n!==0?n:(n=WE(t.directionalValue,e.directionalValue),n!==0?n:te.comparator(t.documentKey,e.documentKey)))}function WE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){pe(e.collectionGroup===this.collectionId);const n=Lp(e);if(n!==void 0&&!this.tn(n))return!1;const r=js(e);let i=0,s=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(this.Xe!==void 0){const o=r[i];if(!this.en(this.Xe,o)||!this.nn(this.Je[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Je.length||!this.nn(this.Je[s++],o))return!1}return!0}tn(e){for(const n of this.Ye)if(this.en(n,e))return!0;return!1}en(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}nn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){var e,n;if(pe(t instanceof Ve||t instanceof Xe),t instanceof Ve){if(t instanceof bk){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ve.create(t.field,"==",s)))||[];return Xe.create(i,"or")}return t}const r=t.filters.map(i=>tR(i));return Xe.create(r,t.op)}function Fq(t){if(t.getFilters().length===0)return[];const e=Yp(tR(t));return pe(nR(e)),Gp(e)||Wp(e)?[e]:e.getFilters()}function Gp(t){return t instanceof Ve}function Wp(t){return t instanceof Xe&&dw(t)}function nR(t){return Gp(t)||Wp(t)||function(e){if(e instanceof Xe&&Bp(e)){for(const n of e.getFilters())if(!Gp(n)&&!Wp(n))return!1;return!0}return!1}(t)}function Yp(t){if(pe(t instanceof Ve||t instanceof Xe),t instanceof Ve)return t;if(t.filters.length===1)return Yp(t.filters[0]);const e=t.filters.map(r=>Yp(r));let n=Xe.create(e,t.op);return n=Ch(n),nR(n)?n:(pe(n instanceof Xe),pe($a(n)),pe(n.filters.length>1),n.filters.reduce((r,i)=>Iw(r,i)))}function Iw(t,e){let n;return pe(t instanceof Ve||t instanceof Xe),pe(e instanceof Ve||e instanceof Xe),n=t instanceof Ve?e instanceof Ve?function(r,i){return Xe.create([r,i],"and")}(t,e):YE(t,e):e instanceof Ve?YE(e,t):function(r,i){if(pe(r.filters.length>0&&i.filters.length>0),$a(r)&&$a(i))return vk(r,i.getFilters());const s=Bp(r)?r:i,o=Bp(r)?i:r,a=s.filters.map(l=>Iw(l,o));return Xe.create(a,"or")}(t,e),Ch(n)}function YE(t,e){if($a(e))return vk(e,t.getFilters());{const n=e.filters.map(r=>Iw(t,r));return Xe.create(n,"or")}}function Ch(t){if(pe(t instanceof Ve||t instanceof Xe),t instanceof Ve)return t;const e=t.getFilters();if(e.length===1)return Ch(e[0]);if(gk(t))return t;const n=e.map(i=>Ch(i)),r=[];return n.forEach(i=>{i instanceof Ve?r.push(i):i instanceof Xe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Xe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(){this.sn=new Sw}addToCollectionParentIndex(e,n){return this.sn.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.sn.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Wn.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Wn.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}}class Sw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new Uint8Array(0);class Bq{constructor(e,n){this.user=e,this.databaseId=n,this.rn=new Sw,this.on=new Ns(r=>_o(r),(r,i)=>Au(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.rn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.rn.add(n)});const s={collectionId:r,parent:Tn(i)};return QE(e).put(s)}return N.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[ZA(n),""],!1,!0);return QE(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Ur(o.parent))}return r})}addFieldIndex(e,n){const r=hd(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Ll(e);return s.next(a=>{o.put(jE(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=hd(e),i=Ll(e),s=Ol(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Ol(e);let i=!0;const s=new Map;return N.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Ne();const a=[];return N.forEach(s,(l,c)=>{var u;H("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${_o(n)}`);const d=function(v,T){const S=Lp(T);if(S===void 0)return null;for(const A of Ih(v,S.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null}(c,l),h=function(v,T){const S=new Map;for(const A of js(T))for(const C of Ih(v,A.fieldPath))switch(C.op){case"==":case"in":S.set(A.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return S.set(A.fieldPath.canonicalString(),C.value),Array.from(S.values())}return null}(c,l),f=function(v,T){const S=[];let A=!0;for(const C of js(T)){const E=C.kind===0?RE(v,C.fieldPath,v.startAt):xE(v,C.fieldPath,v.startAt);S.push(E.value),A&&(A=E.inclusive)}return new bs(S,A)}(c,l),g=function(v,T){const S=[];let A=!0;for(const C of js(T)){const E=C.kind===0?xE(v,C.fieldPath,v.endAt):RE(v,C.fieldPath,v.endAt);S.push(E.value),A&&(A=E.inclusive)}return new bs(S,A)}(c,l),p=this.an(l,c,f),w=this.an(l,c,g),y=this.hn(l,c,h),b=this.ln(l.indexId,d,p,f.inclusive,w,g.inclusive,y);return N.forEach(b,v=>r.H(v,n.limit).next(T=>{T.forEach(S=>{const A=te.fromSegments(S.documentKey);o.has(A)||(o=o.add(A),a.push(A))})}))}).next(()=>a)}return N.resolve(null)})}un(e){let n=this.on.get(e);return n||(e.filters.length===0?n=[e]:n=Fq(Xe.create(e.filters,"and")).map(r=>$p(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,n),n)}ln(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const h=n?this.fn(n[d/c]):dd,f=this.dn(e,h,r[d%c],i),g=this._n(e,h,s[d%c],o),p=a.map(w=>this.dn(e,h,w,!0));u.push(...this.createRange(f,g,p))}return u}dn(e,n,r,i){const s=new Xs(e,te.empty(),n,r);return i?s:s.He()}_n(e,n,r,i){const s=new Xs(e,te.empty(),n,r);return i?s.He():s}cn(e,n){const r=new Mq(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.Ze(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return N.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new ct(Ct.comparator),c=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?c=!0:l=l.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(l=l.add(u.field));return l.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}wn(e,n){const r=new Dl;for(const i of js(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.We(i.kind);Qs.be._e(s,o)}return r.Ge()}fn(e){const n=new Dl;return Qs.be._e(e,n.We(0)),n.Ge()}mn(e,n){const r=new Dl;return Qs.be._e(bo(this.databaseId,n),r.We(function(i){const s=js(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Ge()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new Dl);let s=0;for(const o of js(e)){const a=r[s++];for(const l of i)if(this.gn(n,o.fieldPath)&&Hc(a))i=this.yn(i,o,a);else{const c=l.We(o.kind);Qs.be._e(a,c)}}return this.pn(i)}an(e,n,r){return this.hn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ge();return n}yn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Dl;l.seed(a.Ge()),Qs.be._e(o,l.We(n.kind)),s.push(l)}return s}gn(e,n){return!!e.filters.find(r=>r instanceof Ve&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=hd(e),i=Ll(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return N.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,u){const d=u?new _h(u.sequenceNumber,new Wn(To(u.readTime),new te(Ur(u.documentKey)),u.largestBatchId)):_h.empty(),h=c.fields.map(([f,g])=>new _5(Ct.fromServerFormat(f),g));return new ek(c.indexId,c.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Pe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=hd(e),s=Ll(e);return this.In(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>N.forEach(a,l=>s.put(jE(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return N.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?N.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),N.forEach(a,l=>this.Tn(e,i,l).next(c=>{const u=this.En(s,l);return c.isEqual(u)?N.resolve():this.An(e,s,l,c,u)}))))})}Rn(e,n,r,i){return Ol(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Ol(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}Tn(e,n,r){const i=Ol(e);let s=new ct(Ki);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(o,a)=>{s=s.add(new Xs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}En(e,n){let r=new ct(Ki);const i=this.wn(n,e);if(i==null)return r;const s=Lp(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Hc(o))for(const a of o.arrayValue.values||[])r=r.add(new Xs(n.indexId,e.key,this.fn(a),i))}else r=r.add(new Xs(n.indexId,e.key,dd,i));return r}An(e,n,r,i,s){H("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,c,u,d){const h=a.getIterator(),f=l.getIterator();let g=Jo(h),p=Jo(f);for(;g||p;){let w=!1,y=!1;if(g&&p){const b=c(g,p);b<0?y=!0:b>0&&(w=!0)}else g!=null?y=!0:w=!0;w?(u(p),p=Jo(f)):y?(d(g),g=Jo(h)):(g=Jo(h),p=Jo(f))}}(i,s,Ki,a=>{o.push(this.Rn(e,n,r,a))},a=>{o.push(this.vn(e,n,r,a))}),N.waitFor(o)}In(e){let n=1;return Ll(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ki(o,a)).filter((o,a,l)=>!a||Ki(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ki(o,e),l=Ki(o,n);if(a===0)i[0]=e.He();else if(a>0&&l<0)i.push(o),i.push(o.He());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Pn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,dd,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,dd,[]];s.push(IDBKeyRange.bound(a,l))}return s}Pn(e,n){return Ki(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(XE)}getMinOffset(e,n){return N.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||ue())).next(XE)}}function QE(t){return Qt(t,"collectionParents")}function Ol(t){return Qt(t,"indexEntries")}function hd(t){return Qt(t,"indexConfiguration")}function Ll(t){return Qt(t,"indexState")}function XE(t){pe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;lw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(u,d,h)=>(a++,h.delete()));s.push(l.next(()=>{pe(a===1)}));const c=[];for(const u of n.mutations){const d=ok(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return N.waitFor(s).next(()=>c)}function Ah(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ue();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class Qf{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,n,r,i){pe(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Qf(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gi(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=aa(e),o=Gi(e);return o.add({}).next(a=>{pe(typeof a=="number");const l=new pw(a,n,r,i),c=function(h,f,g){const p=g.baseMutations.map(y=>Wc(h.le,y)),w=g.mutations.map(y=>Wc(h.le,y));return{userId:f,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:p,mutations:w}}(this.serializer,this.userId,l),u=[];let d=new ct((h,f)=>Pe(h.canonicalString(),f.canonicalString()));for(const h of i){const f=ok(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(o.put(c)),u.push(s.put(f,A5))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.bn[a]=l.keys()}),N.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Gi(e).get(n).next(r=>r?(pe(r.userId===this.userId),Ys(this.serializer,r)):null)}Vn(e,n){return this.bn[n]?N.resolve(this.bn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.bn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Gi(e).X({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(pe(a.batchId>=r),s=Ys(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Gi(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gi(e).j("userMutationsIndex",n).next(r=>r.map(i=>Ys(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Pd(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return aa(e).X({range:i},(o,a,l)=>{const[c,u,d]=o,h=Ur(u);if(c===this.userId&&n.path.isEqual(h))return Gi(e).get(d).next(f=>{if(!f)throw ue();pe(f.userId===this.userId),s.push(Ys(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Pe);const i=[];return n.forEach(s=>{const o=Pd(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=aa(e).X({range:a},(c,u,d)=>{const[h,f,g]=c,p=Ur(f);h===this.userId&&s.path.isEqual(p)?r=r.add(g):d.done()});i.push(l)}),N.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Pd(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new ct(Pe);return aa(e).X({range:o},(l,c,u)=>{const[d,h,f]=l,g=Ur(h);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(f)):u.done()}).next(()=>this.Sn(e,a))}Sn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Gi(e).get(s).next(o=>{if(o===null)throw ue();pe(o.userId===this.userId),r.push(Ys(this.serializer,o))}))}),N.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return rR(e.at,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Dn(n.batchId)}),N.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return N.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return aa(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Ur(s[1]);i.push(l)}else a.done()}).next(()=>{pe(i.length===0)})})}containsKey(e,n){return iR(e,this.userId,n)}Cn(e){return sR(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iR(t,e,n){const r=Pd(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return aa(t).X({range:s,Y:!0},(a,l,c)=>{const[u,d,h]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function Gi(t){return Qt(t,"mutations")}function aa(t){return Qt(t,"documentMutations")}function sR(t){return Qt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Co(0)}static kn(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Mn(e).next(n=>{const r=new Co(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(n=>ge.fromTimestamp(new pt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.$n(e,n).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.$n(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Zo(e).delete(n.targetId)).next(()=>this.Mn(e)).next(r=>(pe(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Zo(e).X((o,a)=>{const l=Wl(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>N.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Zo(e).X((r,i)=>{const s=Wl(i);n(s)})}Mn(e){return ZE(e).get("targetGlobalKey").next(n=>(pe(n!==null),n))}On(e,n){return ZE(e).put("targetGlobalKey",n)}$n(e,n){return Zo(e).put(eR(this.serializer,n))}Fn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=_o(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Zo(e).X({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Wl(a);Au(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Zi(e);return n.forEach(o=>{const a=Tn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),N.waitFor(i)}removeMatchingKeys(e,n,r){const i=Zi(e);return N.forEach(n,s=>{const o=Tn(s.path);return N.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Zi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Zi(e);let s=Ne();return i.X({range:r,Y:!0},(o,a,l)=>{const c=Ur(o[1]),u=new te(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=Tn(n.path),i=IDBKeyRange.bound([r],[ZA(r)],!1,!0);let s=0;return Zi(e).X({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}he(e,n){return Zo(e).get(n).next(r=>r?Wl(r):null)}}function Zo(t){return Qt(t,"targets")}function ZE(t){return Qt(t,"targetGlobal")}function Zi(t){return Qt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI([t,e],[n,r]){const i=Pe(t,n);return i===0?Pe(e,r):i}class $q{constructor(e){this.Bn=e,this.buffer=new ct(eI),this.Ln=0}qn(){return++this.Ln}Un(e){const n=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Kn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return this.Kn!==null}Gn(e){H("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Kn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ps(n)?H("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await xs(n)}await this.Gn(3e5)})}}class qq{constructor(e,n){this.Qn=e,this.params=n}calculateTargetCount(e,n){return this.Qn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return N.resolve(Pn.ct);const r=new $q(n);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Qn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Qn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),N.resolve(JE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),JE):this.Wn(e,n))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Op()<=$e.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),N.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function jq(t,e){return new qq(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n){this.db=e,this.garbageCollector=jq(this,n)}jn(e){const n=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Hn(e){let n=0;return this.zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}zn(e,n){return this.Jn(e,(r,i)=>n(i))}addReference(e,n,r){return fd(e,r)}removeReference(e,n,r){return fd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return fd(e,n)}Yn(e,n){return function(r,i){let s=!1;return sR(r).Z(o=>iR(r,o,i).next(a=>(a&&(s=!0),N.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Jn(e,(o,a)=>{if(a<=n){const l=this.Yn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ge.min()),Zi(e).delete([0,Tn(o.path)])))});i.push(l)}}).next(()=>N.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return fd(e,n)}Jn(e,n){const r=Zi(e);let i,s=Pn.ct;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Pn.ct&&n(new te(Ur(i)),s),s=c,i=l):s=Pn.ct}).next(()=>{s!==Pn.ct&&n(new te(Ur(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fd(t,e){return Zi(t).put(function(n,r){return{targetId:0,path:Tn(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $s(e).put(r)}removeEntry(e,n,r){return $s(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Th(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Xn(e,r)))}getEntry(e,n){let r=lt.newInvalidDocument(n);return $s(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ml(n))},(i,s)=>{r=this.Zn(n,s)}).next(()=>r)}ts(e,n){let r={size:0,document:lt.newInvalidDocument(n)};return $s(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ml(n))},(i,s)=>{r={document:this.Zn(n,s),size:Ah(s)}}).next(()=>r)}getEntries(e,n){let r=Dn();return this.es(e,n,(i,s)=>{const o=this.Zn(i,s);r=r.insert(i,o)}).next(()=>r)}ns(e,n){let r=Dn(),i=new st(te.comparator);return this.es(e,n,(s,o)=>{const a=this.Zn(s,o);r=r.insert(s,a),i=i.insert(s,Ah(o))}).next(()=>({documents:r,ss:i}))}es(e,n,r){if(n.isEmpty())return N.resolve();let i=new ct(rI);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Ml(i.first()),Ml(i.last())),o=i.getIterator();let a=o.getNext();return $s(e).X({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=te.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&rI(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.G(Ml(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Th(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $s(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let c=Dn();for(const u of l){const d=this.Zn(te.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(Ru(n,d)||i.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=Dn();const o=nI(n,r),a=nI(n,Wn.max());return $s(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.Zn(te.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new Gq(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return tI(e).get("remoteDocumentGlobalKey").next(n=>(pe(!!n),n))}Xn(e,n){return tI(e).put("remoteDocumentGlobalKey",n)}Zn(e,n){if(n){const r=xq(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ge.min())))return r}return lt.newInvalidDocument(e)}}function aR(t){return new Kq(t)}class Gq extends oR{constructor(e,n){super(),this.rs=e,this.trackRemovals=n,this.os=new Ns(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new ct((s,o)=>Pe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.os.get(s);if(n.push(this.rs.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=zE(this.rs.serializer,o);i=i.add(s.path.popLast());const c=Ah(l);r+=c-a.size,n.push(this.rs.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=zE(this.rs.serializer,o.convertToNoDocument(ge.min()));n.push(this.rs.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.rs.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.rs.updateMetadata(e,r)),N.waitFor(n)}getFromCache(e,n){return this.rs.ts(e,n).next(r=>(this.os.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.rs.ns(e,n).next(({documents:r,ss:i})=>(i.forEach((s,o)=>{this.os.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function tI(t){return Qt(t,"remoteDocumentGlobal")}function $s(t){return Qt(t,"remoteDocumentsV14")}function Ml(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function nI(t,e){const n=e.documentKey.path.toArray();return[t,Th(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Pe(n[s],r[s]),i)return i;return i=Pe(n.length,r.length),i||(i=Pe(n[n.length-2],r[r.length-2]),i||Pe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lc(r.mutation,i,Nn.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=$r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Kl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dn();const o=ac(),a=ac();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Fi)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),lc(u.mutation,c,u.mutation.getFieldMask(),pt.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Wq(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ac();let i=new st((o,a)=>o-a),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Nn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Ak();u.forEach(h=>{if(!s.has(h)){const f=Lk(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return N.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):N.resolve($r());let a=-1,l=s;return o.next(c=>N.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?N.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ne())).next(u=>({batchId:a,changes:Ck(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Kl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Kl();return this.indexManager.getCollectionParents(e,i).next(o=>N.forEach(o,a=>{const l=function(c,u){return new Mi(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,lt.newInvalidDocument(c)))});let o=Kl();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&lc(c.mutation,l,Nn.empty(),pt.now()),Ru(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,n){return N.resolve(this.us.get(n))}saveBundleMetadata(e,n){var r;return this.us.set(n.id,{id:(r=n).id,version:r.version,createTime:At(r.createTime)}),N.resolve()}getNamedQuery(e,n){return N.resolve(this.cs.get(n))}saveNamedQuery(e,n){return this.cs.set(n.name,function(r){return{name:r.name,query:Ew(r.bundledQuery),readTime:At(r.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this.overlays=new st(te.comparator),this.hs=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$r();return N.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.de(e,n,s)}),N.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hs.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hs.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){const i=$r(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new st((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=$r(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=$r(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return N.resolve(a)}de(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new yw(n,r));let s=this.hs.get(n);s===void 0&&(s=Ne(),this.hs.set(n,s)),this.hs.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.ls=new ct(qt.fs),this.ds=new ct(qt._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,n){const r=new qt(e,n);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gs(new qt(e,n))}ys(e,n){e.forEach(r=>this.removeReference(r,n))}ps(e){const n=new te(new ze([])),r=new qt(n,e),i=new qt(n,e+1),s=[];return this.ds.forEachInRange([r,i],o=>{this.gs(o),s.push(o.key)}),s}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const n=new te(new ze([])),r=new qt(n,e),i=new qt(n,e+1);let s=Ne();return this.ds.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new qt(e,0),r=this.ls.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Es=n}static fs(e,n){return te.comparator(e.key,n.key)||Pe(e.Es,n.Es)}static _s(e,n){return Pe(e.Es,n.Es)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new ct(qt.fs)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new qt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(e,n){return N.resolve(this.vs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ps(r),s=i<0?0:i;return N.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.As-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),i=new qt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.vs(o.Es);s.push(a)}),N.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Pe);return n.forEach(i=>{const s=new qt(i,0),o=new qt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.Es)})}),N.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new qt(new te(s),0);let a=new ct(Pe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Es)),!0)},o),N.resolve(this.bs(a))}bs(e){const n=[];return e.forEach(r=>{const i=this.vs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){pe(this.Vs(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return N.forEach(n.mutations,i=>{const s=new qt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,n){const r=new qt(n,0),i=this.Rs.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Vs(e,n){return this.Ps(e)}Ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}vs(e){const n=this.Ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e){this.Ss=e,this.docs=new st(te.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ss(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():lt.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Dn();const o=n.path,a=new te(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lw(nk(u),r)<=0||(i.has(u.key)||Ru(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return N.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Ds(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Zq(this)}getSize(e){return N.resolve(this.size)}}class Zq extends oR{constructor(e){super(),this.rs=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.rs.getEntry(e,n)}getAllFromCache(e,n){return this.rs.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.persistence=e,this.Cs=new Ns(n=>_o(n),Au),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Tw,this.targetCount=0,this.ks=Co.Nn()}forEachTarget(e,n){return this.Cs.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.xs&&(this.xs=n),N.resolve()}$n(e){this.Cs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ks=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,n){return this.$n(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.$n(n),N.resolve()}removeTargetData(e,n){return this.Cs.delete(n.target),this.Ns.ps(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Cs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Cs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(s).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){const r=this.Cs.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Ns.ws(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Ns.ys(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),N.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ns.ps(n),N.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ns.Ts(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Ns.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.Ms={},this.overlays={},this.Os=new Pn(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new e6(this),this.indexManager=new Vq,this.remoteDocumentCache=function(r){return new Jq(r)}(r=>this.referenceDelegate.Bs(r)),this.serializer=new Zk(n),this.Ls=new Yq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ms[e.toKey()];return r||(r=new Xq(n,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new t6(this.Os.next());return this.referenceDelegate.qs(),r(i).next(s=>this.referenceDelegate.Us(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ks(e,n){return N.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,n)))}}class t6 extends ik{constructor(e){super(),this.currentSequenceNumber=e}}class Xf{constructor(e){this.persistence=e,this.Gs=new Tw,this.Qs=null}static js(e){return new Xf(e)}get zs(){if(this.Qs)return this.Qs;throw ue()}addReference(e,n,r){return this.Gs.addReference(r,n),this.zs.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Gs.removeReference(r,n),this.zs.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.zs.add(n.toString()),N.resolve()}removeTarget(e,n){this.Gs.ps(n.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.zs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}qs(){this.Qs=new Set}Us(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.zs,r=>{const i=te.fromPath(r);return this.Ws(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.Qs=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ws(e,n).next(r=>{r?this.zs.delete(n.toString()):this.zs.add(n.toString())})}Bs(e){return 0}Ws(e,n){return N.or([()=>N.resolve(this.Gs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ks(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.serializer=e}$(e,n,r,i){const s=new jf("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wE,{unique:!0}),a.createObjectStore("documentMutations")}(e),iI(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=N.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),iI(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ge.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wE,{unique:!0});const u=l.store("mutations"),d=c.map(h=>u.put(h));return N.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Js(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(s)))),r<7&&i>=7&&(o=o.next(()=>this.Xs(s))),r<8&&i>=8&&(o=o.next(()=>this.Zs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ti(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:B5});l.createIndex("collectionPathOverlayIndex",U5,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",$5,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:k5});l.createIndex("documentKeyIndex",R5),l.createIndex("collectionGroupIndex",x5)}(e)).next(()=>this.ei(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ni(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:L5}).createIndex("sequenceNumberIndex",M5,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:F5}).createIndex("documentKeyIndex",V5,{unique:!1})}(e))),o}Ys(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=Ah(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>N.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>N.forEach(a,l=>{pe(l.userId===s.userId);const c=Ys(this.serializer,l);return rR(e,s.userId,c).next(()=>{})}))}))}Xs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((o,a)=>{const l=new ze(o),c=function(u){return[0,Tn(u)]}(l);s.push(n.get(c).next(u=>u?N.resolve():(d=>n.put({targetId:0,path:Tn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>N.waitFor(s))})}Zs(e,n){e.createObjectStore("collectionParents",{keyPath:O5});const r=n.store("collectionParents"),i=new Sw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Tn(l)})}};return n.store("remoteDocuments").X({Y:!0},(o,a)=>{const l=new ze(o);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([o,a,l],c)=>{const u=Ur(a);return s(u.popLast())}))}ti(e){const n=e.store("targets");return n.X((r,i)=>{const s=Wl(i),o=eR(this.serializer,s);return n.put(o)})}ei(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(c=o,c.document?new te(ze.fromString(c.document.name).popFirst(5)):c.noDocument?te.fromSegments(c.noDocument.path):c.unknownDocument?te.fromSegments(c.unknownDocument.path):ue()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>N.waitFor(i))}ni(e,n){const r=n.store("mutations"),i=aR(this.serializer),s=new cR(Xf.js,this.serializer.le);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let u=(c=a.get(l.userId))!==null&&c!==void 0?c:Ne();Ys(this.serializer,l).keys().forEach(d=>u=u.add(d)),a.set(l.userId,u)}),N.forEach(a,(l,c)=>{const u=new jt(c),d=Yf.fe(this.serializer,u),h=s.getIndexManager(u),f=Qf.fe(u,this.serializer,h,s.referenceDelegate);return new lR(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Mp(n,Pn.ct),l).next()})})}}function iI(t){t.createObjectStore("targetDocuments",{keyPath:N5}).createIndex("documentTargetsIndex",D5,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",P5,{unique:!0}),t.createObjectStore("targetGlobal")}const gg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cw{constructor(e,n,r,i,s,o,a,l,c,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.ii=c,this.ri=u,this.oi=d,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=h=>Promise.resolve(),!Cw.D())throw new q(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hq(this,i),this.fi=n+"main",this.serializer=new Zk(l),this.di=new pr(this.fi,this.oi,new n6(this.serializer)),this.Fs=new Uq(this.referenceDelegate,this.serializer),this.remoteDocumentCache=aR(this.serializer),this.Ls=new Pq,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,u===!1&&Tt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new q(L.FAILED_PRECONDITION,gg);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Pn(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){return this.li=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>md(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(n=>this.isPrimary&&!n?this.Ei(e).next(()=>!1):!!n&&this.Ai(e).next(()=>!0))).catch(e=>{if(Ps(e))return H("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return H("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return Fl(e).get("owner").next(n=>N.resolve(this.Ri(n)))}vi(e){return md(e).delete(this.clientId)}async Pi(){if(this.isPrimary&&!this.bi(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Qt(n,"clientMetadata");return r.j().next(i=>{const s=this.Vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return N.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Si(n.clientId))}}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?N.resolve(!0):Fl(e).get("owner").next(n=>{if(n!==null&&this.bi(n.leaseTimestampMs,5e3)&&!this.Di(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new q(L.FAILED_PRECONDITION,gg);return!1}}return!(!this.networkEnabled||!this.inForeground)||md(e).j().next(r=>this.Vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&H("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),await this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Mp(e,Pn.ct);return this.Ei(n).next(()=>this.vi(n))}),this.di.close(),this.ki()}Vi(e,n){return e.filter(r=>this.bi(r.updateTimeMs,n)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>md(e).j().next(n=>this.Vi(n,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,n){return Qf.fe(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Bq(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return Yf.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,n,r){H("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.oi)===15?q5:o===14?ck:o===13?lk:o===12?z5:o===11?ak:void ue();var o;let a;return this.di.runTransaction(e,i,s,l=>(a=new Mp(l,this.Os?this.Os.next():Pn.ct),n==="readwrite-primary"?this.Ii(a).next(c=>!!c||this.Ti(a)).next(c=>{if(!c)throw Tt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new q(L.FAILED_PRECONDITION,rk);return r(a)}).next(c=>this.Ai(a).next(()=>c)):this.Oi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return Fl(e).get("owner").next(n=>{if(n!==null&&this.bi(n.leaseTimestampMs,5e3)&&!this.Di(n.ownerId)&&!this.Ri(n)&&!(this.ri||this.allowTabSynchronization&&n.allowTabSynchronization))throw new q(L.FAILED_PRECONDITION,gg)})}Ai(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fl(e).put("owner",n)}static D(){return pr.D()}Ei(e){const n=Fl(e);return n.get("owner").next(r=>this.Ri(r)?(H("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):N.resolve())}bi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Tt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}mi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Ci();const n=/(?:Version|Mobile)\/1[456]/;D$()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Si(e)))!==null;return H("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Tt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){Tt("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fl(t){return Qt(t,"owner")}function md(t){return Qt(t,"clientMetadata")}function Aw(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Fi=i}static Bi(e,n){let r=Ne(),i=Ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new kw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.Li=!1}initialize(e,n){this.qi=e,this.indexManager=n,this.Li=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ui(e,n).next(s=>s||this.Ki(e,n,i,r)).next(s=>s||this.Gi(e,n))}Ui(e,n){if(PE(n))return N.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sh(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ne(...s);return this.qi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Qi(n,a);return this.ji(n,c,o,l.readTime)?this.Ui(e,Sh(n,null,"F")):this.zi(e,c,n,l)}))})))}Ki(e,n,r,i){return PE(n)||i.isEqual(ge.min())?this.Gi(e,n):this.qi.getDocuments(e,r).next(s=>{const o=this.Qi(n,s);return this.ji(n,o,r,i)?this.Gi(e,n):(Op()<=$e.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qp(n)),this.zi(e,o,n,tk(i,-1)))})}Qi(e,n){let r=new ct(Sk(e));return n.forEach((i,s)=>{Ru(e,s)&&(r=r.add(s))}),r}ji(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Gi(e,n){return Op()<=$e.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",qp(n)),this.qi.getDocumentsMatchingQuery(e,n,Wn.min())}zi(e,n,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,i){this.persistence=e,this.Wi=n,this.serializer=i,this.Hi=new st(Pe),this.Ji=new Ns(s=>_o(s),Au),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lR(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Hi))}}function dR(t,e,n,r){return new r6(t,e,n,r)}async function hR(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Zi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ne();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({tr:c,removedBatchIds:o,addedBatchIds:a}))})})}function i6(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Xi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=N.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(g=>{const p=l.docVersions.get(f);pe(p!==null),g.version.compareTo(p)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ne();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fR(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Fs.getLastRemoteSnapshotVersion(n))}function s6(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Fs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Fs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken($t.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(g,p,w){return g.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,f,u)&&a.push(n.Fs.updateTargetData(s,f))});let l=Dn(),c=Ne();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(mR(s,o,e.documentUpdates).next(u=>{l=u.er,c=u.nr})),!r.isEqual(ge.min())){const u=n.Fs.getLastRemoteSnapshotVersion(s).next(d=>n.Fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return N.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Hi=i,s))}function mR(t,e,n){let r=Ne(),i=Ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{er:o,nr:i}})}function o6(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ha(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Fs.getTargetData(r,e).next(s=>s?(i=s,N.resolve(i)):n.Fs.allocateTargetId(r).next(o=>(i=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Hi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(r.targetId,r),n.Ji.set(e,r.targetId)),r})}async function Ka(t,e,n){const r=se(t),i=r.Hi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ps(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}function kh(t,e,n){const r=se(t);let i=ge.min(),s=Ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=se(a),d=u.Ji.get(c);return d!==void 0?N.resolve(u.Hi.get(d)):u.Fs.getTargetData(l,c)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Wi.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Ne())).next(a=>(vR(r,Ik(e),a),{documents:a,sr:s})))}function gR(t,e){const n=se(t),r=se(n.Fs),i=n.Hi.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.he(s,e).next(o=>o?o.target:null))}function pR(t,e){const n=se(t),r=n.Yi.get(e)||ge.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Xi.getAllFromCollectionGroup(i,e,tk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(vR(n,e,i),i))}function vR(t,e,n){let r=t.Yi.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Yi.set(e,r)}async function a6(t,e,n,r){const i=se(t);let s=Ne(),o=Dn();for(const c of n){const u=e.ir(c.metadata.name);c.document&&(s=s.add(u));const d=e.rr(c);d.setReadTime(e.ur(c.metadata.readTime)),o=o.insert(u,d)}const a=i.Xi.newChangeBuffer({trackRemovals:!0}),l=await Ha(i,function(c){return Mn(ul(ze.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>mR(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.Fs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Fs.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,u.er,u.nr)).next(()=>u.er)))}async function l6(t,e,n=Ne()){const r=await Ha(t,Mn(Ew(e.bundledQuery))),i=se(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=At(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ls.saveNamedQuery(s,e);const a=r.withResumeToken($t.EMPTY_BYTE_STRING,o);return i.Hi=i.Hi.insert(a.targetId,a),i.Fs.updateTargetData(s,a).next(()=>i.Fs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Fs.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ls.saveNamedQuery(s,e))})}function sI(t,e){return`firestore_clients_${t}_${e}`}function oI(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pg(t,e){return`firestore_targets_${t}_${e}`}class Rh{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static cr(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new q(i.error.code,i.error.message))),o?new Rh(e,n,i.state,s):(Tt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static cr(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new q(r.error.code,r.error.message))),s?new cc(e,r.state,i):(Tt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xh{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static cr(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=mw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=sk(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new xh(e,s):(Tt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Rw{constructor(e,n){this.clientId=e,this.onlineState=n}static cr(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Rw(n.clientId,n.onlineState):(Tt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Qp{constructor(){this.activeTargetIds=mw()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vg{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new st(Pe),this.started=!1,this.gr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.yr=sI(this.persistenceKey,this.dr),this.pr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.mr=this.mr.insert(this.dr,new Qp),this.Ir=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Ar=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Mi();for(const r of e){if(r===this.dr)continue;const i=this.getItem(sI(this.persistenceKey,r));if(i){const s=xh.cr(r,i);s&&(this.mr=this.mr.insert(s.clientId,s))}}this.vr();const n=this.storage.getItem(this.Ar);if(n){const r=this.Pr(n);r&&this.br(r)}for(const r of this.gr)this.wr(r);this.gr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let n=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,n,r){this.Sr(e,n,r),this.Dr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pg(this.persistenceKey,e));if(r){const i=cc.cr(e,r);i&&(n=i.state)}}return this.Cr.hr(e),this.vr(),n}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pg(this.persistenceKey,e))}updateQueryState(e,n,r){this.Nr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return H("SharedClientState","READ",e,n),n}setItem(e,n){H("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){H("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){const n=e;if(n.storageArea===this.storage){if(H("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yr)return void Tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ir.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.$r(r,null)}{const r=this.Fr(n.key,n.newValue);if(r)return this.$r(r.clientId,r)}}else if(this.Tr.test(n.key)){if(n.newValue!==null){const r=this.Br(n.key,n.newValue);if(r)return this.Lr(r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.qr(n.key,n.newValue);if(r)return this.Ur(r)}}else if(n.key===this.Ar){if(n.newValue!==null){const r=this.Pr(n.newValue);if(r)return this.br(r)}}else if(n.key===this.pr){const r=function(i){let s=Pn.ct;if(i!=null)try{const o=JSON.parse(i);pe(typeof o=="number"),s=o}catch(o){Tt("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Pn.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Kr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Gr(i)))}}}else this.gr.push(n)})}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,n,r){const i=new Rh(this.currentUser,e,n,r),s=oI(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ar())}Dr(e){const n=oI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}kr(e){const n={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(n))}Nr(e,n,r){const i=pg(this.persistenceKey,e),s=new cc(e,n,r);this.setItem(i,s.ar())}Mr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Ir.exec(e);return n?n[1]:null}Fr(e,n){const r=this.Or(e);return xh.cr(r,n)}Br(e,n){const r=this.Tr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Rh.cr(new jt(s),i,n)}qr(e,n){const r=this.Er.exec(e),i=Number(r[1]);return cc.cr(i,n)}Pr(e){return Rw.cr(e)}Kr(e){return JSON.parse(e)}async Lr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Qr(e.batchId,e.state,e.error);H("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,n){const r=n?this.mr.insert(e,n):this.mr.remove(e),i=this.Vr(this.mr),s=this.Vr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.zr(o,a).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let n=mw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class yR{constructor(){this.Wr=new Qp,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,n,r){this.Hr[e]=n}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Qp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function yg(){return gd===null?gd=268435456+Math.round(2147483648*Math.random()):gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class h6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.wo=n+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,n,r,i,s){const o=yg(),a=this.Io(e,n);H("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.To(l,i,s),this.Eo(e,a,l,r).then(c=>(H("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Er("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Ao(e,n,r,i,s,o){return this.po(e,n,r,i,s)}To(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Io(e,n){const r=u6[e];return`${this.wo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,n,r,i){const s=yg();return new Promise((o,a)=>{const l=new l5;l.setWithCredentials(!0),l.listenOnce(s5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fg.NO_ERROR:const u=l.getResponseJson();H(un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case fg.TIMEOUT:H(un,`RPC '${e}' ${s} timed out`),a(new q(L.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:const d=l.getStatus();if(H(un,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(p){const w=p.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(w)>=0?w:L.UNKNOWN}(f.status);a(new q(g,f.message))}else a(new q(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(L.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{H(un,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);H(un,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=yg(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r5(),a=i5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new a5({})),this.To(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");H(un,`Creating RPC '${e}' stream ${i}: ${c}`,l);const u=o.createWebChannel(c,l);let d=!1,h=!1;const f=new d6({io:p=>{h?H(un,`Not sending because RPC '${e}' stream ${i} is closed:`,p):(d||(H(un,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),H(un,`RPC '${e}' stream ${i} sending:`,p),u.send(p))},ro:()=>u.close()}),g=(p,w,y)=>{p.listen(w,b=>{try{y(b)}catch(v){setTimeout(()=>{throw v},0)}})};return g(u,ld.EventType.OPEN,()=>{h||H(un,`RPC '${e}' stream ${i} transport opened.`)}),g(u,ld.EventType.CLOSE,()=>{h||(h=!0,H(un,`RPC '${e}' stream ${i} transport closed`),f.fo())}),g(u,ld.EventType.ERROR,p=>{h||(h=!0,Er(un,`RPC '${e}' stream ${i} transport errored:`,p),f.fo(new q(L.UNAVAILABLE,"The operation could not be completed")))}),g(u,ld.EventType.MESSAGE,p=>{var w;if(!h){const y=p.data[0];pe(!!y);const b=y,v=b.error||((w=b[0])===null||w===void 0?void 0:w.error);if(v){H(un,`RPC '${e}' stream ${i} received error:`,v);const T=v.status;let S=function(C){const E=Nt[C];if(E!==void 0)return Vk(E)}(T),A=v.message;S===void 0&&(S=L.INTERNAL,A="Unknown error status: "+T+" with message "+v.message),h=!0,f.fo(new q(S,A)),u.close()}else H(un,`RPC '${e}' stream ${i} received:`,y),f._o(y)}}),g(a,o5.STAT_EVENT,p=>{p.stat===gE.PROXY?H(un,`RPC '${e}' stream ${i} detected buffering proxy`):p.stat===gE.NOPROXY&&H(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.lo()},0),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return typeof window<"u"?window:null}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){return new bq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.vo=r,this.Po=i,this.bo=s,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){this.So!==null&&(this.So.skipDelay(),this.So=null)}cancel(){this.So!==null&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Mo=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new xw(e,n)}qo(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&this.Fo===null&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,n){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,e!==4?this.Lo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Tt(n.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===n&&this.Xo(r,i)},r=>{e(()=>{const i=new q(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,n){const r=this.Yo(this.$o);this.stream=this.tu(e,n),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return n=>{this.si.enqueueAndForget(()=>this.$o===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f6 extends bR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}tu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.Lo.reset();const n=Iq(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ge.min():s.readTime?At(s.readTime):ge.min()}(e);return this.listener.eu(n,r)}nu(e){const n={};n.database=Gc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Eh(a)?{documents:Gk(i,a)}:{query:Wk(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=zk(i,s.resumeToken);const l=jp(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(ge.min())>0){o.readTime=ja(i,s.snapshotVersion.toTimestamp());const l=jp(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=Tq(this.serializer,e);r&&(n.labels=r),this.zo(n)}su(e){const n={};n.database=Gc(this.serializer),n.removeTarget=e,this.zo(n)}}class m6 extends bR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const n=Sq(e.writeResults,e.commitTime),r=At(e.commitTime);return this.listener.uu(r,n)}return pe(!e.writeResults||e.writeResults.length===0),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Gc(this.serializer),this.zo(e)}ou(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wc(this.serializer,r))};this.zo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.po(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(L.UNKNOWN,i.toString())})}Ao(e,n,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ao(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(L.UNKNOWN,s.toString())})}terminate(){this.hu=!0}}class p6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){this.du===0&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){this.state==="Online"?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,e==="Online"&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Tt(n),this.wu=!1):H("OnlineStateTracker",n)}Iu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=s,this.vu.Jr(o=>{r.enqueueAndForget(async()=>{Ds(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=se(a);l.Au.add(4),await fl(l),l.Pu.set("Unknown"),l.Au.delete(4),await Ou(l)}(this))})}),this.Pu=new p6(r,i)}}async function Ou(t){if(Ds(t))for(const e of t.Ru)await e(!0)}async function fl(t){for(const e of t.Ru)await e(!1)}function Jf(t,e){const n=se(t);n.Eu.has(e.targetId)||(n.Eu.set(e.targetId,e),Dw(n)?Nw(n):gl(n).Uo()&&Pw(n,e))}function Yc(t,e){const n=se(t),r=gl(n);n.Eu.delete(e),r.Uo()&&_R(n,e),n.Eu.size===0&&(r.Uo()?r.Qo():Ds(n)&&n.Pu.set("Unknown"))}function Pw(t,e){if(t.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gl(t).nu(e)}function _R(t,e){t.bu.Lt(e),gl(t).su(e)}function Nw(t){t.bu=new pq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),he:e=>t.Eu.get(e)||null,oe:()=>t.datastore.serializer.databaseId}),gl(t).start(),t.Pu.mu()}function Dw(t){return Ds(t)&&!gl(t).qo()&&t.Eu.size>0}function Ds(t){return se(t).Au.size===0}function ER(t){t.bu=void 0}async function y6(t){t.Eu.forEach((e,n)=>{Pw(t,e)})}async function w6(t,e){ER(t),Dw(t)?(t.Pu.pu(e),Nw(t)):t.Pu.set("Unknown")}async function b6(t,e,n){if(t.Pu.set("Online"),e instanceof $k&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Eu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Eu.delete(o),r.bu.removeTarget(o))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(t,r)}else if(e instanceof Ld?t.bu.Wt(e):e instanceof Uk?t.bu.ee(e):t.bu.Yt(e),!n.isEqual(ge.min()))try{const r=await fR(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.bu.ue(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Eu.get(l);c&&i.Eu.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Eu.get(a);if(!c)return;i.Eu.set(a,c.withResumeToken($t.EMPTY_BYTE_STRING,c.snapshotVersion)),_R(i,a);const u=new di(c.target,a,l,c.sequenceNumber);Pw(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await Ph(t,r)}}async function Ph(t,e,n){if(!Ps(e))throw e;t.Au.add(1),await fl(t),t.Pu.set("Offline"),n||(n=()=>fR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.Au.delete(1),await Ou(t)})}function IR(t,e){return e().catch(n=>Ph(t,n,e))}async function ml(t){const e=se(t),n=_s(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;_6(e);)try{const i=await o6(e.localStore,r);if(i===null){e.Tu.length===0&&n.Qo();break}r=i.batchId,E6(e,i)}catch(i){await Ph(e,i)}SR(e)&&TR(e)}function _6(t){return Ds(t)&&t.Tu.length<10}function E6(t,e){t.Tu.push(e);const n=_s(t);n.Uo()&&n.ru&&n.ou(e.mutations)}function SR(t){return Ds(t)&&!_s(t).qo()&&t.Tu.length>0}function TR(t){_s(t).start()}async function I6(t){_s(t).au()}async function S6(t){const e=_s(t);for(const n of t.Tu)e.ou(n.mutations)}async function T6(t,e,n){const r=t.Tu.shift(),i=vw.from(r,e,n);await IR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ml(t)}async function C6(t,e){e&&_s(t).ru&&await async function(n,r){if(i=r.code,Fk(i)&&i!==L.ABORTED){const s=n.Tu.shift();_s(n).Go(),await IR(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ml(n)}var i}(t,e),SR(t)&&TR(t)}async function lI(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Ds(n);n.Au.add(3),await fl(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Au.delete(3),await Ou(n)}async function Xp(t,e){const n=se(t);e?(n.Au.delete(2),await Ou(n)):e||(n.Au.add(2),await fl(n),n.Pu.set("Unknown"))}function gl(t){return t.Vu||(t.Vu=function(e,n,r){const i=se(e);return i.lu(),new f6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:y6.bind(null,t),co:w6.bind(null,t),eu:b6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Vu.Go(),Dw(t)?Nw(t):t.Pu.set("Unknown")):(await t.Vu.stop(),ER(t))})),t.Vu}function _s(t){return t.Su||(t.Su=function(e,n,r){const i=se(e);return i.lu(),new m6(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{oo:I6.bind(null,t),co:C6.bind(null,t),cu:S6.bind(null,t),uu:T6.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Go(),await ml(t)):(await t.Su.stop(),t.Tu.length>0&&(H("RemoteStore",`Stopping write stream with ${t.Tu.length} pending writes`),t.Tu=[]))})),t.Su}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ow(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pl(t,e){if(Tt("AsyncQueue",`${e}: ${t}`),Ps(t))return new q(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Kl(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new _a(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.Du=new st(te.comparator)}track(e){const n=e.doc.key,r=this.Du.get(n);r?e.type!==0&&r.type===3?this.Du=this.Du.insert(n,e):e.type===3&&r.type!==1?this.Du=this.Du.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Du=this.Du.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Du=this.Du.remove(n):e.type===1&&r.type===2?this.Du=this.Du.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Du=this.Du.insert(n,{type:2,doc:e.doc}):ue():this.Du=this.Du.insert(n,e)}Cu(){const e=[];return this.Du.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ga{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ga(e,n,_a.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.xu=void 0,this.listeners=[]}}class k6{constructor(){this.queries=new Ns(e=>Ek(e),ku),this.onlineState="Unknown",this.Nu=new Set}}async function Lw(t,e){const n=se(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new A6),i)try{s.xu=await n.onListen(r)}catch(o){const a=pl(o,`Initialization of query '${qp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ku(n.onlineState),s.xu&&e.Mu(s.xu)&&Fw(n)}async function Mw(t,e){const n=se(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function R6(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Mu(i)&&(r=!0);o.xu=i}}r&&Fw(n)}function x6(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Fw(t){t.Nu.forEach(e=>{e.next()})}class Vw{constructor(e,n,r){this.query=e,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),n=!0):this.Lu(e,this.onlineState)&&(this.qu(e),n=!0),this.Fu=e,n}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let n=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),n=!0),n}Lu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Uu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Bu(e){if(e.docChanges.length>0)return!0;const n=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qu(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n){this.Ku=e,this.byteLength=n}Gu(){return"metadata"in this.Ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.serializer=e}ir(e){return Hr(this.serializer,e)}rr(e){return e.metadata.exists?Kk(this.serializer,e.document,!1):lt.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return At(e)}}class N6{constructor(e,n,r){this.Qu=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CR(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++n;const r=ze.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}zu(e){const n=new Map,r=new uI(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.ir(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||Ne()).add(s);n.set(o,a)}}return n}async complete(){const e=await a6(this.localStore,new uI(this.serializer),this.documents,this.Qu.id),n=this.zu(this.documents);for(const r of this.queries)await l6(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:e}}}function CR(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.key=e}}class kR{constructor(e){this.key=e}}class RR{constructor(e,n){this.query=e,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Ne(),this.mutatedKeys=Ne(),this.Zu=Sk(e),this.tc=new _a(this.Zu)}get ec(){return this.Ju}nc(e,n){const r=n?n.sc:new cI,i=n?n.tc:this.tc;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Ru(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?g!==p&&(r.track({type:3,doc:f}),w=!0):this.ic(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this.Zu(f,l)>0||c&&this.Zu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||c)&&(a=!0)),w&&(f?(o=o.add(f),s=p?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tc:o,sc:r,ji:a,mutatedKeys:s}}ic(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const s=e.sc.Cu();s.sort((c,u)=>function(d,h){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return f(d)-f(h)}(c.type,u.type)||this.Zu(c.doc,u.doc)),this.rc(r);const o=n?this.oc():[],a=this.Xu.size===0&&this.current?1:0,l=a!==this.Yu;return this.Yu=a,s.length!==0||l?{snapshot:new Ga(this.query,e.tc,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}ku(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tc:this.tc,sc:new cI,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(n=>this.Ju=this.Ju.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ju=this.Ju.delete(n)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=Ne(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const n=[];return e.forEach(r=>{this.Xu.has(r)||n.push(new kR(r))}),this.Xu.forEach(r=>{e.has(r)||n.push(new AR(r))}),n}ac(e){this.Ju=e.sr,this.Xu=Ne();const n=this.nc(e.documents);return this.applyChanges(n,!0)}hc(){return Ga.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,this.Yu===0,this.hasCachedResults)}}class D6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class O6{constructor(e){this.key=e,this.lc=!1}}class L6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new Ns(a=>Ek(a),ku),this._c=new Map,this.wc=new Set,this.mc=new st(te.comparator),this.gc=new Map,this.yc=new Tw,this.Ic={},this.Tc=new Map,this.Ec=Co.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return this.Ac===!0}}async function M6(t,e){const n=qw(t);let r,i;const s=n.dc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.hc();else{const o=await Ha(n.localStore,Mn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await Bw(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Jf(n.remoteStore,o)}return i}async function Bw(t,e,n,r,i){t.Rc=(d,h,f)=>async function(g,p,w,y){let b=p.view.nc(w);b.ji&&(b=await kh(g.localStore,p.query,!1).then(({documents:S})=>p.view.nc(S,b)));const v=y&&y.targetChanges.get(p.targetId),T=p.view.applyChanges(b,g.isPrimaryClient,v);return Jp(g,p.targetId,T.uc),T.snapshot}(t,d,h,f);const s=await kh(t.localStore,e,!0),o=new RR(e,s.sr),a=o.nc(s.documents),l=Nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Jp(t,n,c.uc);const u=new D6(e,n,o);return t.dc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function F6(t,e){const n=se(t),r=n.dc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!ku(s,e))),void n.dc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ka(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Yc(n.remoteStore,r.targetId),Wa(n,r.targetId)}).catch(xs)):(Wa(n,r.targetId),await Ka(n.localStore,r.targetId,!0))}async function V6(t,e,n){const r=jw(t);try{const i=await function(s,o){const a=se(s),l=pt.now(),c=o.reduce((h,f)=>h.add(f.key),Ne());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Dn(),g=Ne();return a.Xi.getEntries(h,c).next(p=>{f=p,f.forEach((w,y)=>{y.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(p=>{u=p;const w=[];for(const y of o){const b=fq(y,u.get(y.key).overlayedDocument);b!=null&&w.push(new Fi(y.key,b,fk(b.value.mapValue),gt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,w,o)}).next(p=>{d=p;const w=p.applyToLocalDocumentSet(u,g);return a.documentOverlayCache.saveOverlays(h,p.batchId,w)})}).then(()=>({batchId:d.batchId,changes:Ck(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Ic[s.currentUser.toKey()];l||(l=new st(Pe)),l=l.insert(o,a),s.Ic[s.currentUser.toKey()]=l}(r,i.batchId,n),await Vi(r,i.changes),await ml(r.remoteStore)}catch(i){const s=pl(i,"Failed to persist write");n.reject(s)}}async function xR(t,e){const n=se(t);try{const r=await s6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.gc.get(s);o&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.lc=!0:i.modifiedDocuments.size>0?pe(o.lc):i.removedDocuments.size>0&&(pe(o.lc),o.lc=!1))}),await Vi(n,r,e)}catch(r){await xs(r)}}function dI(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.dc.forEach((s,o)=>{const a=o.view.ku(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=se(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.ku(o)&&(l=!0)}),l&&Fw(a)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function B6(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.gc.get(e),s=i&&i.key;if(s){let o=new st(te.comparator);o=o.insert(s,lt.newNoDocument(s,ge.min()));const a=Ne().add(s),l=new Pu(ge.min(),new Map,new st(Pe),o,a);await xR(r,l),r.mc=r.mc.remove(s),r.gc.delete(e),zw(r)}else await Ka(r.localStore,e,!1).then(()=>Wa(r,e,n)).catch(xs)}async function U6(t,e){const n=se(t),r=e.batch.batchId;try{const i=await i6(n.localStore,e);$w(n,r,null),Uw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vi(n,i)}catch(i){await xs(i)}}async function $6(t,e,n){const r=se(t);try{const i=await function(s,o){const a=se(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(pe(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);$w(r,e,n),Uw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vi(r,i)}catch(i){await xs(i)}}async function z6(t,e){const n=se(t);Ds(n.remoteStore)||H("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=se(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Tc.get(r)||[];i.push(e),n.Tc.set(r,i)}catch(r){const i=pl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Uw(t,e){(t.Tc.get(e)||[]).forEach(n=>{n.resolve()}),t.Tc.delete(e)}function $w(t,e,n){const r=se(t);let i=r.Ic[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Wa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.dc.delete(r),n&&t.fc.vc(r,n);t._c.delete(e),t.isPrimaryClient&&t.yc.ps(e).forEach(r=>{t.yc.containsKey(r)||PR(t,r)})}function PR(t,e){t.wc.delete(e.path.canonicalString());const n=t.mc.get(e);n!==null&&(Yc(t.remoteStore,n),t.mc=t.mc.remove(e),t.gc.delete(n),zw(t))}function Jp(t,e,n){for(const r of n)r instanceof AR?(t.yc.addReference(r.key,e),q6(t,r)):r instanceof kR?(H("SyncEngine","Document no longer in limbo: "+r.key),t.yc.removeReference(r.key,e),t.yc.containsKey(r.key)||PR(t,r.key)):ue()}function q6(t,e){const n=e.key,r=n.path.canonicalString();t.mc.get(n)||t.wc.has(r)||(H("SyncEngine","New document in limbo: "+n),t.wc.add(r),zw(t))}function zw(t){for(;t.wc.size>0&&t.mc.size<t.maxConcurrentLimboResolutions;){const e=t.wc.values().next().value;t.wc.delete(e);const n=new te(ze.fromString(e)),r=t.Ec.next();t.gc.set(r,new O6(n)),t.mc=t.mc.insert(n,r),Jf(t.remoteStore,new di(Mn(ul(n.path)),r,"TargetPurposeLimboResolution",Pn.ct))}}async function Vi(t,e,n){const r=se(t),i=[],s=[],o=[];r.dc.isEmpty()||(r.dc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=kw.Bi(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.fc.eu(i),await async function(a,l){const c=se(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>N.forEach(l,d=>N.forEach(d.$i,h=>c.persistence.referenceDelegate.addReference(u,d.targetId,h)).next(()=>N.forEach(d.Fi,h=>c.persistence.referenceDelegate.removeReference(u,d.targetId,h)))))}catch(u){if(!Ps(u))throw u;H("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const h=c.Hi.get(d),f=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(f);c.Hi=c.Hi.insert(d,g)}}}(r.localStore,s))}async function j6(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await hR(n.localStore,e);n.currentUser=e,function(i,s){i.Tc.forEach(o=>{o.forEach(a=>{a.reject(new q(L.CANCELLED,s))})}),i.Tc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vi(n,r.tr)}}function H6(t,e){const n=se(t),r=n.gc.get(e);if(r&&r.lc)return Ne().add(r.key);{let i=Ne();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.dc.get(o);i=i.unionWith(a.view.ec)}return i}}async function K6(t,e){const n=se(t),r=await kh(n.localStore,e.query,!0),i=e.view.ac(r);return n.isPrimaryClient&&Jp(n,e.targetId,i.uc),i}async function G6(t,e){const n=se(t);return pR(n.localStore,e).then(r=>Vi(n,r))}async function W6(t,e,n,r){const i=se(t),s=await function(o,a){const l=se(o),c=se(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.Vn(u,a).next(d=>d?l.localDocuments.getDocuments(u,d):N.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await ml(i.remoteStore):n==="acknowledged"||n==="rejected"?($w(i,e,r||null),Uw(i,e),function(o,a){se(se(o).mutationQueue).Dn(a)}(i.localStore,e)):ue(),await Vi(i,s)):H("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Y6(t,e){const n=se(t);if(qw(n),jw(n),e===!0&&n.Ac!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await hI(n,r.toArray());n.Ac=!0,await Xp(n.remoteStore,!0);for(const s of i)Jf(n.remoteStore,s)}else if(e===!1&&n.Ac!==!1){const r=[];let i=Promise.resolve();n._c.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Wa(n,o),Ka(n.localStore,o,!0))),Yc(n.remoteStore,o)}),await i,await hI(n,r),function(s){const o=se(s);o.gc.forEach((a,l)=>{Yc(o.remoteStore,l)}),o.yc.Is(),o.gc=new Map,o.mc=new st(te.comparator)}(n),n.Ac=!1,await Xp(n.remoteStore,!1)}}async function hI(t,e,n){const r=se(t),i=[],s=[];for(const o of e){let a;const l=r._c.get(o);if(l&&l.length!==0){a=await Ha(r.localStore,Mn(l[0]));for(const c of l){const u=r.dc.get(c),d=await K6(r,u);d.snapshot&&s.push(d.snapshot)}}else{const c=await gR(r.localStore,o);a=await Ha(r.localStore,c),await Bw(r,NR(c),o,!1,a.resumeToken)}i.push(a)}return r.fc.eu(s),i}function NR(t){return _k(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Q6(t){const e=se(t);return se(se(e.localStore).persistence).Mi()}async function X6(t,e,n,r){const i=se(t);if(i.Ac)return void H("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await pR(i.localStore,Ik(s[0])),a=Pu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",$t.EMPTY_BYTE_STRING);await Vi(i,o,a);break}case"rejected":await Ka(i.localStore,e,!0),Wa(i,e,r);break;default:ue()}}async function J6(t,e,n){const r=qw(t);if(r.Ac){for(const i of e){if(r._c.has(i)){H("SyncEngine","Adding an already active target "+i);continue}const s=await gR(r.localStore,i),o=await Ha(r.localStore,s);await Bw(r,NR(s),o.targetId,!1,o.resumeToken),Jf(r.remoteStore,o)}for(const i of n)r._c.has(i)&&await Ka(r.localStore,i,!1).then(()=>{Yc(r.remoteStore,i),Wa(r,i)}).catch(xs)}}function qw(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B6.bind(null,e),e.fc.eu=R6.bind(null,e.eventManager),e.fc.vc=x6.bind(null,e.eventManager),e}function jw(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$6.bind(null,e),e}function Z6(t,e,n){const r=se(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,h){const f=se(d),g=At(h.createTime);return f.persistence.runTransaction("hasNewerBundle","readonly",p=>f.Ls.getBundleMetadata(p,h.id)).then(p=>!!p&&p.createTime.compareTo(g)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(CR(a));const l=new N6(a,i.localStore,s.serializer);let c=await s.Pc();for(;c;){const d=await l.ju(c);d&&o._updateProgress(d),c=await s.Pc()}const u=await l.complete();return await Vi(i,u.Hu,void 0),await function(d,h){const f=se(d);return f.persistence.runTransaction("Save bundle","readwrite",g=>f.Ls.saveBundleMetadata(g,h))}(i.localStore,a),o._completeWith(u.progress),Promise.resolve(u.Wu)}catch(a){return Er("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Zp{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Du(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dR(this.persistence,new uR,e.initialUser,this.serializer)}createPersistence(e){return new cR(Xf.js,this.serializer)}createSharedClientState(e){return new yR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class DR extends Zp{constructor(e,n,r){super(),this.bc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.bc.initialize(this,e),await jw(this.bc.syncEngine),await ml(this.bc.remoteStore),await this.persistence.pi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return dR(this.persistence,new uR,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new zq(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new T5(n,this.persistence);return new S5(e.asyncQueue,r)}createPersistence(e){const n=Aw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Cw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,wR(),Md(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new yR}}class ej extends DR{constructor(e,n){super(e,n,!1),this.bc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.bc.syncEngine;this.sharedClientState instanceof vg&&(this.sharedClientState.syncEngine={Qr:W6.bind(null,n),jr:X6.bind(null,n),zr:J6.bind(null,n),Mi:Q6.bind(null,n),Gr:G6.bind(null,n)},await this.sharedClientState.start()),await this.persistence.pi(async r=>{await Y6(this.bc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=wR();if(!vg.D(n))throw new q(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Aw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vg(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Hw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j6.bind(null,this.syncEngine),await Xp(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new k6}createDatastore(e){const n=Du(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new h6(i));var i;return function(s,o,a,l){return new g6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>dI(this.syncEngine,a,0),o=aI.D()?new aI:new c6,new v6(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new L6(r,i,s,o,a,l);return c&&(u.Ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=se(e);H("RemoteStore","RemoteStore shutting down."),n.Au.add(5),await fl(n),n.vu.shutdown(),n.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Tt("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.Dc=e,this.serializer=n,this.metadata=new Kt,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}async getMetadata(){return this.metadata.promise}async Pc(){return await this.getMetadata(),this.xc()}async xc(){const e=await this.Nc();if(e===null)return null;const n=this.Cc.decode(e),r=Number(n);isNaN(r)&&this.kc(`length string (${n}) is not valid number`);const i=await this.Mc(r);return new P6(JSON.parse(i),e.length+r)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Nc(){for(;this.Oc()<0&&!await this.$c(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.kc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Mc(e){for(;this.buffer.length<e;)await this.$c()&&this.kc("Reached the end of bundle when more is expected.");const n=this.Cc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}async $c(){const e=await this.Dc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new q(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=se(r),o=Gc(s.serializer)+"/documents",a={documents:i.map(d=>Kc(s.serializer,d))},l=await s.Ao("BatchGetDocuments",o,a,i.length),c=new Map;l.forEach(d=>{const h=Eq(s.serializer,d);c.set(h.key.toString(),h)});const u=[];return i.forEach(d=>{const h=c.get(d.toString());pe(!!h),u.push(h)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new hl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=te.fromPath(r);this.mutations.push(new gw(i,this.precondition(i)))}),await async function(n,r){const i=se(n),s=Gc(i.serializer)+"/documents",o={writes:r.map(a=>Wc(i.serializer,a))};await i.po("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ue();n=ge.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new q(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ge.min())?gt.exists(!1):gt.updateTime(n):gt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ge.min()))throw new q(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gt.updateTime(n)}return gt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Fc=r.maxAttempts,this.Lo=new xw(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){this.Lo.xo(async()=>{const e=new nj(this.datastore),n=this.Lc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.qc(i)}))}).catch(r=>{this.qc(r)})})}Lc(e){try{const n=this.updateFunction(e);return!Cu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Fk(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=JA.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{H("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fd(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ev(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kw(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>lI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>lI(e.remoteStore,s)),t._onlineComponents=e}function OR(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Kw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!OR(n))throw n;Er("Error using user provided cache. Falling back to memory cache: "+n),await Fd(t,new Zp)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await Fd(t,new Zp);return t._offlineComponents}async function em(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await ev(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await ev(t,new Hw))),t._onlineComponents}function LR(t){return Kw(t).then(e=>e.persistence)}function Gw(t){return Kw(t).then(e=>e.localStore)}function MR(t){return em(t).then(e=>e.remoteStore)}function Ww(t){return em(t).then(e=>e.syncEngine)}function sj(t){return em(t).then(e=>e.datastore)}async function Ya(t){const e=await em(t),n=e.eventManager;return n.onListen=M6.bind(null,e.syncEngine),n.onUnlisten=F6.bind(null,e.syncEngine),n}function oj(t){return t.asyncQueue.enqueue(async()=>{const e=await LR(t),n=await MR(t);return e.setNetworkEnabled(!0),function(r){const i=se(r);return i.Au.delete(0),Ou(i)}(n)})}function aj(t){return t.asyncQueue.enqueue(async()=>{const e=await LR(t),n=await MR(t);return e.setNetworkEnabled(!1),async function(r){const i=se(r);i.Au.add(0),await fl(i),i.Pu.set("Offline")}(n)})}function lj(t,e){const n=new Kt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const c=se(a);return c.persistence.runTransaction("read document","readonly",u=>c.localDocuments.getDocument(u,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new q(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=pl(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await Gw(t),e,n)),n.promise}function FR(t,e,n={}){const r=new Kt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new Zf({next:d=>{s.enqueueAndForget(()=>Mw(i,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new q(L.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new q(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new Vw(ul(o.path),c,{includeMetadataChanges:!0,Uu:!0});return Lw(i,u)}(await Ya(t),t.asyncQueue,e,n,r)),r.promise}function cj(t,e){const n=new Kt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await kh(r,i,!0),a=new RR(i,o.sr),l=a.nc(o.documents),c=a.applyChanges(l,!1);s.resolve(c.snapshot)}catch(o){const a=pl(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await Gw(t),e,n)),n.promise}function VR(t,e,n={}){const r=new Kt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new Zf({next:d=>{s.enqueueAndForget(()=>Mw(i,u)),d.fromCache&&a.source==="server"?l.reject(new q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new Vw(o,c,{includeMetadataChanges:!0,Uu:!0});return Lw(i,u)}(await Ya(t),t.asyncQueue,e,n,r)),r.promise}function uj(t,e){const n=new Zf(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){se(r).Nu.add(i),i.next()}(await Ya(t),n)),()=>{n.Sc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){se(r).Nu.delete(i)}(await Ya(t),n))}}function dj(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?Bk().encode(s):s,function(l,c){return new tj(l,c)}(function(l,c){if(l instanceof Uint8Array)return fI(l,c);if(l instanceof ArrayBuffer)return fI(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,Du(e));t.asyncQueue.enqueueAndForget(async()=>{Z6(await Ww(t),i,r)})}function hj(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=se(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ls.getNamedQuery(s,r))}(await Gw(t),e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e,n){if(!n)throw new q(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BR(t,e,n,r){if(e===!0&&r===!0)throw new q(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gI(t){if(!te.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pI(t){if(te.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function He(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function UR(t,e){if(e<=0)throw new q(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new h5;switch(n.type){case"firstParty":return new p5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mI.get(e);n&&(H("ComponentProvider","Removing Datastore"),mI.delete(e),n.terminate())}(this),Promise.resolve()}}function fj(t,e,n,r={}){var i;const s=(t=He(t,Lu))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Er("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=jt.MOCK_USER;else{o=NC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new jt(l)}t._authCredentials=new f5(new XA(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class ln{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ln(this.firestore,e,this._query)}}class Kr extends ln{constructor(e,n,r){super(e,n,ul(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new te(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function $R(t,e,...n){if(t=me(t),Yw("collection","path",e),t instanceof Lu){const r=ze.fromString(e,...n);return pI(r),new Kr(t,null,r)}{if(!(t instanceof ut||t instanceof Kr))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return pI(r),new Kr(t.firestore,null,r)}}function mj(t,e){if(t=He(t,Lu),Yw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ln(t,null,function(n){return new Mi(ze.emptyPath(),n)}(e))}function Nh(t,e,...n){if(t=me(t),arguments.length===1&&(e=JA.A()),Yw("doc","path",e),t instanceof Lu){const r=ze.fromString(e,...n);return gI(r),new ut(t,null,new te(r))}{if(!(t instanceof ut||t instanceof Kr))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return gI(r),new ut(t.firestore,t instanceof Kr?t.converter:null,new te(r))}}function zR(t,e){return t=me(t),e=me(e),(t instanceof ut||t instanceof Kr)&&(e instanceof ut||e instanceof Kr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function qR(t,e){return t=me(t),e=me(e),t instanceof ln&&e instanceof ln&&t.firestore===e.firestore&&ku(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new xw(this,"async_queue_retry"),this.Yc=()=>{const n=Md();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Lo.ko()};const e=Md();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const n=Md();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const n=new Kt;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(this.Gc.length!==0){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!Ps(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){const n=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{this.zc=r,this.Wc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Tt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Wc=!1,r))));return this.Kc=n,n}enqueueAfterDelay(e,n,r){this.Xc(),this.Jc.indexOf(e)>-1&&(n=0);const i=Ow.createAndSchedule(this,e,n,r,s=>this.ea(s));return this.jc.push(i),i}Xc(){this.zc&&ue()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(const n of this.jc)if(n.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.jc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const n=this.jc.indexOf(e);this.jc.splice(n,1)}}function tv(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class pj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=-1;class It extends Lu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||jR(this),this._firestoreClient.terminate()}}function Xt(t){return t._firestoreClient||jR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jR(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,c){return new K5(o,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ij(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function yj(t,e){KR(t=He(t,It));const n=Xt(t);if(n._uninitializedComponentsProvider)throw new q(L.FAILED_PRECONDITION,"SDK cache is already specified.");Er("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new Hw;return HR(n,i,new DR(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function wj(t){KR(t=He(t,It));const e=Xt(t);if(e._uninitializedComponentsProvider)throw new q(L.FAILED_PRECONDITION,"SDK cache is already specified.");Er("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new Hw;return HR(e,r,new ej(r,n.cacheSizeBytes))}function HR(t,e,n){const r=new Kt;return t.asyncQueue.enqueue(async()=>{try{await Fd(t,n),await ev(t,e),r.resolve()}catch(i){const s=i;if(!OR(s))throw s;Er("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function bj(t){if(t._initialized&&!t._terminated)throw new q(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!pr.D())return Promise.resolve();const r=n+"main";await pr.delete(r)}(Aw(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function _j(t){return function(e){const n=new Kt;return e.asyncQueue.enqueueAndForget(async()=>z6(await Ww(e),n)),n.promise}(Xt(t=He(t,It)))}function Ej(t){return oj(Xt(t=He(t,It)))}function Ij(t){return aj(Xt(t=He(t,It)))}function Sj(t,e){const n=Xt(t=He(t,It)),r=new pj;return dj(n,t._databaseId,e,r),r}function Tj(t,e){return hj(Xt(t=He(t,It)),e).then(n=>n?new ln(t,null,n.query):null)}function KR(t){if(t._initialized||t._terminated)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jr($t.fromBase64String(e))}catch(n){throw new q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jr($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=/^__.*__$/;class Aj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new dl(e,this.data,n,this.fieldTransforms)}}class GR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class rm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.oa(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Dh(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(e.length===0)throw this._a("Document fields must not be empty");if(WR(this.ua)&&Cj.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Du(e)}ga(e,n,r,i=!1){return new rm({ua:e,methodName:n,ma:r,path:Ct.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zo(t){const e=t._freezeSettings(),n=Du(t._databaseId);return new kj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function im(t,e,n,r,i,s={}){const o=t.ga(s.merge||s.mergeFields?2:0,e,n,i);Zw("Data must be an object, but it was:",o,r);const a=XR(r,o);let l,c;if(s.merge)l=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=nv(e,d,n);if(!o.contains(h))throw new q(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ZR(u,h)||u.push(h)}l=new Nn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Aj(new nn(a),l,c)}class Mu extends $o{_toFieldTransform(e){if(e.ua!==2)throw e.ua===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mu}}function YR(t,e,n){return new rm({ua:3,ma:e.settings.ma,methodName:t._methodName,ha:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Qw extends $o{_toFieldTransform(e){return new xu(e.path,new za)}isEqual(e){return e instanceof Qw}}class Rj extends $o{constructor(e,n){super(e),this.ya=n}_toFieldTransform(e){const n=YR(this,e,!0),r=this.ya.map(s=>qo(s,n)),i=new Eo(r);return new xu(e.path,i)}isEqual(e){return this===e}}class xj extends $o{constructor(e,n){super(e),this.ya=n}_toFieldTransform(e){const n=YR(this,e,!0),r=this.ya.map(s=>qo(s,n)),i=new Io(r);return new xu(e.path,i)}isEqual(e){return this===e}}class Pj extends $o{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=new qa(e.serializer,xk(e.serializer,this.pa));return new xu(e.path,n)}isEqual(e){return this===e}}function Xw(t,e,n,r){const i=t.ga(1,e,n);Zw("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Uo(r,(l,c)=>{const u=eb(e,l,n);c=me(c);const d=i.fa(u);if(c instanceof Mu)s.push(u);else{const h=qo(c,d);h!=null&&(s.push(u),o.set(u,h))}});const a=new Nn(s);return new GR(o,a,i.fieldTransforms)}function Jw(t,e,n,r,i,s){const o=t.ga(1,e,n),a=[nv(e,r,n)],l=[i];if(s.length%2!=0)throw new q(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(nv(e,s[h])),l.push(s[h+1]);const c=[],u=nn.empty();for(let h=a.length-1;h>=0;--h)if(!ZR(c,a[h])){const f=a[h];let g=l[h];g=me(g);const p=o.fa(f);if(g instanceof Mu)c.push(f);else{const w=qo(g,p);w!=null&&(c.push(f),u.set(f,w))}}const d=new Nn(c);return new GR(u,d,o.fieldTransforms)}function QR(t,e,n,r=!1){return qo(n,t.ga(r?4:3,e))}function qo(t,e){if(JR(t=me(t)))return Zw("Unsupported field value:",e,t),XR(t,e);if(t instanceof $o)return function(n,r){if(!WR(r.ua))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ha&&e.ua!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=qo(o,r.da(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xk(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=pt.fromDate(n);return{timestampValue:ja(r.serializer,i)}}if(n instanceof pt){const i=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ja(r.serializer,i)}}if(n instanceof nm)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Jr)return{bytesValue:zk(r.serializer,n._byteString)};if(n instanceof ut){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_w(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${tm(n)}`)}(t,e)}function XR(t,e){const n={};return uk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(t,(r,i)=>{const s=qo(i,e.aa(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof nm||t instanceof Jr||t instanceof ut||t instanceof $o)}function Zw(t,e,n){if(!JR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=tm(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function nv(t,e,n){if((e=me(e))instanceof Es)return e._internalPath;if(typeof e=="string")return eb(t,e);throw Dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nj=new RegExp("[~\\*/\\[\\]]");function eb(t,e,n){if(e.search(Nj)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Es(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new q(L.INVALID_ARGUMENT,a+t+l)}function ZR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Dj extends Qc{data(){return super.data()}}function sm(t,e){return typeof e=="string"?eb(t,e):e instanceof Es?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tb{}class Fu extends tb{}function Wi(t,e,...n){let r=[];e instanceof tb&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof nb).length,o=i.filter(a=>a instanceof om).length;if(s>1||s>0&&o>0)throw new q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class om extends Fu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new om(e,n,r)}_apply(e){const n=this._parse(e);return nx(e._query,n),new ln(e.firestore,e.converter,zp(e._query,n))}_parse(e){const n=zo(e.firestore);return function(i,s,o,a,l,c,u){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){wI(u,c);const h=[];for(const f of u)h.push(yI(a,i,f));d={arrayValue:{values:h}}}else d=yI(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||wI(u,c),d=QR(o,s,u,c==="in"||c==="not-in");return Ve.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oj(t,e,n){const r=e,i=sm("where",t);return om._create(i,r,n)}class nb extends tb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)nx(s,a),s=zp(s,a)}(e._query,n),new ln(e.firestore,e.converter,zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rb extends Fu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rb(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new q(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ba(i,s);return function(a,l){if(hw(a)===null){const c=Kf(a);c!==null&&rx(a,c,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new ln(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Mi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Lj(t,e="asc"){const n=e,r=sm("orderBy",t);return rb._create(r,n)}class am extends Fu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new am(e,n,r)}_apply(e){return new ln(e.firestore,e.converter,Sh(e._query,this._limit,this._limitType))}}function Mj(t){return UR("limit",t),am._create("limit",t,"F")}function Fj(t){return UR("limitToLast",t),am._create("limitToLast",t,"L")}class lm extends Fu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lm(e,n,r)}_apply(e){const n=tx(e,this.type,this._docOrFields,this._inclusive);return new ln(e.firestore,e.converter,function(r,i){return new Mi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function Vj(...t){return lm._create("startAt",t,!0)}function Bj(...t){return lm._create("startAfter",t,!1)}class cm extends Fu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cm(e,n,r)}_apply(e){const n=tx(e,this.type,this._docOrFields,this._inclusive);return new ln(e.firestore,e.converter,function(r,i){return new Mi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function Uj(...t){return cm._create("endBefore",t,!1)}function $j(...t){return cm._create("endAt",t,!0)}function tx(t,e,n,r){if(n[0]=me(n[0]),n[0]instanceof Qc)return function(i,s,o,a,l){if(!a)throw new q(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of ho(i))if(u.field.isKeyField())c.push(bo(s,a.key));else{const d=a.data.field(u.field);if(Hf(d))throw new q(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=u.field.canonicalString();throw new q(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}c.push(d)}return new bs(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=zo(t.firestore);return function(s,o,a,l,c,u){const d=s.explicitOrderBy;if(c.length>d.length)throw new q(L.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<c.length;f++){const g=c[f];if(d[f].field.isKeyField()){if(typeof g!="string")throw new q(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof g}`);if(!fw(s)&&g.indexOf("/")!==-1)throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${g}' contains a slash.`);const p=s.path.child(ze.fromString(g));if(!te.isDocumentKey(p))throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${p}' is not because it contains an odd number of segments.`);const w=new te(p);h.push(bo(o,w))}else{const p=QR(a,l,g);h.push(p)}}return new bs(h,u)}(t._query,t.firestore._databaseId,i,e,n,r)}}function yI(t,e,n){if(typeof(n=me(n))=="string"){if(n==="")throw new q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(e)&&n.indexOf("/")!==-1)throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!te.isDocumentKey(r))throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bo(t,new te(r))}if(n instanceof ut)return bo(t,n._key);throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(n)}.`)}function wI(t,e){if(!Array.isArray(t)||t.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nx(t,e){if(e.isInequality()){const r=Kf(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new q(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=hw(t);s!==null&&rx(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function rx(t,e,n){if(!n.isEqual(e))throw new q(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ib{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Uo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new nm(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=ps(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);pe(Jk(r));const i=new ys(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class zj extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Si extends Qc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uc extends Si{data(e={}){return super.data(e)}}class Is{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new so(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uc(this._firestore,this._userDataWriter,r.key,r,new so(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new uc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new so(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new uc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new so(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:qj(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}function ix(t,e){return t instanceof Si&&e instanceof Si?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Is&&e instanceof Is&&t._firestore===e._firestore&&qR(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){t=He(t,ut);const e=He(t.firestore,It);return FR(Xt(e),t._key).then(n=>sb(e,t,n))}class jo extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function Hj(t){t=He(t,ut);const e=He(t.firestore,It),n=Xt(e),r=new jo(e);return lj(n,t._key).then(i=>new Si(e,r,t._key,i,new so(i!==null&&i.hasLocalMutations,!0),t.converter))}function Kj(t){t=He(t,ut);const e=He(t.firestore,It);return FR(Xt(e),t._key,{source:"server"}).then(n=>sb(e,t,n))}function Gj(t){t=He(t,ln);const e=He(t.firestore,It),n=Xt(e),r=new jo(e);return ex(t._query),VR(n,t._query).then(i=>new Is(e,r,t,i))}function Wj(t){t=He(t,ln);const e=He(t.firestore,It),n=Xt(e),r=new jo(e);return cj(n,t._query).then(i=>new Is(e,r,t,i))}function Yj(t){t=He(t,ln);const e=He(t.firestore,It),n=Xt(e),r=new jo(e);return VR(n,t._query,{source:"server"}).then(i=>new Is(e,r,t,i))}function bI(t,e,n){t=He(t,ut);const r=He(t.firestore,It),i=um(t.converter,e,n);return Vu(r,[im(zo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,gt.none())])}function _I(t,e,n,...r){t=He(t,ut);const i=He(t.firestore,It),s=zo(i);let o;return o=typeof(e=me(e))=="string"||e instanceof Es?Jw(s,"updateDoc",t._key,e,n,r):Xw(s,"updateDoc",t._key,e),Vu(i,[o.toMutation(t._key,gt.exists(!0))])}function Qj(t){return Vu(He(t.firestore,It),[new hl(t._key,gt.none())])}function Xj(t,e){const n=He(t.firestore,It),r=Nh(t),i=um(t.converter,e);return Vu(n,[im(zo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,gt.exists(!1))]).then(()=>r)}function sx(t,...e){var n,r,i;t=me(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||tv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(tv(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof ut)c=He(t.firestore,It),u=ul(t._key.path),l={next:d=>{e[o]&&e[o](sb(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=He(t,ln);c=He(d.firestore,It),u=d._query;const h=new jo(c);l={next:f=>{e[o]&&e[o](new Is(c,h,d,f))},error:e[o+1],complete:e[o+2]},ex(t._query)}return function(d,h,f,g){const p=new Zf(g),w=new Vw(h,p,f);return d.asyncQueue.enqueueAndForget(async()=>Lw(await Ya(d),w)),()=>{p.Sc(),d.asyncQueue.enqueueAndForget(async()=>Mw(await Ya(d),w))}}(Xt(c),u,a,l)}function Jj(t,e){return uj(Xt(t=He(t,It)),tv(e)?e:{next:e})}function Vu(t,e){return function(n,r){const i=new Kt;return n.asyncQueue.enqueueAndForget(async()=>V6(await Ww(n),r,i)),i.promise}(Xt(t),e)}function sb(t,e,n){const r=n.docs.get(e._key),i=new jo(t);return new Si(t,i,e._key,r,new so(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=zo(e)}set(e,n,r){this._verifyNotCommitted();const i=es(e,this._firestore),s=um(i.converter,n,r),o=im(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,gt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=es(e,this._firestore);let o;return o=typeof(n=me(n))=="string"||n instanceof Es?Jw(this._dataReader,"WriteBatch.update",s._key,n,r,i):Xw(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,gt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=es(e,this._firestore);return this._mutations=this._mutations.concat(new hl(n._key,gt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new q(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function es(t,e){if((t=me(t)).firestore!==e)throw new q(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=zo(e)}get(e){const n=es(e,this._firestore),r=new zj(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ue();const s=i[0];if(s.isFoundDocument())return new Qc(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Qc(this._firestore,r,n._key,null,n.converter);throw ue()})}set(e,n,r){const i=es(e,this._firestore),s=um(i.converter,n,r),o=im(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=es(e,this._firestore);let o;return o=typeof(n=me(n))=="string"||n instanceof Es?Jw(this._dataReader,"Transaction.update",s._key,n,r,i):Xw(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=es(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=es(e,this._firestore),r=new jo(this._firestore);return super.get(e).then(i=>new Si(this._firestore,r,n._key,i._document,new so(!1,!1),n.converter))}}function n3(t,e,n){t=He(t,It);const r=Object.assign(Object.assign({},Zj),n);return function(i){if(i.maxAttempts<1)throw new q(L.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new Kt;return i.asyncQueue.enqueueAndForget(async()=>{const l=await sj(i);new rj(i.asyncQueue,l,o,s,a).run()}),a.promise}(Xt(t),i=>e(new t3(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(){return new Mu("deleteField")}function i3(){return new Qw("serverTimestamp")}function s3(...t){return new Rj("arrayUnion",t)}function o3(...t){return new xj("arrayRemove",t)}function a3(t){return new Pj("increment",t)}(function(t,e=!0){(function(n){cl=n})(Oi),Ei(new cr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new It(new m5(n.getProvider("auth-internal")),new y5(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ys(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),or(pE,"3.11.0",t),or(pE,"3.11.0","esm2017")})();const l3="@firebase/firestore-compat",c3="0.3.8";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new q("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){if(typeof Uint8Array>"u")throw new q("unimplemented","Uint8Arrays are not available in this environment.")}function II(){if(!j5())throw new q("unimplemented","Blobs are unavailable in Firestore in this environment.")}let ox=class rv{constructor(e){this._delegate=e}static fromBase64String(e){return II(),new rv(Jr.fromBase64String(e))}static fromUint8Array(e){return EI(),new rv(Jr.fromUint8Array(e))}toBase64(){return II(),this._delegate.toBase64()}toUint8Array(){return EI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t){return u3(t,["next","error","complete"])}function u3(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{enableIndexedDbPersistence(e,n){return yj(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return wj(e._delegate)}clearIndexedDbPersistence(e){return bj(e._delegate)}}class ax{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ys||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Er("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){fj(this._delegate,e,n,r)}enableNetwork(){return Ej(this._delegate)}disableNetwork(){return Ij(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,BR("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return _j(this._delegate)}onSnapshotsInSync(e){return Jj(this._delegate,e)}get app(){if(!this._appCompat)throw new q("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qa(this,$R(this._delegate,e))}catch(n){throw En(n,"collection()","Firestore.collection()")}}doc(e){try{return new nr(this,Nh(this._delegate,e))}catch(n){throw En(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _n(this,mj(this._delegate,e))}catch(n){throw En(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n3(this._delegate,n=>e(new lx(this,n)))}batch(){return Xt(this._delegate),new cx(new e3(this._delegate,e=>Vu(this._delegate,e)))}loadBundle(e){return Sj(this._delegate,e)}namedQuery(e){return Tj(this._delegate,e).then(n=>n?new _n(this,n):null)}}class dm extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new ox(new Jr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return nr.forKey(n,this.firestore,null)}}function h3(t){u5(t)}class lx{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new dm(e)}get(e){const n=oo(e);return this._delegate.get(n).then(r=>new Xc(this._firestore,new Si(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=oo(e);return r?(ob("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=oo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=oo(e);return this._delegate.delete(n),this}}class cx{constructor(e){this._delegate=e}set(e,n,r){const i=oo(e);return r?(ob("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=oo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=oo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Ao{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new uc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Ao.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Ao(e,new dm(e),n),i.set(n,s)),s}}Ao.INSTANCES=new WeakMap;class nr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new q("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new nr(n,new ut(n._delegate,r,new te(e)))}static forKey(e,n,r){return new nr(n,new ut(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Qa(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qa(this.firestore,$R(this._delegate,e))}catch(n){throw En(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=me(e),e instanceof ut?zR(this._delegate,e):!1}set(e,n){n=ob("DocumentReference.set",n);try{return n?bI(this._delegate,e,n):bI(this._delegate,e)}catch(r){throw En(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?_I(this._delegate,e):_I(this._delegate,e,n,...r)}catch(i){throw En(i,"updateDoc()","DocumentReference.update()")}}delete(){return Qj(this._delegate)}onSnapshot(...e){const n=ux(e),r=dx(e,i=>new Xc(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return sx(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Hj(this._delegate):(e==null?void 0:e.source)==="server"?n=Kj(this._delegate):n=jj(this._delegate),n.then(r=>new Xc(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new nr(this.firestore,e?this._delegate.withConverter(Ao.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function En(t,e,n){return t.message=t.message.replace(e,n),t}function ux(t){for(const e of t)if(typeof e=="object"&&!iv(e))return e;return{}}function dx(t,e){var n,r;let i;return iv(t[0])?i=t[0]:iv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Xc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new nr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return ix(this._delegate,e._delegate)}}class Jc extends Xc{data(e){const n=this._delegate.data(e);return d5(n!==void 0),n}}class _n{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new dm(e)}where(e,n,r){try{return new _n(this.firestore,Wi(this._delegate,Oj(e,n,r)))}catch(i){throw En(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new _n(this.firestore,Wi(this._delegate,Lj(e,n)))}catch(r){throw En(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _n(this.firestore,Wi(this._delegate,Mj(e)))}catch(n){throw En(n,"limit()","Query.limit()")}}limitToLast(e){try{return new _n(this.firestore,Wi(this._delegate,Fj(e)))}catch(n){throw En(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _n(this.firestore,Wi(this._delegate,Vj(...e)))}catch(n){throw En(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _n(this.firestore,Wi(this._delegate,Bj(...e)))}catch(n){throw En(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _n(this.firestore,Wi(this._delegate,Uj(...e)))}catch(n){throw En(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _n(this.firestore,Wi(this._delegate,$j(...e)))}catch(n){throw En(n,"endAt()","Query.endAt()")}}isEqual(e){return qR(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Wj(this._delegate):(e==null?void 0:e.source)==="server"?n=Yj(this._delegate):n=Gj(this._delegate),n.then(r=>new sv(this.firestore,new Is(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=ux(e),r=dx(e,i=>new sv(this.firestore,new Is(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return sx(this._delegate,n,r)}withConverter(e){return new _n(this.firestore,e?this._delegate.withConverter(Ao.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class f3{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Jc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class sv{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new _n(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Jc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new f3(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Jc(this._firestore,r))})}isEqual(e){return ix(this._delegate,e._delegate)}}class Qa extends _n{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nr(this.firestore,e):null}doc(e){try{return e===void 0?new nr(this.firestore,Nh(this._delegate)):new nr(this.firestore,Nh(this._delegate,e))}catch(n){throw En(n,"doc()","CollectionReference.doc()")}}add(e){return Xj(this._delegate,e).then(n=>new nr(this.firestore,n))}isEqual(e){return zR(this._delegate,e._delegate)}withConverter(e){return new Qa(this.firestore,e?this._delegate.withConverter(Ao.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function oo(t){return He(t,ut)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(...e){this._delegate=new Es(...e)}static documentId(){return new ab(Ct.keyField().canonicalString())}isEqual(e){return e=me(e),e instanceof Es?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._delegate=e}static serverTimestamp(){const e=i3();return e._methodName="FieldValue.serverTimestamp",new Js(e)}static delete(){const e=r3();return e._methodName="FieldValue.delete",new Js(e)}static arrayUnion(...e){const n=s3(...e);return n._methodName="FieldValue.arrayUnion",new Js(n)}static arrayRemove(...e){const n=o3(...e);return n._methodName="FieldValue.arrayRemove",new Js(n)}static increment(e){const n=a3(e);return n._methodName="FieldValue.increment",new Js(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={Firestore:ax,GeoPoint:nm,Timestamp:pt,Blob:ox,Transaction:lx,WriteBatch:cx,DocumentReference:nr,DocumentSnapshot:Xc,Query:_n,QueryDocumentSnapshot:Jc,QuerySnapshot:sv,CollectionReference:Qa,FieldPath:ab,FieldValue:Js,setLogLevel:h3,CACHE_SIZE_UNLIMITED:vj};function g3(t,e){t.INTERNAL.registerComponent(new cr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},m3)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){g3(t,(e,n)=>new ax(e,n,new d3)),t.registerVersion(l3,c3)}p3(Li);function lb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Vl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ea={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend."}}function hx(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y3=v3,w3=hx,fx=new Vo("auth","Firebase",hx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new kf("@firebase/auth");function b3(t,...e){Oh.logLevel<=$e.WARN&&Oh.warn(`Auth (${Oi}): ${t}`,...e)}function Vd(t,...e){Oh.logLevel<=$e.ERROR&&Oh.error(`Auth (${Oi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,...e){throw cb(t,...e)}function an(t,...e){return cb(t,...e)}function mx(t,e,n){const r=Object.assign(Object.assign({},w3()),{[e]:n});return new Vo("auth","Firebase",r).create(e,{appName:t.name})}function vl(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&cn(t,"argument-error"),mx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cb(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fx.create(t,...e)}function Q(t,e,...n){if(!t)throw cb(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function Ir(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ub(){return SI()==="http:"||SI()==="https:"}function SI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||DC()||"connection"in navigator)?navigator.onLine:!0}function E3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=P$()||Ly()}get(){return _3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t,e){Ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new Bu(3e4,6e4);function Ft(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zt(t,e,n,r,i={}){return px(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ol(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),gx.fetch()(vx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function px(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},I3),e);try{const i=new T3(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yl(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mx(t,u,c);cn(t,u)}}catch(i){if(i instanceof mn)throw i;cn(t,"network-request-failed",{message:String(i)})}}async function Bi(t,e,n,r,i={}){const s=await zt(t,e,n,r,i);return"mfaPendingCredential"in s&&cn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function vx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?db(t.config,i):`${t.config.apiScheme}://${i}`}class T3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),S3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=an(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e){return zt(t,"POST","/v1/accounts:delete",e)}async function A3(t,e){return zt(t,"POST","/v1/accounts:update",e)}async function k3(t,e){return zt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R3(t,e=!1){const n=me(t),r=await n.getIdToken(e),i=hm(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:dc(wg(i.auth_time)),issuedAtTime:dc(wg(i.iat)),expirationTime:dc(wg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wg(t){return Number(t)*1e3}function hm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=PC(n);return i?JSON.parse(i):(Vd("Failed to decode base64 JWT payload"),null)}catch(i){return Vd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function x3(t){const e=hm(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mn&&P3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function P3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ti(t,k3(n,{idToken:r}));Q(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?L3(s.providerUserInfo):[],a=O3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yx(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function D3(t){const e=me(t);await eu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function L3(t){return t.map(e=>{var{providerId:n}=e,r=lb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e){const n=await px(t,{},async()=>{const r=ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await M3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new tu;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new N3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ti(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R3(this,e)}reload(){return D3(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ti(this,C3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:A,stsTokenManager:C}=n;Q(v&&C,e,"internal-error");const E=tu.fromJSON(this.name,C);Q(typeof v=="string",e,"internal-error"),Yi(d,e.name),Yi(h,e.name),Q(typeof T=="boolean",e,"internal-error"),Q(typeof S=="boolean",e,"internal-error"),Yi(f,e.name),Yi(g,e.name),Yi(p,e.name),Yi(w,e.name),Yi(y,e.name),Yi(b,e.name);const R=new fo({uid:v,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:S,photoURL:g,phoneNumber:f,tenantId:p,stsTokenManager:E,createdAt:y,lastLoginAt:b});return A&&Array.isArray(A)&&(R.providerData=A.map(O=>Object.assign({},O))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new tu;i.updateFromServerResponse(n);const s=new fo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await eu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Map;function Hn(t){Ir(t instanceof Function,"Expected a class definition");let e=TI.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wx.type="NONE";const Xa=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mo(this.userKey,i.apiKey,s),this.fullPersistenceKey=mo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(Hn(Xa),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Hn(Xa);const o=mo(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=fo._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ea(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ea(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ex(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ix(e))return"Blackberry";if(Sx(e))return"Webos";if(hb(e))return"Safari";if((e.includes("chrome/")||_x(e))&&!e.includes("edge/"))return"Chrome";if(Uu(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bx(t=yt()){return/firefox\//i.test(t)}function hb(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _x(t=yt()){return/crios\//i.test(t)}function Ex(t=yt()){return/iemobile/i.test(t)}function Uu(t=yt()){return/android/i.test(t)}function Ix(t=yt()){return/blackberry/i.test(t)}function Sx(t=yt()){return/webos/i.test(t)}function yl(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function F3(t=yt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function V3(t=yt()){var e;return yl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B3(){return OC()&&document.documentMode===10}function Tx(t=yt()){return yl(t)||Uu(t)||Sx(t)||Ix(t)||/windows phone/i.test(t)||Ex(t)}function U3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t,e=[]){let n;switch(t){case"Browser":n=CI(yt());break;case"Worker":n=`${CI(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oi}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t){return(await zt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Ax(t,e){return zt(t,"GET","/v2/recaptchaConfig",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){return t!==void 0&&t.getResponse!==void 0}function kI(t){return t!==void 0&&t.enterprise!==void 0}class kx{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function fb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=an("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",z3().appendChild(r)})}function Rx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const q3="https://www.google.com/recaptcha/enterprise.js?render=",j3="recaptcha-enterprise",H3="NO_RECAPTCHA";class xx{constructor(e){this.type=j3,this.auth=Rt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Ax(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new kx(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;kI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(H3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&kI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}fb(q3+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Ss(t,e,n,r=!1){const i=new xx(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RI(this),this.idTokenSubscription=new RI(this),this.beforeStateQueue=new K3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?me(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hn(e))})}async initializeRecaptchaConfig(){const e=await Ax(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new kx(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new xx(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&b3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rt(t){return me(t)}class RI{constructor(e){this.auth=e,this.observer=null,this.addObserver=LC(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function W3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Y3(t,e,n){const r=Rt(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Px(e),{host:o,port:a}=Q3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||X3()}function Px(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Q3(t){const e=Px(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:xI(o)}}}function xI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t,e){return zt(t,"POST","/v1/accounts:resetPassword",Ft(t,e))}async function Dx(t,e){return zt(t,"POST","/v1/accounts:update",e)}async function J3(t,e){return zt(t,"POST","/v1/accounts:update",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg(t,e){return Bi(t,"POST","/v1/accounts:signInWithPassword",Ft(t,e))}async function fm(t,e){return zt(t,"POST","/v1/accounts:sendOobCode",Ft(t,e))}async function Z3(t,e){return fm(t,e)}async function _g(t,e){return fm(t,e)}async function Eg(t,e){return fm(t,e)}async function e9(t,e){return fm(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(t,e){return Bi(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,e))}async function n9(t,e){return Bi(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends wl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Ss(e,r,"signInWithPassword");return bg(e,i)}else return bg(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Ss(e,r,"signInWithPassword");return bg(e,s)}else return Promise.reject(i)});case"emailLink":return t9(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Dx(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return n9(e,{idToken:n,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pi(t,e){return Bi(t,"POST","/v1/accounts:signInWithIdp",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="http://localhost";class Zr extends wl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lb(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return pi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pi(e,n)}buildRequest(){const e={requestUri:r9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e){return zt(t,"POST","/v1/accounts:sendVerificationCode",Ft(t,e))}async function s9(t,e){return Bi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,e))}async function o9(t,e){const n=await Bi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,e));if(n.temporaryProof)throw Yl(t,"account-exists-with-different-credential",n);return n}const a9={USER_NOT_FOUND:"user-not-found"};async function l9(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Bi(t,"POST","/v1/accounts:signInWithPhoneNumber",Ft(t,n),a9)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends wl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new go({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new go({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return s9(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return o9(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return l9(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new go({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u9(t){const e=ca(ql(t)).link,n=e?ca(ql(e)).deep_link_id:null,r=ca(ql(t)).deep_link_id;return(r?ca(ql(r)).link:null)||r||n||e||t}class mm{constructor(e){var n,r,i,s,o,a;const l=ca(ql(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=c9((i=l.mode)!==null&&i!==void 0?i:null);Q(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=u9(e);try{return new mm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.providerId=Os.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mm.parseLink(n);return Q(r,"argument-error"),nu._fromEmailAndCode(e,r.code,r.tenantId)}}Os.PROVIDER_ID="password";Os.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Os.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends Ui{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ia extends bl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),Zr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),Zr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ia.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ia.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Ia(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends bl{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zr._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Dr.credential(n,r)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends bl{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.GITHUB_SIGN_IN_METHOD="github.com";Or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="http://localhost";class Ja extends wl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return pi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Ja(r,s)}static _create(e,n){return new Ja(e,n)}buildRequest(){return{requestUri:d9,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="saml.";class Lh extends Ui{constructor(e){Q(e.startsWith(h9),"argument-error"),super(e)}static credentialFromResult(e){return Lh.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Lh.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ja.fromJSON(e);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Ja._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends bl{constructor(){super("twitter.com")}static credential(e,n){return Zr._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(t,e){return Bi(t,"POST","/v1/accounts:signUp",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await fo._fromIdTokenResponse(e,r,i),o=PI(r);return new ur({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PI(r);return new ur({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t){var e;const n=Rt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ur({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Bd(n,{returnSecureToken:!0}),i=await ur._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mh(e,n,r,i)}}function Ox(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e){const n=me(t);await gm(!0,n,e);const{providerUserInfo:r}=await A3(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=Lx(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function mb(t,e,n=!1){const r=await Ti(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ur._forOperation(t,"link",r)}async function gm(t,e,n){await eu(e);const r=Lx(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";Q(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ti(t,Ox(r,i,e,t),n);Q(s.idToken,r,"internal-error");const o=hm(s.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),ur._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&cn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(t,e,n=!1){const r="signIn",i=await Ox(t,r,e),s=await ur._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function pm(t,e){return Fx(Rt(t),e)}async function Vx(t,e){const n=me(t);return await gm(!1,n,e.providerId),mb(n,e)}async function Bx(t,e){return Mx(me(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e){return Bi(t,"POST","/v1/accounts:signInWithCustomToken",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e){const n=Rt(t),r=await g9(n,{token:e,returnSecureToken:!0}),i=await ur._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?gb._fromServerResponse(e,n):"totpInfo"in n?pb._fromServerResponse(e,n):cn(e,"internal-error")}}class gb extends $u{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new gb(n)}}class pb extends $u{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new pb(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,e,n){var r;Q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e,n){var r;const i=Rt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Ss(i,s,"getOobCode",!0);n&&Sa(i,o,n),await _g(i,o)}else n&&Sa(i,s,n),await _g(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Ss(i,s,"getOobCode",!0);n&&Sa(i,a,n),await _g(i,a)}else return Promise.reject(o)})}async function y9(t,e,n){await Nx(me(t),{oobCode:e,newPassword:n})}async function w9(t,e){await J3(me(t),{oobCode:e})}async function Ux(t,e){const n=me(t),r=await Nx(n,{oobCode:e}),i=r.requestType;switch(Q(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(r.mfaInfo,n,"internal-error");default:Q(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=$u._fromServerResponse(Rt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function b9(t,e){const{data:n}=await Ux(me(t),e);return n.email}async function _9(t,e,n){var r;const i=Rt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Ss(i,s,"signUpPassword");o=Bd(i,c)}else o=Bd(i,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await Ss(i,s,"signUpPassword");return Bd(i,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await ur._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function E9(t,e,n){return pm(me(t),Os.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e,n){var r;const i=Rt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){Q(l.handleCodeInApp,i,"argument-error"),l&&Sa(i,a,l)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await Ss(i,s,"getOobCode",!0);o(a,n),await Eg(i,a)}else o(s,n),await Eg(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await Ss(i,s,"getOobCode",!0);o(l,n),await Eg(i,l)}else return Promise.reject(a)})}function S9(t,e){const n=mm.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function T9(t,e,n){const r=me(t),i=Os.credentialWithLink(e,n||Zc());return Q(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),pm(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e){return zt(t,"POST","/v1/accounts:createAuthUri",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e){const n=ub()?Zc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await C9(me(t),r);return i||[]}async function k9(t,e){const n=me(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Sa(n.auth,i,e);const{email:s}=await Z3(n.auth,i);s!==t.email&&await t.reload()}async function R9(t,e,n){const r=me(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Sa(r.auth,s,n);const{email:o}=await e9(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,e){return zt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=me(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ti(r,x9(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function N9(t,e){return $x(me(t),e,null)}function D9(t,e){return $x(me(t),null,e)}async function $x(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ti(t,Dx(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=hm(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ta(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new L9(s,i);case"github.com":return new M9(s,i);case"google.com":return new F9(s,i);case"twitter.com":return new V9(s,i,t.screenName||null);case"custom":case"anonymous":return new Ta(s,null);default:return new Ta(s,r,i)}}class Ta{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class zx extends Ta{constructor(e,n,r,i){super(e,n,r),this.username=i}}class L9 extends Ta{constructor(e,n){super(e,"facebook.com",n)}}class M9 extends zx{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class F9 extends Ta{constructor(e,n){super(e,"google.com",n)}}class V9 extends zx{constructor(e,n,r){super(e,"twitter.com",n,r)}}function B9(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:O9(n)}class ao{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new ao("enroll",e,n)}static _fromMfaPendingCredential(e){return new ao("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return ao._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ao._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Rt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>$u._fromServerResponse(r,a));Q(i.mfaPendingCredential,r,"internal-error");const o=ao._fromMfaPendingCredential(i.mfaPendingCredential);return new vb(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const u=await ur._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return Q(n.user,r,"internal-error"),ur._forOperation(n.user,n.operationType,c);default:cn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function U9(t,e){var n;const r=me(t),i=e;return Q(e.customData.operationType,r,"argument-error"),Q((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),vb._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:start",Ft(t,e))}function z9(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(t,e))}function q9(t,e){return zt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(t,e))}class yb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>$u._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new yb(e)}async getSession(){return ao._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ti(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ti(this.user,q9(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Ig=new WeakMap;function j9(t){const e=me(t);return Ig.has(e)||Ig.set(e,yb._fromUser(e)),Ig.get(e)}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(){const t=yt();return hb(t)||yl(t)}const K9=1e3,G9=10;class jx extends qx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=H9()&&U3(),this.fallbackToPolling=Tx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);B3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,G9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},K9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jx.type="LOCAL";const wb=jx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx extends qx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Hx.type="SESSION";const ko=Hx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await W9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=zu("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return window}function Q9(t){Dt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof Dt().WorkerGlobalScope<"u"&&typeof Dt().importScripts=="function"}async function X9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z9(){return bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="firebaseLocalStorageDb",eH=1,Vh="firebaseLocalStorage",Gx="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ym(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function tH(){const t=indexedDB.deleteDatabase(Kx);return new qu(t).toPromise()}function ov(){const t=indexedDB.open(Kx,eH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vh,{keyPath:Gx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await tH(),e(await ov()))})})}async function NI(t,e,n){const r=ym(t,!0).put({[Gx]:e,value:n});return new qu(r).toPromise()}async function nH(t,e){const n=ym(t,!1).get(e),r=await new qu(n).toPromise();return r===void 0?null:r.value}function DI(t,e){const n=ym(t,!0).delete(e);return new qu(n).toPromise()}const rH=800,iH=3;class Wx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ov(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vm._getInstance(Z9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X9(),!this.activeServiceWorker)return;this.sender=new Y9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ov();return await NI(e,Fh,"1"),await DI(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ym(i,!1).getAll();return new qu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wx.type="LOCAL";const ru=Wx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(t,e){return zt(t,"POST","/v2/accounts/mfaSignIn:start",Ft(t,e))}function oH(t,e){return zt(t,"POST","/v2/accounts/mfaSignIn:finalize",Ft(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=500,lH=6e4,pd=1e12;class cH{constructor(e){this.auth=e,this.counter=pd,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new uH(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||pd;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||pd;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||pd;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class uH{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Q(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=dH(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},lH)},aH))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function dH(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=Rx("rcb"),hH=new Bu(3e4,6e4),fH="https://www.google.com/recaptcha/api.js?";class mH{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Dt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Q(gH(n),e,"argument-error"),this.shouldResolveImmediately(n)&&AI(Dt().grecaptcha)?Promise.resolve(Dt().grecaptcha):new Promise((r,i)=>{const s=Dt().setTimeout(()=>{i(an(e,"network-request-failed"))},hH.get());Dt()[Sg]=()=>{Dt().clearTimeout(s),delete Dt()[Sg];const a=Dt().grecaptcha;if(!a||!AI(a)){i(an(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${fH}?${ol({onload:Sg,render:"explicit",hl:n})}`;fb(o).catch(()=>{clearTimeout(s),i(an(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Dt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function gH(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class pH{async load(e){return new cH(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="recaptcha",vH={theme:"light",type:"image"};let yH=class{constructor(e,n=Object.assign({},vH),r){this.parameters=n,this.type=Yx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rt(r),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;Q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pH:new mH,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Dt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Q(ub()&&!bb(),this.auth,"internal-error"),await wH(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await $3(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function wH(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=go._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function bH(t,e,n){const r=Rt(t),i=await wm(r,e,me(n));return new _b(i,s=>pm(r,s))}async function _H(t,e,n){const r=me(t);await gm(!1,r,"phone");const i=await wm(r.auth,e,me(n));return new _b(i,s=>Vx(r,s))}async function EH(t,e,n){const r=me(t),i=await wm(r.auth,e,me(n));return new _b(i,s=>Bx(r,s))}async function wm(t,e,n){var r;const i=await n.verify();try{Q(typeof i=="string",t,"argument-error"),Q(n.type===Yx,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return Q(o.type==="enroll",t,"internal-error"),(await $9(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Q(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return Q(a,t,"missing-multi-factor-info"),(await sH(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await i9(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function IH(t,e){await mb(me(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro=class Ud{constructor(e){this.providerId=Ud.PROVIDER_ID,this.auth=Rt(e)}verifyPhoneNumber(e,n){return wm(this.auth,e,me(n))}static credential(e,n){return go._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Ud.credentialFromTaggedObject(n)}static credentialFromError(e){return Ud.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?go._fromTokenResponse(n,r):null}};Ro.PROVIDER_ID="phone";Ro.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t,e){return e?Hn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb extends wl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function SH(t){return Fx(t.auth,new Eb(t),t.bypassAuthState)}function TH(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),Mx(n,new Eb(t),t.bypassAuthState)}async function CH(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),mb(n,new Eb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SH;case"linkViaPopup":case"linkViaRedirect":return CH;case"reauthViaPopup":case"reauthViaRedirect":return TH;default:cn(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=new Bu(2e3,1e4);async function kH(t,e,n){const r=Rt(t);vl(t,e,Ui);const i=Ho(r,n);return new hi(r,"signInViaPopup",e,i).executeNotNull()}async function RH(t,e,n){const r=me(t);vl(r.auth,e,Ui);const i=Ho(r.auth,n);return new hi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function xH(t,e,n){const r=me(t);vl(r.auth,e,Ui);const i=Ho(r.auth,n);return new hi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class hi extends Qx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=zu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AH.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="pendingRedirect",hc=new Map;class NH extends Qx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hc.get(this.auth._key());if(!e){try{const r=await DH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hc.set(this.auth._key(),e)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DH(t,e){const n=Jx(e),r=Xx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function Ib(t,e){return Xx(t)._set(Jx(e),"true")}function OH(){hc.clear()}function Sb(t,e){hc.set(t._key(),e)}function Xx(t){return Hn(t._redirectPersistence)}function Jx(t){return mo(PH,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t,e,n){return MH(t,e,n)}async function MH(t,e,n){const r=Rt(t);vl(t,e,Ui),await r._initializationPromise;const i=Ho(r,n);return await Ib(i,r),i._openRedirect(r,e,"signInViaRedirect")}function FH(t,e,n){return VH(t,e,n)}async function VH(t,e,n){const r=me(t);vl(r.auth,e,Ui),await r.auth._initializationPromise;const i=Ho(r.auth,n);await Ib(i,r.auth);const s=await Zx(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function BH(t,e,n){return UH(t,e,n)}async function UH(t,e,n){const r=me(t);vl(r.auth,e,Ui),await r.auth._initializationPromise;const i=Ho(r.auth,n);await gm(!1,r,e.providerId),await Ib(i,r.auth);const s=await Zx(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function $H(t,e){return await Rt(t)._initializationPromise,bm(t,e,!1)}async function bm(t,e,n=!1){const r=Rt(t),i=Ho(r,e),o=await new NH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function Zx(t){const e=zu(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=10*60*1e3;class eP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(an(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zH&&this.cachedEventUids.clear(),this.cachedEventUids.has(OI(e))}saveEventToCache(e){this.cachedEventUids.add(OI(e)),this.lastProcessedEventTime=Date.now()}}function OI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e={}){return zt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HH=/^https?/;async function KH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nP(t);for(const n of e)try{if(GH(n))return}catch{}cn(t,"unauthorized-domain")}function GH(t){const e=Zc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HH.test(n))return!1;if(jH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=new Bu(3e4,6e4);function LI(){const t=Dt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YH(t){return new Promise((e,n)=>{var r,i,s;function o(){LI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LI(),n(an(t,"network-request-failed"))},timeout:WH.get()})}if(!((i=(r=Dt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Dt().gapi)===null||s===void 0)&&s.load)o();else{const a=Rx("iframefcb");return Dt()[a]=()=>{gapi.load?o():n(an(t,"network-request-failed"))},fb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $d=null,e})}let $d=null;function QH(t){return $d=$d||YH(t),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=new Bu(5e3,15e3),JH="__/auth/iframe",ZH="emulator/auth/iframe",e8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n8(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?db(e,ZH):`https://${t.config.authDomain}/${JH}`,r={apiKey:e.apiKey,appName:t.name,v:Oi},i=t8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ol(r).slice(1)}`}async function r8(t){const e=await QH(t),n=Dt().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:n8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=an(t,"network-request-failed"),a=Dt().setTimeout(()=>{s(o)},XH.get());function l(){Dt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s8=500,o8=600,a8="_blank",l8="http://localhost";class MI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c8(t,e,n,r=s8,i=o8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},i8),{width:r.toString(),height:i.toString(),top:s,left:o}),c=yt().toLowerCase();n&&(a=_x(c)?a8:n),bx(c)&&(e=e||l8,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(V3(c)&&a!=="_self")return u8(e||"",a),new MI(null);const d=window.open(e||"",a,u);Q(d,t,"popup-blocked");try{d.focus()}catch{}return new MI(d)}function u8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="__/auth/handler",h8="emulator/auth/handler",f8=encodeURIComponent("fac");async function av(t,e,n,r,i,s){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oi,eventId:i};if(e instanceof Ui){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",V$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof bl){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${f8}=${encodeURIComponent(l)}`:"";return`${m8(t)}?${ol(a).slice(1)}${c}`}function m8({config:t}){return t.emulator?db(t,h8):`https://${t.authDomain}/${d8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="webStorageSupport";class g8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ko,this._completeRedirectFn=bm,this._overrideRedirectResult=Sb}async _openPopup(e,n,r,i){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await av(e,n,r,Zc(),i);return c8(e,o,zu())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await av(e,n,r,Zc(),i);return Q9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await r8(e),r=new eP(e);return n.register("authEvent",i=>(Q(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tg,{type:Tg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Tg];o!==void 0&&n(!!o),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Tx()||hb()||yl()}}const p8=g8;class v8{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return zr("unexpected MultiFactorSessionType")}}}class Tb extends v8{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Tb(e)}_finalizeEnroll(e,n,r){return z9(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return oH(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class rP{constructor(){}static assertion(e){return Tb._fromCredential(e)}}rP.FACTOR_ID="phone";var FI="@firebase/auth",VI="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function b8(t){Ei(new cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),Q(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cx(t)},c=new G3(r,i,s,l);return W3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ei(new cr("auth-internal",e=>{const n=Rt(e.getProvider("auth").getImmediate());return(r=>new y8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(FI,VI,w8(t)),or(FI,VI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=5*60;R$("authIdTokenMaxAge");b8("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=2e3;async function I8(t,e,n){var r;const{BuildInfo:i}=xo();Ir(e.sessionId,"AuthEvent did not contain a session ID");const s=await k8(e.sessionId),o={};return yl()?o.ibi=i.packageName:Uu()?o.apn=i.packageName:cn(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,av(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function S8(t){const{BuildInfo:e}=xo(),n={};yl()?n.iosBundleId=e.packageName:Uu()?n.androidPackageName=e.packageName:cn(t,"operation-not-supported-in-this-environment"),await nP(t,n)}function T8(t){const{cordova:e}=xo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,F3()?"_blank":"_system","location=yes"),n(i)})})}async function C8(t,e,n){const{cordova:r}=xo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(an(t,"redirect-cancelled-by-user"))},E8))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),Uu()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function A8(t){var e,n,r,i,s,o,a,l,c,u;const d=xo();Q(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((u=(c=d==null?void 0:d.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function k8(t){const e=R8(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function R8(t){if(Ir(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=20;class P8 extends eP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function N8(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:L8(),postBody:null,tenantId:t.tenantId,error:an(t,"no-auth-event")}}function D8(t,e){return lv()._set(cv(t),e)}async function BI(t){const e=await lv()._get(cv(t));return e&&await lv()._remove(cv(t)),e}function O8(t,e){var n,r;const i=F8(e);if(i.includes("/__/auth/callback")){const s=zd(i),o=s.firebaseError?M8(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?an(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function L8(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<x8;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function lv(){return Hn(wb)}function cv(t){return mo("authEvent",t.config.apiKey,t.name)}function M8(t){try{return JSON.parse(t)}catch{return null}}function F8(t){const e=zd(t),n=e.link?decodeURIComponent(e.link):void 0,r=zd(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return zd(i).link||i||r||n||t}function zd(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ca(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8=500;class B8{constructor(){this._redirectPersistence=ko,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bm,this._overrideRedirectResult=Sb}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new P8(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){cn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){A8(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),OH(),await this._originValidation(e);const o=N8(e,r,i);await D8(e,o);const a=await I8(e,o,n),l=await T8(a);return C8(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S8(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=xo(),o=setTimeout(async()=>{await BI(e),n.onEvent(UI())},V8),a=async u=>{clearTimeout(o);const d=await BI(e);let h=null;d&&(u!=null&&u.url)&&(h=O8(d,u.url)),n.onEvent(h||UI())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;xo().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&a({url:u}),typeof l=="function")try{l(u)}catch(d){console.error(d)}}}}const U8=B8;function UI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:an("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t,e){Rt(t)._logFramework(e)}var z8="@firebase/auth-compat",q8="0.4.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=1e3;function fc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function H8(){return fc()==="http:"||fc()==="https:"}function iP(t=yt()){return!!((fc()==="file:"||fc()==="ionic:"||fc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function K8(){return Ly()||Af()}function G8(){return OC()&&(document==null?void 0:document.documentMode)===11}function W8(t=yt()){return/Edge\/\d+/.test(t)}function Y8(t=yt()){return G8()||W8(t)}function sP(){try{const t=self.localStorage,e=zu();if(t)return t.setItem(e,"1"),t.removeItem(e),Y8()?Dc():!0}catch{return Cb()&&Dc()}return!1}function Cb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cg(){return(H8()||DC()||iP())&&!K8()&&sP()&&!Cb()}function oP(){return iP()&&typeof document<"u"}async function Q8(){return oP()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},j8);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function X8(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={LOCAL:"local",NONE:"none",SESSION:"session"},Bl=Q,aP="persistence";function J8(t,e){if(Bl(Object.values($n).includes(e),t,"invalid-persistence-type"),Ly()){Bl(e!==$n.SESSION,t,"unsupported-persistence-type");return}if(Af()){Bl(e===$n.NONE,t,"unsupported-persistence-type");return}if(Cb()){Bl(e===$n.NONE||e===$n.LOCAL&&Dc(),t,"unsupported-persistence-type");return}Bl(e===$n.NONE||sP(),t,"unsupported-persistence-type")}async function uv(t){await t._initializationPromise;const e=lP(),n=mo(aP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function Z8(t,e){const n=lP();if(!n)return[];const r=mo(aP,t,e);switch(n.getItem(r)){case $n.NONE:return[Xa];case $n.LOCAL:return[ru,ko];case $n.SESSION:return[ko];default:return[]}}function lP(){var t;try{return((t=X8())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK=Q;class is{constructor(){this.browserResolver=Hn(p8),this.cordovaResolver=Hn(U8),this.underlyingResolver=null,this._redirectPersistence=ko,this._completeRedirectFn=bm,this._overrideRedirectResult=Sb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return oP()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eK(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Q8();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){return t.unwrap()}function tK(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t){return uP(t)}function rK(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new iK(t,U9(t,e))}else if(r){const i=uP(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function uP(t){const{_tokenResponse:e}=t instanceof mn?t.customData:t;if(!e)return null;if(!(t instanceof mn)&&"temporaryProof"in e&&"phoneNumber"in e)return Ro.credentialFromResult(t);const n=e.providerId;if(!n||n===Vl.PASSWORD)return null;let r;switch(n){case Vl.GOOGLE:r=Dr;break;case Vl.FACEBOOK:r=Nr;break;case Vl.GITHUB:r=Or;break;case Vl.TWITTER:r=Lr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Ja._create(n,a):Zr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Ia(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof mn?r.credentialFromError(t):r.credentialFromResult(t)}function Rn(t,e){return e.catch(n=>{throw n instanceof mn&&rK(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:nK(n),additionalUserInfo:B9(n),user:fi.getOrCreate(i)}})}async function dv(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Rn(t,n.confirm(r))}}class iK{constructor(e,n){this.resolver=n,this.auth=tK(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Rn(cP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._delegate=e,this.multiFactor=j9(e)}static getOrCreate(e){return fi.USER_MAP.has(e)||fi.USER_MAP.set(e,new fi(e)),fi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Rn(this.auth,Vx(this._delegate,e))}async linkWithPhoneNumber(e,n){return dv(this.auth,_H(this._delegate,e,n))}async linkWithPopup(e){return Rn(this.auth,xH(this._delegate,e,is))}async linkWithRedirect(e){return await uv(Rt(this.auth)),BH(this._delegate,e,is)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Rn(this.auth,Bx(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return dv(this.auth,EH(this._delegate,e,n))}reauthenticateWithPopup(e){return Rn(this.auth,RH(this._delegate,e,is))}async reauthenticateWithRedirect(e){return await uv(Rt(this.auth)),FH(this._delegate,e,is)}sendEmailVerification(e){return k9(this._delegate,e)}async unlink(e){return await m9(this._delegate,e),this}updateEmail(e){return N9(this._delegate,e)}updatePassword(e){return D9(this._delegate,e)}updatePhoneNumber(e){return IH(this._delegate,e)}updateProfile(e){return P9(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return R9(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}fi.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=Q;class hv{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ul(r,"invalid-api-key",{appName:e.name}),Ul(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?is:void 0;this._delegate=n.initialize({options:{persistence:sK(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(y3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?fi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Y3(this._delegate,e,n)}applyActionCode(e){return w9(this._delegate,e)}checkActionCode(e){return Ux(this._delegate,e)}confirmPasswordReset(e,n){return y9(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Rn(this._delegate,_9(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return A9(this._delegate,e)}isSignInWithEmailLink(e){return S9(this._delegate,e)}async getRedirectResult(){Ul(Cg(),this._delegate,"operation-not-supported-in-this-environment");const e=await $H(this._delegate,is);return e?Rn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){$8(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=$I(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=$I(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return I9(this._delegate,e,n)}sendPasswordResetEmail(e,n){return v9(this._delegate,e,n||void 0)}async setPersistence(e){J8(this._delegate,e);let n;switch(e){case $n.SESSION:n=ko;break;case $n.LOCAL:n=await Hn(ru)._isAvailable()?ru:wb;break;case $n.NONE:n=Xa;break;default:return cn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Rn(this._delegate,f9(this._delegate))}signInWithCredential(e){return Rn(this._delegate,pm(this._delegate,e))}signInWithCustomToken(e){return Rn(this._delegate,p9(this._delegate,e))}signInWithEmailAndPassword(e,n){return Rn(this._delegate,E9(this._delegate,e,n))}signInWithEmailLink(e,n){return Rn(this._delegate,T9(this._delegate,e,n))}signInWithPhoneNumber(e,n){return dv(this._delegate,bH(this._delegate,e,n))}async signInWithPopup(e){return Ul(Cg(),this._delegate,"operation-not-supported-in-this-environment"),Rn(this._delegate,kH(this._delegate,e,is))}async signInWithRedirect(e){return Ul(Cg(),this._delegate,"operation-not-supported-in-this-environment"),await uv(this._delegate),LH(this._delegate,e,is)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return b9(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}hv.Persistence=$n;function $I(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&fi.getOrCreate(o)),error:e,complete:n}}function sK(t,e){const n=Z8(t,e);if(typeof self<"u"&&!n.includes(ru)&&n.push(ru),typeof window<"u")for(const r of[wb,ko])n.includes(r)||n.push(r);return n.includes(Xa)||n.push(Xa),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.providerId="phone",this._delegate=new Ro(cP(Li.auth()))}static credential(e,n){return Ro.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Ab.PHONE_SIGN_IN_METHOD=Ro.PHONE_SIGN_IN_METHOD;Ab.PROVIDER_ID=Ro.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=Q;class aK{constructor(e,n,r=Li.app()){var i;oK((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new yH(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK="auth-compat";function cK(t){t.INTERNAL.registerComponent(new cr(lK,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new hv(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ea.EMAIL_SIGNIN,PASSWORD_RESET:ea.PASSWORD_RESET,RECOVER_EMAIL:ea.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ea.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ea.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ea.VERIFY_EMAIL}},EmailAuthProvider:Os,FacebookAuthProvider:Nr,GithubAuthProvider:Or,GoogleAuthProvider:Dr,OAuthProvider:Ia,SAMLAuthProvider:Lh,PhoneAuthProvider:Ab,PhoneMultiFactorGenerator:rP,RecaptchaVerifier:aK,TwitterAuthProvider:Lr,Auth:hv,AuthCredential:wl,Error:mn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(z8,q8)}cK(Li);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firebasestorage.googleapis.com",hP="storageBucket",uK=2*60*1e3,dK=10*60*1e3,hK=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends mn{constructor(e,n,r=0){super(Ag(e),`Firebase Storage: ${n} (${Ag(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ht||(ht={}));function Ag(t){return"storage/"+t}function kb(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(ht.UNKNOWN,t)}function fK(t){return new wt(ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function mK(t){return new wt(ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(ht.UNAUTHENTICATED,t)}function pK(){return new wt(ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vK(t){return new wt(ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fP(){return new wt(ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mP(){return new wt(ht.CANCELED,"User canceled the upload/download.")}function yK(t){return new wt(ht.INVALID_URL,"Invalid URL '"+t+"'.")}function wK(t){return new wt(ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bK(){return new wt(ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hP+"' property when initializing the app?")}function gP(){return new wt(ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _K(){return new wt(ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function EK(){return new wt(ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function IK(t){return new wt(ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ca(t){return new wt(ht.INVALID_ARGUMENT,t)}function pP(){return new wt(ht.APP_DELETED,"The Firebase app was deleted.")}function vP(t){return new wt(ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mc(t,e){return new wt(ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $l(t){throw new wt(ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=fn.makeFromUrl(e,n)}catch{return new fn(e,"")}if(r.path==="")return r;throw wK(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${u}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},p=n===dP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",y=new RegExp(`^https?://${p}/${i}/${w}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:f,indices:g,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<v.length;T++){const S=v[T],A=S.regex.exec(e);if(A){const C=A[S.indices.bucket];let E=A[S.indices.path];E||(E=""),r=new fn(C,E),S.postModify(r);break}}if(r==null)throw yK(e);return r}}class SK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...w){c||(c=!0,e.apply(null,w))}function d(w){i=setTimeout(()=>{i=null,t(f,l())},w)}function h(){s&&clearTimeout(s)}function f(w,...y){if(c){h();return}if(w){h(),u.call(null,w,...y);return}if(l()||o){h(),u.call(null,w,...y);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let g=!1;function p(w){g||(g=!0,h(),!c&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,p(!0)},n),p}function CK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(t){return t!==void 0}function kK(t){return typeof t=="function"}function RK(t){return typeof t=="object"&&!Array.isArray(t)}function _m(t){return typeof t=="string"||t instanceof String}function zI(t){return Rb()&&t instanceof Blob}function Rb(){return typeof Blob<"u"&&!Af()}function fv(t,e,n,r){if(r<e)throw Ca(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ca(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function yP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var po;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(po||(po={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(e,n,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new vd(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===po.NO_ERROR,l=s.getStatus();if(!a||wP(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===po.ABORT;r(!1,new vd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new vd(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());AK(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=kb();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?pP():mP();o(l)}else{const l=fP();o(l)}};this.canceled_?n(!1,new vd(!1,null,!0)):this.backoffId_=TK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function PK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function OK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LK(t,e,n,r,i,s,o=!0){const a=yP(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return DK(c,e),PK(c,n),NK(c,s),OK(c,r),new xK(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function FK(...t){const e=MK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Rb())return new Blob(t);throw new wt(ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(t){if(typeof atob>"u")throw IK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kg{constructor(e,n){this.data=e,this.contentType=n||null}}function bP(t,e){switch(t){case rr.RAW:return new kg(_P(e));case rr.BASE64:case rr.BASE64URL:return new kg(EP(t,e));case rr.DATA_URL:return new kg($K(e),zK(e))}throw kb()}function _P(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function UK(t){let e;try{e=decodeURIComponent(t)}catch{throw mc(rr.DATA_URL,"Malformed data URL.")}return _P(e)}function EP(t,e){switch(t){case rr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw mc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case rr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw mc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BK(e)}catch(i){throw i.message.includes("polyfill")?i:mc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class IP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw mc(rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=qK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function $K(t){const e=new IP(t);return e.base64?EP(rr.BASE64,e.rest):UK(e.rest)}function zK(t){return new IP(t).contentType}function qK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n){let r=0,i="";zI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(zI(this.data_)){const r=this.data_,i=VK(r,e,n);return i===null?null:new li(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new li(r,!0)}}static getBlob(...e){if(Rb()){const n=e.map(r=>r instanceof li?r.data_:r);return new li(FK.apply(null,n))}else{const n=e.map(o=>_m(o)?bP(rr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new li(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){let e;try{e=JSON.parse(t)}catch{return null}return RK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function SP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t,e){return e}class wn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||KK}}let yd=null;function GK(t){return!_m(t)||t.length<2?t:SP(t)}function Em(){if(yd)return yd;const t=[];t.push(new wn("bucket")),t.push(new wn("generation")),t.push(new wn("metageneration")),t.push(new wn("name","fullPath",!0));function e(s,o){return GK(o)}const n=new wn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new wn("size");return i.xform=r,t.push(i),t.push(new wn("timeCreated")),t.push(new wn("updated")),t.push(new wn("md5Hash",null,!0)),t.push(new wn("cacheControl",null,!0)),t.push(new wn("contentDisposition",null,!0)),t.push(new wn("contentEncoding",null,!0)),t.push(new wn("contentLanguage",null,!0)),t.push(new wn("contentType",null,!0)),t.push(new wn("metadata","customMetadata",!0)),yd=t,yd}function WK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new fn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function YK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return WK(r,t),r}function TP(t,e,n){const r=xb(e);return r===null?null:YK(t,r,n)}function QK(t,e,n,r){const i=xb(e);if(i===null||!_m(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,h="/b/"+o(u)+"/o/"+o(d),f=Ls(h,n,r),g=yP({alt:"media",token:c});return f+g})[0]}function Pb(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="prefixes",jI="items";function XK(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[qI])for(const i of n[qI]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new fn(e,s));r.prefixes.push(o)}if(n[jI])for(const i of n[jI]){const s=t._makeStorageReference(new fn(e,i.name));r.items.push(s)}return r}function JK(t,e,n){const r=xb(n);return r===null?null:XK(t,e,r)}class $i{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){if(!t)throw kb()}function Im(t,e){function n(r,i){const s=TP(t,i,e);return Gr(s!==null),s}return n}function ZK(t,e){function n(r,i){const s=JK(t,e,i);return Gr(s!==null),s}return n}function eG(t,e){function n(r,i){const s=TP(t,i,e);return Gr(s!==null),QK(s,i,t.host,t._protocol)}return n}function _l(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=pK():i=gK():n.getStatus()===402?i=mK(t.bucket):n.getStatus()===403?i=vK(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Sm(t){const e=_l(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=fK(t.path)),s.serverResponse=i.serverResponse,s}return n}function CP(t,e,n){const r=e.fullServerUrl(),i=Ls(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $i(i,s,Im(t,n),o);return a.errorHandler=Sm(e),a}function tG(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=Ls(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new $i(a,l,ZK(t,e.bucket),c);return u.urlParams=s,u.errorHandler=_l(e),u}function nG(t,e,n){const r=e.fullServerUrl(),i=Ls(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new $i(i,s,eG(t,n),o);return a.errorHandler=Sm(e),a}function rG(t,e,n,r){const i=e.fullServerUrl(),s=Ls(i,t.host,t._protocol),o="PATCH",a=Pb(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,u=new $i(s,o,Im(t,r),c);return u.headers=l,u.body=a,u.errorHandler=Sm(e),u}function iG(t,e){const n=e.fullServerUrl(),r=Ls(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new $i(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Sm(e),a}function sG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AP(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sG(null,e)),r}function oG(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let T=0;T<2;T++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=AP(e,r,i),u=Pb(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=li.getBlob(d,r,h);if(f===null)throw gP();const g={name:c.fullPath},p=Ls(s,t.host,t._protocol),w="POST",y=t.maxUploadRetryTime,b=new $i(p,w,Im(t,n),y);return b.urlParams=g,b.headers=o,b.body=f.uploadData(),b.errorHandler=_l(e),b}class Bh{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Nb(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Gr(!1)}return Gr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function aG(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=AP(e,r,i),a={name:o.fullPath},l=Ls(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=Pb(o,n),h=t.maxUploadRetryTime;function f(p){Nb(p);let w;try{w=p.getResponseHeader("X-Goog-Upload-URL")}catch{Gr(!1)}return Gr(_m(w)),w}const g=new $i(l,c,f,h);return g.urlParams=a,g.headers=u,g.body=d,g.errorHandler=_l(e),g}function lG(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=Nb(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gr(!1)}d||Gr(!1);const h=Number(d);return Gr(!isNaN(h)),new Bh(h,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new $i(n,o,s,a);return l.headers=i,l.errorHandler=_l(e),l}const HI=256*1024;function cG(t,e,n,r,i,s,o,a){const l=new Bh(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw _K();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";u===0?f="finalize":c===u?f="upload, finalize":f="upload";const g={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},p=r.slice(d,h);if(p===null)throw gP();function w(T,S){const A=Nb(T,["active","final"]),C=l.current+u,E=r.size();let R;return A==="final"?R=Im(e,s)(T,S):R=null,new Bh(C,E,A==="final",R)}const y="POST",b=e.maxUploadRetryTime,v=new $i(n,y,w,b);return v.headers=g,v.body=p.uploadData(),v.progressCallback=a||null,v.errorHandler=_l(t),v}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG={STATE_CHANGED:"state_changed"},In={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Rg(t){switch(t){case"running":case"pausing":case"canceling":return In.RUNNING;case"paused":return In.PAUSED;case"success":return In.SUCCESS;case"canceled":return In.CANCELED;case"error":return In.ERROR;default:return In.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e,n,r){if(kK(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class hG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=po.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=po.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=po.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw $l("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $l("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $l("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $l("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $l("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fG extends hG{initXhr(){this.xhr_.responseType="text"}}function Mr(){return new fG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Em(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(wP(i.status,[]))if(s)i=fP();else{this.sleepTime=Math.max(this.sleepTime*2,hK),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(ht.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=aG(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Mr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=lG(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Mr,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=HI*this._chunkMultiplier,n=new Bh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=cG(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Mr,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){HI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=CP(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Mr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=oG(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Mr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=mP(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Rg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new dG(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Rg(this._state)){case In.SUCCESS:ta(this._resolve.bind(null,this.snapshot))();break;case In.CANCELED:case In.ERROR:const n=this._reject;ta(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Rg(this._state)){case In.RUNNING:case In.PAUSED:e.next&&ta(e.next.bind(e,this.snapshot))();break;case In.SUCCESS:e.complete&&ta(e.complete.bind(e))();break;case In.CANCELED:case In.ERROR:e.error&&ta(e.error.bind(e,this._error))();break;default:e.error&&ta(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this._service=e,n instanceof fn?this._location=n:this._location=fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Po(e,n)}get root(){const e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SP(this._location.path)}get storage(){return this._service}get parent(){const e=jK(this._location.path);if(e===null)return null;const n=new fn(this._location.bucket,e);return new Po(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vP(e)}}function mG(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new kP(t,new li(e),n)}function gG(t){const e={prefixes:[],items:[]};return RP(t,e).then(()=>e)}async function RP(t,e,n){const i=await xP(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await RP(t,e,i.nextPageToken)}function xP(t,e){e!=null&&typeof e.maxResults=="number"&&fv("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=tG(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Mr)}function pG(t){t._throwIfRoot("getMetadata");const e=CP(t.storage,t._location,Em());return t.storage.makeRequestWithTokens(e,Mr)}function vG(t,e){t._throwIfRoot("updateMetadata");const n=rG(t.storage,t._location,e,Em());return t.storage.makeRequestWithTokens(n,Mr)}function yG(t){t._throwIfRoot("getDownloadURL");const e=nG(t.storage,t._location,Em());return t.storage.makeRequestWithTokens(e,Mr).then(n=>{if(n===null)throw EK();return n})}function wG(t){t._throwIfRoot("deleteObject");const e=iG(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Mr)}function PP(t,e){const n=HK(t._location.path,e),r=new fn(t._location.bucket,n);return new Po(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t){return/^[A-Za-z]+:\/\//.test(t)}function _G(t,e){return new Po(t,e)}function NP(t,e){if(t instanceof Db){const n=t;if(n._bucket==null)throw bK();const r=new Po(n,n._bucket);return e!=null?NP(r,e):r}else return e!==void 0?PP(t,e):t}function EG(t,e){if(e&&bG(e)){if(t instanceof Db)return _G(t,e);throw Ca("To use ref(service, url), the first argument must be a Storage instance.")}else return NP(t,e)}function KI(t,e){const n=e==null?void 0:e[hP];return n==null?null:fn.makeFromBucketSpec(n,t)}function IG(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:NC(i,t.app.options.projectId))}class Db{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=dP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uK,this._maxUploadRetryTime=dK,this._requests=new Set,i!=null?this._bucket=fn.makeFromBucketSpec(i,this._host):this._bucket=KI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=KI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Po(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new SK(pP());{const o=LK(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const GI="@firebase/storage",WI="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG="storage";function TG(t,e,n){return t=me(t),mG(t,e,n)}function CG(t){return t=me(t),pG(t)}function AG(t,e){return t=me(t),vG(t,e)}function kG(t,e){return t=me(t),xP(t,e)}function RG(t){return t=me(t),gG(t)}function xG(t){return t=me(t),yG(t)}function PG(t){return t=me(t),wG(t)}function YI(t,e){return t=me(t),EG(t,e)}function NG(t,e){return PP(t,e)}function DG(t,e,n,r={}){IG(t,e,n,r)}function OG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Db(n,r,i,e,Oi)}function LG(){Ei(new cr(SG,OG,"PUBLIC").setMultipleInstances(!0)),or(GI,WI,""),or(GI,WI,"esm2017")}LG();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new wd(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new wd(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new wd(o,this,this._ref)):s={next:n.next?o=>n.next(new wd(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class XI{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new vi(e,this._service))}get items(){return this._delegate.items.map(e=>new vi(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=NG(this._delegate,e);return new vi(n,this.storage)}get root(){return new vi(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new vi(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new QI(TG(this._delegate,e,n),this)}putString(e,n=rr.RAW,r){this._throwIfRoot("putString");const i=bP(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new QI(new kP(this._delegate,new li(i.data,!0),s),this)}listAll(){return RG(this._delegate).then(e=>new XI(e,this.storage))}list(e){return kG(this._delegate,e||void 0).then(n=>new XI(n,this.storage))}getMetadata(){return CG(this._delegate)}updateMetadata(e){return AG(this._delegate,e)}getDownloadURL(){return xG(this._delegate)}delete(){return this._throwIfRoot("delete"),PG(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw vP(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(JI(e))throw Ca("ref() expected a child path but got a URL, use refFromURL instead.");return new vi(YI(this._delegate,e),this)}refFromURL(e){if(!JI(e))throw Ca("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fn.makeFromUrl(e,this._delegate.host)}catch{throw Ca("refFromUrl() expected a valid full URL but got an invalid one.")}return new vi(YI(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){DG(this._delegate,e,n,r)}}function JI(t){return/^[A-Za-z]+:\/\//.test(t)}const MG="@firebase/storage-compat",FG="0.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="storage-compat";function BG(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new DP(n,r)}function UG(t){const e={TaskState:In,TaskEvent:uG,StringFormat:rr,Storage:DP,Reference:vi};t.INTERNAL.registerComponent(new cr(VG,BG,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(MG,FG)}UG(Li);const $G={apiKey:"AIzaSyD-JsCFJ7N-h3NjkXAYzSnd1KlQ0t05WwQ",authDomain:"syncmeets.firebaseapp.com",projectId:"syncmeets",storageBucket:"syncmeets.appspot.com",messagingSenderId:"915043770421",appId:"1:915043770421:web:d0c8ec5b0a83bb43a2917c",measurementId:"G-5E6ZWLCZST"};Li.initializeApp($G);const zG=Do("v-alert-title"),qG=["success","info","warning","error"],mv=ve()({name:"VAlert",props:{border:{type:[Boolean,String],validator:t=>typeof t=="boolean"||["top","end","bottom","start"].includes(t)},borderColor:String,closable:Boolean,closeIcon:{type:Qe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:t=>qG.includes(t)},...Se(),...Cr(),...Ri(),...Xn(),...lu(),...uf(),...yn(),...ft(),...xt(),...Pi({variant:"flat"})},emits:{"click:close":t=>!0,"update:modelValue":t=>!0},setup(t,e){let{emit:n,slots:r}=e;const i=Lt(t,"modelValue"),s=I(()=>{if(t.icon!==!1)return t.type?t.icon??`$${t.type}`:t.icon}),o=I(()=>({color:t.color??t.type,variant:t.variant})),{themeClasses:a}=Mt(t),{colorClasses:l,colorStyles:c,variantClasses:u}=il(o),{densityClasses:d}=ti(t),{dimensionStyles:h}=xi(t),{elevationClasses:f}=dr(t),{locationStyles:g}=cu(t),{positionClasses:p}=df(t),{roundedClasses:w}=Cn(t),{textColorClasses:y,textColorStyles:b}=Qr(_e(t,"borderColor")),{t:v}=nf(),T=I(()=>({"aria-label":v(t.closeLabel),onClick(S){i.value=!1,n("click:close",S)}}));return()=>{const S=!!(r.prepend||s.value),A=!!(r.title||t.title),C=!!(t.text||r.text),E=!!(r.close||t.closable);return i.value&&m(t.tag,{class:["v-alert",t.border&&{"v-alert--border":!!t.border,[`v-alert--border-${t.border===!0?"start":t.border}`]:!0},{"v-alert--prominent":t.prominent},a.value,l.value,d.value,f.value,p.value,w.value,u.value,t.class],style:[c.value,h.value,g.value,t.style],role:"alert"},{default:()=>{var R,O;return[rl(!1,"v-alert"),t.border&&m("div",{key:"border",class:["v-alert__border",y.value],style:b.value},null),S&&m("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?m(Ot,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:t.density,icon:s.value,size:t.prominent?44:28}}},r.prepend):m(Vt,{key:"prepend-icon",density:t.density,icon:s.value,size:t.prominent?44:28},null)]),m("div",{class:"v-alert__content"},[A&&m(zG,{key:"title"},{default:()=>{var F;return[((F=r.title)==null?void 0:F.call(r))??t.title]}}),C&&(((R=r.text)==null?void 0:R.call(r))??t.text),(O=r.default)==null?void 0:O.call(r)]),r.append&&m("div",{key:"append",class:"v-alert__append"},[r.append()]),E&&m("div",{key:"close",class:"v-alert__close"},[r.close?m(Ot,{key:"close-defaults",defaults:{VBtn:{icon:t.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var F;return[(F=r.close)==null?void 0:F.call(r,{props:T.value})]}}):m(et,Ke({key:"close-btn",icon:t.closeIcon,size:"x-small",variant:"text"},T.value),null)])]}})}}}),OP=ve()({name:"VForm",props:{...Se(),..._B()},emits:{"update:modelValue":t=>!0,submit:t=>!0},setup(t,e){let{slots:n,emit:r}=e;const i=EB(t),s=z();function o(l){l.preventDefault(),i.reset()}function a(l){const c=l,u=i.validate();c.then=u.then.bind(u),c.catch=u.catch.bind(u),c.finally=u.finally.bind(u),r("submit",c),c.defaultPrevented||u.then(d=>{var f;let{valid:h}=d;h&&((f=s.value)==null||f.submit())}),c.preventDefault()}return Ee(()=>{var l;return m("form",{ref:s,class:["v-form",t.class],style:t.style,novalidate:!0,onReset:o,onSubmit:a},[(l=n.default)==null?void 0:l.call(n,i)])}),mu(i,s)}}),jG={data:()=>({valid:!0,name:"",nameRules:[t=>!!t||"Name is required",t=>t&&t.length<=10||"Name must be less than 10 characters"],email:"",emailRules:[t=>!!t||"",t=>/.+@.+\..+/.test(t)||""],password:"",message:"",errorMessage:""}),mounted(){localStorage.message&&(this.message=localStorage.message,localStorage.message="")},computed:{isValid(){return console.log("isValid",this.valid),!this.valid}},methods:{validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},submit(){console.log("submit call"),Li.auth().signInWithEmailAndPassword(this.email,this.password).then(t=>{this.readUser(t.user.uid),this.$router.push("/myevent")}).catch(t=>{console.log("error",t),this.errorMessage=""})},async readUser(t){await jr.get(`user/${t}`).then(e=>{const n={name:e.data.username,email:e.data.email,uid:e.data.uid,icon:e.data.profile_icon};sessionStorage.setItem("user",JSON.stringify(n))})}}},HG={class:"login-box"};function KG(t,e,n,r,i,s){return Ge(),Bt(Lo,null,{default:x(()=>[m(ou,null,{default:x(()=>[Ce("div",HG,[m(xn,{class:"login-form"},{default:x(()=>[m(Fo,{class:"login-title"},{default:x(()=>[ke("Signin")]),_:1}),m(fu,null,{default:x(()=>[ke("")]),_:1}),m(et,{to:"/signup",class:"to-signup"},{default:x(()=>[ke("")]),_:1}),m(OP,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":e[2]||(e[2]=o=>t.valid=o),"lazy-validation":""},{default:x(()=>[m(Zt,{modelValue:t.email,"onUpdate:modelValue":e[0]||(e[0]=o=>t.email=o),rules:t.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"]),m(Zt,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=o=>t.password=o),type:"password",label:"Password"},null,8,["modelValue"]),m(et,{color:"success",class:"login-btn",onClick:s.submit,disabled:s.isValid},{default:x(()=>[ke(" LOGIN ")]),_:1},8,["onClick","disabled"]),m(et,null,{default:x(()=>[ke(" CLEAR ")]),_:1}),t.message?(Ge(),Bt(mv,{key:0,dense:"",text:"",type:"success",class:"success-message"},{default:x(()=>[ke(dn(t.message),1)]),_:1})):ka("",!0),t.errorMessage?(Ge(),Bt(mv,{key:1,dense:"",outlined:"",type:"error",class:"error-message"},{default:x(()=>[ke(dn(t.errorMessage),1)]),_:1})):ka("",!0)]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})}const GG=Vn(jG,[["render",KG],["__scopeId","data-v-e242c05e"]]);const WG={data:()=>({valid:!0,name:"",nameRules:[t=>!!t||"",t=>t&&t.length<=10||"10"],email:"",emailRules:[t=>!!t||"",t=>/.+@.+\..+/.test(t)||""],password:"",errorMessage:""}),computed:{isValid(){return console.log("isValid",this.valid),!this.valid}},methods:{validate(){this.$refs.form.validate()},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()},submit(){console.log("submit call"),Li.auth().createUserWithEmailAndPassword(this.email,this.password).then(async t=>{this.createUser(t.user.uid),await t.user.updateProfile({displayName:this.name}),localStorage.message="",this.$router.push("/signin")}).catch(t=>{console.log("fail",t),this.errorMessage=""})},async createUser(t){await jr.post("user",{uid:t,username:this.name,email:this.email,profile_icon:""}).then(e=>{const n={name:e.data.username,email:e.data.email,uid:e.data.uid,icon:e.data.profile_icon};sessionStorage.setItem("user",JSON.stringify(n))})}}},YG={class:"login-box"};function QG(t,e,n,r,i,s){return Ge(),Bt(Lo,null,{default:x(()=>[Ce("div",YG,[m(xn,{class:"login-form"},{default:x(()=>[m(Fo,{class:"login-title"},{default:x(()=>[ke("SignUp")]),_:1}),m(fu,null,{default:x(()=>[ke("")]),_:1}),m(et,{text:"",class:"to-login",to:"/signin"},{default:x(()=>[ke("")]),_:1}),m(OP,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":e[3]||(e[3]=o=>t.valid=o),"lazy-validation":""},{default:x(()=>[m(Zt,{modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.name=o),rules:t.nameRules,label:"UserName",required:""},null,8,["modelValue","rules"]),m(Zt,{modelValue:t.email,"onUpdate:modelValue":e[1]||(e[1]=o=>t.email=o),rules:t.emailRules,label:"E-mail",required:""},null,8,["modelValue","rules"]),m(Zt,{modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=o=>t.password=o),type:"password",label:"Password"},null,8,["modelValue"]),m(et,{color:"success",class:"login-btn",onClick:s.submit,disabled:s.isValid},{default:x(()=>[ke(" SIGN UP ")]),_:1},8,["onClick","disabled"]),m(et,null,{default:x(()=>[ke(" CLEAR ")]),_:1}),t.errorMessage?(Ge(),Bt(mv,{key:0,dense:"",outlined:"",type:"error",class:"error-message"},{default:x(()=>[ke(dn(t.errorMessage),1)]),_:1})):ka("",!0)]),_:1},8,["modelValue"])]),_:1})])]),_:1})}const XG=Vn(WG,[["render",QG],["__scopeId","data-v-a1f2dce6"]]);const JG={},ZG={class:"main"},eW=Ce("h2",{class:"subtitle"},"",-1),tW=Ce("h1",{class:"app-name"},"Sync Meets",-1),nW=Ce("h2",null," Sync Meat ",-1);function rW(t,e){return Ge(),Bt(Lo,null,{default:x(()=>[Ce("div",ZG,[eW,tW,nW,m(ds,{class:"btn-area"},{default:x(()=>[m(tr,null,{default:x(()=>[m(rt,{cols:"3",offset:"3"},{default:x(()=>[m(et,{block:"",color:"#5E35B1",variant:"tonal",to:"/signup"},{default:x(()=>[ke(" Sign Up ")]),_:1})]),_:1}),m(rt,{cols:"3"},{default:x(()=>[m(et,{block:"",color:"#5E35B1",variant:"tonal",to:"/signin"},{default:x(()=>[ke(" Sign In ")]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})}const iW=Vn(JG,[["render",rW]]),sW={data:()=>({follower_uid:""}),methods:{async createFriend(){const e=JSON.parse(sessionStorage.getItem("user")).uid;await jr.post(`friend/${e}`,{follower_uid:this.follower_uid}).then(n=>{console.log("ok"),console.log(n.data)}).catch(n=>{console.log("ng"),console.log(n)})}},mounted(){this.follower_uid=this.$route.params.uid,this.createFriend()}};function oW(t,e,n,r,i,s){return Ge(),wr("div",null,"test")}const aW=Vn(sW,[["render",oW]]),lW=[{path:"/",name:"Top",component:iW},{path:"/myevent",name:"MyEvent",component:YB},{path:"/myfriend",name:"MyFriend",component:uU},{path:"/myprofile",name:"MyProfile",component:w$},{path:"/signin",name:"SignIn",component:GG},{path:"/signup",name:"SignUp",component:XG},{path:"/friend/:uid",name:"Friend",component:aW}],cW=wM({history:LL(),routes:lW});function uW(t){let e=[];const n=[],r=LP(t),i=MP(t);for(let s=0;s<r.getDay();s++)e.push(null);for(let s=1;s<=i.getDate();s++){const o=new Date(t.getFullYear(),t.getMonth(),s);e.push(o),e.length===7&&(n.push(e),e=[])}for(let s=e.length;s<7;s++)e.push(null);return n.push(e),n}function LP(t){return new Date(t.getFullYear(),t.getMonth(),1)}function MP(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function dW(t){if(t==null)return null;if(t instanceof Date)return t;if(typeof t=="string"){const e=Date.parse(t);if(!isNaN(e))return new Date(e)}return null}const hW={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:0,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:0,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0},ZI=new Date(2e3,0,2);function fW(t){const e=hW[t.slice(-2).toUpperCase()];return zv(7).map(n=>{const r=new Date(ZI);return r.setDate(ZI.getDate()+e+n),new Intl.DateTimeFormat(t,{weekday:"long"}).format(r)})}function mW(t,e,n){const r=new Date(t);let i={};switch(e){case"fullDateWithWeekday":i={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":i={weekday:"short",day:"numeric",month:"short",year:"numeric"};break;case"keyboardDate":i={};break;case"monthAndDate":i={month:"long",day:"numeric"};break;case"monthAndYear":i={month:"long",year:"numeric"};break;default:i={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,i).format(r)}function gW(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function pW(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),n}function vW(t){return t.getFullYear()}function yW(t){return t.getMonth()}function wW(t){return new Date(t.getFullYear(),0,1)}function bW(t){return new Date(t.getFullYear(),11,31)}function xg(t){return new Date(t,0,1)}function _W(t){let e=t.getFullYear(),n=xg(e);if(t<n)e=e-1,n=xg(e);else{const s=xg(e+1);t>=s&&(e=e+1,n=s)}const r=Math.abs(t.getTime()-n.getTime()),i=Math.ceil(r/(1e3*60*60*24));return Math.floor(i/7)+1}function EW(t,e){return FP(t,e[0])&&SW(t,e[1])}function IW(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function FP(t,e){return t.getTime()>e.getTime()}function SW(t,e){return t.getTime()<e.getTime()}function TW(t,e){return t.getTime()===e.getTime()}function CW(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function AW(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function kW(t,e,n){const r=new Date(t),i=new Date(e);return n==="month"?r.getMonth()-i.getMonth()+(r.getFullYear()-i.getFullYear())*12:Math.floor((r.getTime()-i.getTime())/(1e3*60*60*24))}function RW(t,e){const n=new Date(t);return n.setFullYear(e),n}class xW{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en";this.locale=e}date(e){return dW(e)}addDays(e,n){return gW(e,n)}addMonths(e,n){return pW(e,n)}getWeekArray(e){return uW(e)}startOfMonth(e){return LP(e)}endOfMonth(e){return MP(e)}format(e,n){return mW(e,n,this.locale)}isEqual(e,n){return TW(e,n)}isValid(e){return IW(e)}isWithinRange(e,n){return EW(e,n)}isAfter(e,n){return FP(e,n)}isSameDay(e,n){return CW(e,n)}isSameMonth(e,n){return AW(e,n)}setYear(e,n){return RW(e,n)}getDiff(e,n,r){return kW(e,n,r)}getWeek(e){return _W(e)}getWeekdays(){return fW(this.locale)}getYear(e){return vW(e)}getMonth(e){return yW(e)}startOfYear(e){return wW(e)}endOfYear(e){return bW(e)}}const eS=Symbol.for("vuetify:date-adapter");function PW(t){return t??{adapter:xW}}function VP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...n}=t,r=bi(e,n),{aliases:i={},components:s={},directives:o={}}=r,a=zO(r.defaults),l=XV(r.display,r.ssr),c=lL(r.theme),u=SM(r.icons),d=fL(r.locale),h=PW(r.date);return{install:g=>{for(const p in o)g.directive(p,o[p]);for(const p in s)g.component(p,s[p]);for(const p in i)g.component(p,Tr({...i[p],name:p,aliasName:i[p].name}));if(c.install(g),g.provide(Tc,a),g.provide(mp,l),g.provide(Zd,c),g.provide(Zg,u),g.provide(eh,d),g.provide(eS,h),kt&&r.ssr)if(g.$nuxt)g.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:p}=g;g.mount=function(){const w=p(...arguments);return Ht(()=>l.update()),g.mount=p,w}}Cs.reset(),g.mixin({computed:{$vuetify(){return tn({defaults:na.call(this,Tc),display:na.call(this,mp),theme:na.call(this,Zd),icons:na.call(this,Zg),locale:na.call(this,eh),date:na.call(this,eS)})}}})},defaults:a,display:l,theme:c,icons:u,locale:d,date:h}}const NW="3.2.1";VP.version=NW;function na(t){var r,i;const e=this.$,n=((r=e.parent)==null?void 0:r.provides)??((i=e.vnode.appContext)==null?void 0:i.provides);if(n&&t in n)return n[t]}const DW=VP(),OW="modulepreload",LW=function(t){return"/eventCard-client/"+t},tS={},MW=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=LW(s),s in tS)return;tS[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":OW,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};async function FW(){(await MW(()=>import("./webfontloader-2a4655c2.js").then(e=>e.w),[])).load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}jr.defaults.baseURL="http://localhost:8888/";jr.defaults.withCredentials=!0;FW();hO(vL).use(cW).use(DW).mount("#app");
